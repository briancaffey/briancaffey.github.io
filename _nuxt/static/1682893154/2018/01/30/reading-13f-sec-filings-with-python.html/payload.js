__NUXT_JSONP__("/2018/01/30/reading-13f-sec-filings-with-python.html", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax,ay,az,aA,aB,aC,aD,aE,aF,aG,aH,aI,aJ,aK,aL,aM,aN,aO,aP,aQ,aR,aS,aT,aU,aV,aW,aX,aY,aZ,a_,a$,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs){return {data:[{article:{slug:"reading-13f-sec-filings-with-python.html",layout:"post",title:"Reading 13F SEC filings with python",date:"2018-01-30T00:00:00.000Z",comments:true,image:"\u002Fstatic\u002Fsec.jpg",tags:["sec","python","data","scraping"],toc:[{id:an,depth:2,text:ao}],body:{type:"root",children:[{type:b,tag:t,props:{},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"Update"}]},{type:a,value:": This project has been updated, please see "},{type:b,tag:"nuxt-link",props:{to:"\u002F2020\u002F11\u002F29\u002Fweekend-project-update-open-sec-data"},children:[{type:a,value:"this article"}]},{type:a,value:" to read about the most recent updates."}]},{type:a,value:m},{type:b,tag:"ul",props:{},children:[{type:a,value:m},{type:b,tag:ab,props:{},children:[{type:b,tag:C,props:{href:ap,rel:[G,H,I],target:J},children:[{type:a,value:ap}]},{type:a,value:" (project staging website, deployed to docker swarm cluster running on DigitalOcean)"}]},{type:a,value:m},{type:b,tag:ab,props:{},children:[{type:b,tag:C,props:{href:aq,rel:[G,H,I],target:J},children:[{type:a,value:aq}]},{type:a,value:" (main repository, requires GitLab account)"}]},{type:a,value:m},{type:b,tag:ab,props:{},children:[{type:b,tag:C,props:{href:ar,rel:[G,H,I],target:J},children:[{type:a,value:ar}]},{type:a,value:" (mirror, no account required to view)"}]},{type:a,value:m}]},{type:a,value:m},{type:b,tag:as,props:{},children:[{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"The SEC Form 13F is a filing with the Securities and Exchange Commission (SEC) also known as the Information Required of Institutional Investment Managers Form. It is a quarterly filing required of institutional investment managers with over $100 million in qualifying assets. -"},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.investopedia.com\u002Fterms\u002Ff\u002Fform-13f.asp",rel:[G,H,I],target:J},children:[{type:a,value:"Investopedia"}]}]},{type:a,value:m}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"In this article I will show how to collect and parse 13F filing data from the SEC."}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"First, use "},{type:b,tag:C,props:{href:"https:\u002F\u002Fwww.sec.gov\u002Fedgar\u002Fsearchedgar\u002Fcompanysearch.html",rel:[G,H,I],target:J},children:[{type:a,value:"EDGAR"}]},{type:a,value:" to search the company of interest."}]},{type:a,value:m},{type:b,tag:as,props:{},children:[{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"EDGAR, the Electronic Data Gathering, Analysis, and Retrieval system, performs automated collection, validation, indexing, acceptance, and forwarding of submissions by companies and others who are required by law to file forms with the U.S. Securities and Exchange Commission (the \"SEC\"). -"},{type:b,tag:C,props:{href:"https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEDGAR",rel:[G,H,I],target:J},children:[{type:a,value:"Wikipedia"}]}]},{type:a,value:m}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"Click on the Central Index Key (CIK) of the company you are search for, and then click on "},{type:b,tag:v,props:{},children:[{type:a,value:"Documents"}]},{type:a,value:j}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"You'll want to grab the HTML version of the "},{type:b,tag:v,props:{},children:[{type:a,value:"Information Table"}]},{type:a,value:". I have saved them in a folder with their file names cooresponding to their dates ("},{type:b,tag:v,props:{},children:[{type:a,value:"YYYY-MM-DD"}]},{type:a,value:" format)."}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"For this example, I have manually collected the files for a few years of data filed by a hedge fund. Here are the files I'll be working with:"}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,K]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"files "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" os"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"listdir"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"print"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" sep"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\"\\n\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:m}]}]}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"2014-02-14.html\n2014-05-15.html\n2014-08-14.html\n2014-11-14.html\n2015-02-17.html\n2015-05-14.html\n2015-08-14.html\n2015-11-12.html\n2016-02-16.html\n2016-05-16.html\n2016-08-12.html\n2016-11-14.html\n2017-02-14.html\n2017-05-15.html\n2017-08-10.html\n2017-10-30.html\n"}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"Here's a quick script we can use to parse information from each filing document:"}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,K]},children:[{type:b,tag:v,props:{},children:[{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:at}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,au]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aN}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:a_}]},{type:a,value:a$}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"Using this function we can get a quick snapshot of this hedge fund by filing total over the last 4 years:"}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,K]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"fund_growth "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"sum"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"VALUE"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\ndates "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:"f"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'.html'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:" f "},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"10"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'Total Fund Size'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'Filing Date'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'USD'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"dates"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" fund_growth"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"yticks"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"rotation"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'vertical'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:m}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:b,tag:bi,props:{alt:bj,src:"\u002Fstatic\u002Ffund_size.png"},children:[]}]},{type:a,value:m},{type:b,tag:"h2",props:{id:an},children:[{type:b,tag:C,props:{href:"#fund-positions-with-bubble-chart",ariaHidden:"true",tabIndex:-1},children:[{type:b,tag:c,props:{className:["icon","icon-link"]},children:[]}]},{type:a,value:ao}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"Next, it would be great to get a snapshot of the stocks owned by this fund in a given year. Let's use a D3 bubble chart. The names for each stock are quite long, so first let's convert them to stock ticker values. Here's a quick script I hacked together using a Fidelity lookup service:"}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,K]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"cusip_nums "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:" files"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\n    cusip_nums "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" cusip_nums "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"|"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:bk}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"CUSIP"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\nticker_dic "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:" cusip_nums"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:bm},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"list"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bn},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"keys"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\n    url "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\"http:\u002F\u002Fquotes.fidelity.com\u002Fmmnet\u002FSymLookup.phtml?reqforlookup=REQUESTFORLOOKUP&productid=mmnet&isLoggedIn=mmnet&rows=50&for=stock&by=cusip&criteria=\""}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:V}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\"&submit=Search\""}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" requests"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"get"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"url"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"text\n    soup "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n    ticker_elem "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" attrs"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\"bgcolor\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"\"#666666\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n    ticker "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bl}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"try"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\n        ticker "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" ticker_elem"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bp},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bo},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'a'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"text\n        ticker_dic"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" ticker\n    "},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"except"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:"\n        "},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:"pass"}]},{type:a,value:"\n\n    time"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"sleep"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:m}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"I couldn't get all the CUSIP numbers, but I was able to get most of them. Some of the CUSIP numbers have changed for certain stocks and couldn't be looked up with this service. For now I won't fill these in. With the "},{type:b,tag:v,props:{},children:[{type:a,value:bn}]},{type:a,value:" dictionary, we can make a quick edit to our "},{type:b,tag:v,props:{},children:[{type:a,value:N}]},{type:a,value:" function to populate ticker data for each holding:"}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,K]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"ticker_dict "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'00206R102'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'T'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'00507V109'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'ATVI'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'00724F101'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'ADBE'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:"\n\n"},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:at}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,au]},children:[{type:a,value:N}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:a,value:af},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aw}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ac}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:V}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:x}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ax},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:ay},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:az},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:ak}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aA}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aB},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:D}]},{type:a,value:aC},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:E}]},{type:a,value:aD},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:a,value:aE},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:P}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:Q}]},{type:a,value:aF},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aG},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:W},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aH}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aI}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aJ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aK}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aL}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:L},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:M},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aM}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:ad}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aN}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aO}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:Z}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:aP}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:_},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:$}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aa}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aQ}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aR},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:aS}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" ticker_dict"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:a,value:R},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:al}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:a},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:aT},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aU},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aV},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:aW},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:aX},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:aY},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aZ},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,r]},children:[{type:a,value:a_}]},{type:a,value:a$}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"Let's check this:"}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"df = scrape_13f(files[2])\nprint(df[[\"CUSIP\", \"NAME_OF_ISSUER\", \"TICKER\"]].head())\n"}]}]}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,ae]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"       CUSIP         NAME_OF_ISSUER TICKER\n0  88579Y101                  3M CO    MMM\n1  G1151C101  ACCENTURE PLC IRELAND    ACN\n2  02209S103       ALTRIA GROUP INC     MO\n3  03076C106    AMERIPRISE FINL INC    AMP\n4  035710409    ANNALY CAP MGMT INC    NLY\n"}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:a,value:"Let's take a look at the last filing, Q4 2017."}]},{type:a,value:m},{type:b,tag:y,props:{className:[z]},children:[{type:b,tag:A,props:{className:[B,K]},children:[{type:b,tag:v,props:{},children:[{type:a,value:"q4_2017 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:T}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:U},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"-"}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:X}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\ndf_q4_2017 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" scrape_13f"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"q4_2017"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\ntop_20 "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" df_q4_2017"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"sort_values"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"by"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" ascending"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:"False"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:bq}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:Y}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:n}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:u}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"40"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:o}]},{type:a,value:"\na "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"TICKER\nb "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:br},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"VALUE\nc "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"range"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"len"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:"b"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\nfig "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" plt"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:ba},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:bb},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"15"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:bc}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\nax "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:a,value:" fig"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"add_subplot"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"111"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\nax"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bg},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" b"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:"\n\nplt"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bh},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:S},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" a"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:s}]},{type:a,value:" rotation"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:k}]},{type:b,tag:c,props:{className:[d,q]},children:[{type:a,value:"90"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bd},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'Top 40 Stock Holdings by Value'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:be},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'Stock Ticker'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:bf},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,l]},children:[{type:a,value:"'USD (10 MM))'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:w},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:j}]},{type:a,value:"show"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:h}]},{type:a,value:m}]}]}]},{type:a,value:m},{type:b,tag:t,props:{},children:[{type:b,tag:bi,props:{alt:bj,src:"\u002Fstatic\u002F2017_filing.png"},children:[]}]}]},dir:"\u002F2018\u002F01\u002F30",path:"\u002F2018\u002F01\u002F30\u002Freading-13f-sec-filings-with-python.html",extension:".md",createdAt:bs,updatedAt:bs,raw:"\n**Update**: This project has been updated, please see [this article](\u002F2020\u002F11\u002F29\u002Fweekend-project-update-open-sec-data) to read about the most recent updates.\n\n- [https:\u002F\u002Fopensecdata.ga](https:\u002F\u002Fopensecdata.ga) (project staging website, deployed to docker swarm cluster running on DigitalOcean)\n- [https:\u002F\u002Fgitlab.com\u002Fbriancaffey\u002Fsec-filings-app](https:\u002F\u002Fgitlab.com\u002Fbriancaffey\u002Fsec-filings-app) (main repository, requires GitLab account)\n- [https:\u002F\u002Fgithub.com\u002Fbriancaffey\u002Fsec-filings-app](https:\u002F\u002Fgithub.com\u002Fbriancaffey\u002Fsec-filings-app) (mirror, no account required to view)\n\n\u003E The SEC Form 13F is a filing with the Securities and Exchange Commission (SEC) also known as the Information Required of Institutional Investment Managers Form. It is a quarterly filing required of institutional investment managers with over \\$100 million in qualifying assets. -[Investopedia](https:\u002F\u002Fwww.investopedia.com\u002Fterms\u002Ff\u002Fform-13f.asp)\n\nIn this article I will show how to collect and parse 13F filing data from the SEC.\n\nFirst, use [EDGAR](https:\u002F\u002Fwww.sec.gov\u002Fedgar\u002Fsearchedgar\u002Fcompanysearch.html) to search the company of interest.\n\n\u003E EDGAR, the Electronic Data Gathering, Analysis, and Retrieval system, performs automated collection, validation, indexing, acceptance, and forwarding of submissions by companies and others who are required by law to file forms with the U.S. Securities and Exchange Commission (the \"SEC\"). -[Wikipedia](https:\u002F\u002Fen.wikipedia.org\u002Fwiki\u002FEDGAR)\n\nClick on the Central Index Key (CIK) of the company you are search for, and then click on `Documents`.\n\nYou'll want to grab the HTML version of the `Information Table`. I have saved them in a folder with their file names cooresponding to their dates (`YYYY-MM-DD` format).\n\nFor this example, I have manually collected the files for a few years of data filed by a hedge fund. Here are the files I'll be working with:\n\n```python\nfiles = os.listdir(\"13f\u002F\")\nprint(*sorted(files), sep=\"\\n\")\n```\n\n```\n2014-02-14.html\n2014-05-15.html\n2014-08-14.html\n2014-11-14.html\n2015-02-17.html\n2015-05-14.html\n2015-08-14.html\n2015-11-12.html\n2016-02-16.html\n2016-05-16.html\n2016-08-12.html\n2016-11-14.html\n2017-02-14.html\n2017-05-15.html\n2017-08-10.html\n2017-10-30.html\n```\n\nHere's a quick script we can use to parse information from each filing document:\n\n```python\ndef scrape_13f(file):\n    date = file\n    html = open(\"13f\u002F\"+file).read()\n    soup = BeautifulSoup(html, 'lxml')\n    rows = soup.find_all('tr')[11:]\n    positions = []\n    for row in rows:\n        dic = {}\n        position = row.find_all('td')\n        dic[\"NAME_OF_ISSUER\"] = position[0].text\n        dic[\"TITLE_OF_CLASS\"] = position[1].text\n        dic[\"CUSIP\"] = position[2].text\n        dic[\"VALUE\"] = int(position[3].text.replace(',', ''))*1000\n        dic[\"SHARES\"] = int(position[4].text.replace(',', ''))\n        dic[\"DATE\"] = date.strip(\".html\")\n        positions.append(dic)\n\n    df = pd.DataFrame(positions)\n    return df\n```\n\nUsing this function we can get a quick snapshot of this hedge fund by filing total over the last 4 years:\n\n```python\nfund_growth = [sum(scrape_13f(file).VALUE) for file in sorted(files)]\ndates = [f.strip('.html') for f in sorted(files)]\nplt.figure(figsize=(10,5))\nplt.title('Total Fund Size')\nplt.xlabel('Filing Date')\nplt.ylabel('USD')\nplt.bar(dates, fund_growth)\nplt.yticks()\nplt.xticks(rotation='vertical')\n```\n\n![png](\u002Fstatic\u002Ffund_size.png)\n\n## Fund Positions with Bubble Chart\n\nNext, it would be great to get a snapshot of the stocks owned by this fund in a given year. Let's use a D3 bubble chart. The names for each stock are quite long, so first let's convert them to stock ticker values. Here's a quick script I hacked together using a Fidelity lookup service:\n\n```python\ncusip_nums = set()\nfor file in files:\n    cusip_nums = cusip_nums | set(scrape_13f(file).CUSIP)\n\nticker_dic = {c:\"\" for c in cusip_nums}\nfor c in list(ticker_dic.keys()):\n    url = \"http:\u002F\u002Fquotes.fidelity.com\u002Fmmnet\u002FSymLookup.phtml?reqforlookup=REQUESTFORLOOKUP&productid=mmnet&isLoggedIn=mmnet&rows=50&for=stock&by=cusip&criteria=\"+c+\"&submit=Search\"\n    html = requests.get(url).text\n    soup = BeautifulSoup(html, 'lxml')\n    ticker_elem = soup.find('tr', attrs={\"bgcolor\":\"#666666\"})\n    ticker = \"\"\n    try:\n        ticker = ticker_elem.next_sibling.next_sibling.find('a').text\n        ticker_dic[c] = ticker\n    except:\n        pass\n\n    time.sleep(1)\n```\n\nI couldn't get all the CUSIP numbers, but I was able to get most of them. Some of the CUSIP numbers have changed for certain stocks and couldn't be looked up with this service. For now I won't fill these in. With the `ticker_dic` dictionary, we can make a quick edit to our `scrape_13f` function to populate ticker data for each holding:\n\n```python\nticker_dict = {'00206R102': 'T', '00507V109': 'ATVI', '00724F101': 'ADBE', ... }\n\ndef scrape_13f(file):\n    date = file\n    html = open(\"13f\u002F\"+file).read()\n    soup = BeautifulSoup(html, 'lxml')\n    rows = soup.find_all('tr')[11:]\n    positions = []\n    for row in rows:\n        dic = {}\n        position = row.find_all('td')\n        dic[\"NAME_OF_ISSUER\"] = position[0].text\n        dic[\"TITLE_OF_CLASS\"] = position[1].text\n        dic[\"CUSIP\"] = position[2].text\n        dic[\"VALUE\"] = int(position[3].text.replace(',', ''))*1000\n        dic[\"SHARES\"] = int(position[4].text.replace(',', ''))\n        dic[\"DATE\"] = date.strip(\".html\")\n        dic[\"TICKER\"] = ticker_dict[position[2].text]\n        positions.append(dic)\n\n    df = pd.DataFrame(positions)\n    return df\n```\n\nLet's check this:\n\n```\ndf = scrape_13f(files[2])\nprint(df[[\"CUSIP\", \"NAME_OF_ISSUER\", \"TICKER\"]].head())\n```\n\n```\n       CUSIP         NAME_OF_ISSUER TICKER\n0  88579Y101                  3M CO    MMM\n1  G1151C101  ACCENTURE PLC IRELAND    ACN\n2  02209S103       ALTRIA GROUP INC     MO\n3  03076C106    AMERIPRISE FINL INC    AMP\n4  035710409    ANNALY CAP MGMT INC    NLY\n```\n\nLet's take a look at the last filing, Q4 2017.\n\n```python\nq4_2017 = sorted(files)[-1]\ndf_q4_2017 = scrape_13f(q4_2017)\n\ntop_20 = df_q4_2017.sort_values(by=\"VALUE\", ascending=False)[[\"TICKER\", \"VALUE\"]][:40]\na = top_20.TICKER\nb = top_20.VALUE\nc = range(len(b))\n\nfig = plt.figure(figsize=(15,5))\nax = fig.add_subplot(111)\nax.bar(c, b)\n\nplt.xticks(c, a, rotation=90)\nplt.title('Top 40 Stock Holdings by Value')\nplt.xlabel('Stock Ticker')\nplt.ylabel('USD (10 MM))')\nplt.show()\n```\n\n![png](\u002Fstatic\u002F2017_filing.png)\n"}}],fetch:{},mutations:[]}}("text","element","span","token","punctuation","operator","(",")"," ",".","=","string","\n","[","]","builtin","number","keyword",",","p",":","code","\nplt","file","div","nuxt-content-highlight","pre","line-numbers","a","for","in","\n        dic","nofollow","noopener","noreferrer","_blank","language-python"," position","text\n        dic","scrape_13f","\n    ","{","}","position","c","sorted","files","+","find_all","1","\"VALUE\"","int","replace","','","''","li","\"13f\u002F\"","*","language-text","\n    html "," BeautifulSoup","html","'lxml'"," soup","'tr'","2","strip","fund-positions-with-bubble-chart","Fund Positions with Bubble Chart","https:\u002F\u002Fopensecdata.ga","https:\u002F\u002Fgitlab.com\u002Fbriancaffey\u002Fsec-filings-app","https:\u002F\u002Fgithub.com\u002Fbriancaffey\u002Fsec-filings-app","blockquote","def","function","\n    date ","open","read","\n    soup ","\n    rows ","11","\n    positions "," row "," rows","\n        dic ","\n        position "," row","'td'","\"NAME_OF_ISSUER\"","0","\"TITLE_OF_CLASS\"","\"CUSIP\"","3","1000","\"SHARES\"","4","\"DATE\""," date","\".html\"","\n        positions","append","dic","\n\n    df "," pd","DataFrame","positions","return"," df\n","figure","figsize","5","title","xlabel","ylabel","bar","xticks","img","png","set","\"\""," c ","ticker_dic","find","next_sibling","\"TICKER\""," top_20","2023-04-30T22:17:20.730Z")));