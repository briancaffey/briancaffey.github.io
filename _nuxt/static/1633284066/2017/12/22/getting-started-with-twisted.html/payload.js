__NUXT_JSONP__("/2017/12/22/getting-started-with-twisted.html", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au,av,aw,ax){return {data:[{article:{slug:"getting-started-with-twisted.html",layout:"post",title:"Getting started with Python's Twisted Framework",date:"2017-12-22T00:00:00.000Z",comments:true,image:J,tags:["python","twisted"],toc:[{id:K,depth:L,text:M},{id:N,depth:L,text:O}],body:{type:"root",children:[{type:b,tag:n,props:{},children:[{type:b,tag:P,props:{alt:Q,src:J},children:[]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"In this article I'm going to be exploring python's twisted framework. I'm working through the "},{type:b,tag:C,props:{},children:[{type:a,value:"Twisted Network Programming Essentials"}]},{type:a,value:" book from O'Reilly."}]},{type:a,value:j},{type:b,tag:R,props:{id:K},children:[{type:b,tag:S,props:{ariaHidden:T,href:"#installation",tabIndex:U},children:[{type:b,tag:c,props:{className:[V,W]},children:[]}]},{type:a,value:M}]},{type:a,value:j},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,"language-text"]},children:[{type:b,tag:r,props:{},children:[{type:a,value:" $ pip install twisted\n"}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"The main idea behind Twisted is that it gives us the parallelism of multithreading programming with the ease of reasoning of single threaded programming."}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:b,tag:P,props:{alt:Q,src:"\u002Fstatic\u002Fevent-driven.jpg"},children:[]}]},{type:a,value:j},{type:b,tag:R,props:{id:N},children:[{type:b,tag:S,props:{ariaHidden:T,href:"#the-reactor",tabIndex:U},children:[{type:b,tag:c,props:{className:[V,W]},children:[]}]},{type:a,value:O}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"This is the core of Twisted. Here is a simple explanation of what the reactor does with psuedo-code:"}]},{type:a,value:j},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,D]},children:[{type:b,tag:r,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"while"}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:"True"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n    timeout "},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:X}]},{type:a,value:" timeout_until_next_timed_event"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:X}]},{type:a,value:" wait_for_events"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"timeout"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:Y},{type:b,tag:c,props:{className:[d,E]},children:[{type:a,value:"+="}]},{type:a,value:" timed_events_until"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:"now"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"for"}]},{type:a,value:" event "},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:"in"}]},{type:a,value:" events"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:"\n        event"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"process"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:a,value:"Here's a simple echo server\u002Fclient example that illustrates how the reactor works. It is composed of "},{type:b,tag:r,props:{},children:[{type:a,value:Z}]},{type:a,value:" and "},{type:b,tag:r,props:{},children:[{type:a,value:_}]},{type:a,value:k}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:b,tag:C,props:{},children:[{type:a,value:Z}]}]},{type:a,value:j},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,D]},children:[{type:b,tag:r,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ac}]},{type:a,value:" reactor"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" protocol\n\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"EchoClient"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"connectionMade"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"u\"Hello, world!\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"encode"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"'utf-8'"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"Server said:\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ag},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"loseConnection"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"ClientFactory"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:a,value:" EchoClient"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"clientConnectionFailed"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"Connection failed.\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"clientConnectionLost"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:am},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:I}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"Connection lost.\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ao},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"connectTCP"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,s]},children:[{type:a,value:"\"localhost\""}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:j}]}]}]},{type:a,value:j},{type:b,tag:n,props:{},children:[{type:b,tag:C,props:{},children:[{type:a,value:_}]}]},{type:a,value:j},{type:b,tag:v,props:{className:[w]},children:[{type:b,tag:x,props:{className:[y,D]},children:[{type:b,tag:r,props:{},children:[{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:$}]},{type:a,value:aa},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ab},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:ac}]},{type:a,value:" protocol"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:" reactor\n\n"},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:"Echo"}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ad},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:af}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:ae},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:aw},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:ah},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:z}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,A]},children:[{type:a,value:ai}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:B},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"Factory"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:t},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:o}]},{type:a,value:m},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:aj}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:a,value:q},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:k}]},{type:a,value:u},{type:b,tag:c,props:{className:[d,h]},children:[{type:a,value:al}]},{type:a,value:" Echo"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:aq},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:"listenTCP"},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,ar]},children:[{type:a,value:as}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:l}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:au},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:i}]},{type:a,value:av},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:f}]},{type:b,tag:c,props:{className:[d,e]},children:[{type:a,value:g}]},{type:a,value:j}]}]}]}]},dir:"\u002F2017\u002F12\u002F22",path:"\u002F2017\u002F12\u002F22\u002Fgetting-started-with-twisted.html",extension:".md",createdAt:ax,updatedAt:ax,raw:"\n![png](\u002Fstatic\u002Ftwisted-snakes.png)\n\nIn this article I'm going to be exploring python's twisted framework. I'm working through the _Twisted Network Programming Essentials_ book from O'Reilly.\n\n## Installation\n\n```terminal\n $ pip install twisted\n```\n\nThe main idea behind Twisted is that it gives us the parallelism of multithreading programming with the ease of reasoning of single threaded programming.\n\n![png](\u002Fstatic\u002Fevent-driven.jpg)\n\n## The Reactor\n\nThis is the core of Twisted. Here is a simple explanation of what the reactor does with psuedo-code:\n\n```python\nwhile True:\n    timeout = timeout_until_next_timed_event()\n    events = wait_for_events(timeout)\n    events += timed_events_until(now())\n    for event in events:\n        event.process()\n```\n\nHere's a simple echo server\u002Fclient example that illustrates how the reactor works. It is composed of `echoclient.py` and `echoserver.py`:\n\n_echoclient.py_\n\n```python\nfrom twisted.internet import reactor, protocol\n\nclass EchoClient(protocol.Protocol):\n    def connectionMade(self):\n        self.transport.write(u\"Hello, world!\".encode('utf-8'))\n\n    def dataReceived(self, data):\n        print(\"Server said:\", data)\n        self.transport.loseConnection()\n\nclass EchoFactory(protocol.ClientFactory):\n    def buildProtocol(self, addr):\n        return EchoClient()\n\n    def clientConnectionFailed(self, connector, reason):\n        print(\"Connection failed.\")\n        reactor.stop()\n\n    def clientConnectionLost(self, connector, reason):\n        print(\"Connection lost.\")\n        reactor.stop()\n\nreactor.connectTCP(\"localhost\", 8000, EchoFactory())\nreactor.run()\n```\n\n_echoserver.py_\n\n```python\nfrom twisted.internet import protocol, reactor\n\nclass Echo(protocol.Protocol):\n    def dataReceived(self,data):\n        self.transport.write(data)\n\nclass EchoFactory(protocol.Factory):\n    def buildProtocol(self, addr):\n        return Echo()\n\nreactor.listenTCP(8000, EchoFactory())\nreactor.run()\n```\n"}}],fetch:{},mutations:[]}}("text","element","span","token","punctuation","(",")","keyword",".","\n",":",","," ","p","def","function","self","code","string","\n    ","\n        ","div","nuxt-content-highlight","pre","line-numbers","class","class-name","protocol","em","language-python","operator","\n        self","transport","\n\n    ","print","\u002Fstatic\u002Ftwisted-snakes.png","installation",2,"Installation","the-reactor","The Reactor","img","png","h2","a","true",-1,"icon","icon-link","=","\n    events ","echoclient.py","echoserver.py","from"," twisted","internet ","import","Protocol","write","dataReceived"," data","\n\n","EchoFactory","buildProtocol"," addr","return"," connector"," reason","\n        reactor","stop","\n\nreactor","number","8000"," EchoFactory","\nreactor","run","data","2021-10-03T17:59:39.288Z")));