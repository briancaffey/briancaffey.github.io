__NUXT_JSONP__("/2018/01/28/simple-sql-tasks-with-mariadb.html", (function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_,$,aa,ab,ac,ad,ae,af,ag,ah,ai,aj,ak,al,am,an,ao,ap,aq,ar,as,at,au){return {data:[{article:{slug:"simple-sql-tasks-with-mariadb.html",layout:"post",title:"How to do simple SQL tasks with MariaDB",date:"2018-01-28T00:00:00.000Z",comments:true,image:"\u002Fstatic\u002Fmariadb.png",permalink:"\u002F2018\u002F01\u002F28\u002Fhow-to-do-simple-sql-tasks-with-mariadb-0",tags:["maria-db","sql","databases"],toc:[{id:V,depth:2,text:W},{id:X,depth:D,text:Y},{id:Z,depth:D,text:_},{id:$,depth:D,text:"Create and set a database to use"},{id:aa,depth:D,text:ab}],body:{type:"root",children:[{type:b,tag:h,props:{},children:[{type:a,value:"In this article I'll look at another interview takehome assignment. This assignment included SQL, python and some logic puzzles. If you read to the end I'll share a fun \"trick question\" that was also included."}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"I mostly want to talk about the SQL portion of the test. Since I mostly work with postgresql through the Django ORM, this was a good refresher. I'll show how I approached some simple SQL tasks, and how to use MariaDB."}]},{type:a,value:e},{type:b,tag:ac,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:"strong",props:{},children:[{type:a,value:"MariaDB"}]},{type:a,value:" is the default implementation of MySQL in Arch Linux, provided with the mariadb package."}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:"h2",props:{id:V},children:[{type:b,tag:q,props:{href:"#the-task",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:W}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Here are the three questions I was asked:"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Please reference the 3 tables below."}]},{type:a,value:e},{type:b,tag:"ol",props:{},children:[{type:a,value:e},{type:b,tag:y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:ad}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:ae}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:y,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:af}]},{type:a,value:e}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:b,tag:"img",props:{alt:"png",src:"\u002Fstatic\u002Fsql.png"},children:[]}]},{type:a,value:e},{type:b,tag:"ul",props:{},children:[{type:a,value:e},{type:b,tag:y,props:{},children:[{type:a,value:"ID is a unique ID that is applied to each individual on file"}]},{type:a,value:e},{type:b,tag:y,props:{},children:[{type:a,value:"DistrictID is a unique ID that is applied to each district on file"}]},{type:a,value:e},{type:b,tag:y,props:{},children:[{type:a,value:"Gender is a value that is recorded on some records on file"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:E,props:{id:X},children:[{type:b,tag:q,props:{href:"#install-mysqlmariadb",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:Y}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"First, we need to install MariaDB. As usual, just "},{type:b,tag:q,props:{href:"https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FMySQL",rel:["nofollow","noopener","noreferrer"],target:"_blank"},children:[{type:a,value:"follow the Arch Wiki"}]},{type:a,value:k}]},{type:a,value:e},{type:b,tag:E,props:{id:Z},children:[{type:b,tag:q,props:{href:"#run-mysql",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:_}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Next, we can run "},{type:b,tag:j,props:{},children:[{type:a,value:ag}]},{type:a,value:" in the terminal:"}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:" $ mysql\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 18\nServer version: 10.1.30-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n"}]}]}]},{type:a,value:e},{type:b,tag:E,props:{id:$},children:[{type:b,tag:q,props:{href:"#create-and-set-a-database-to-use",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:"Create "},{type:b,tag:"em",props:{},children:[{type:a,value:"and set"}]},{type:a,value:" a database to use"}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"The next step is to create a database. We can do the following:"}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"MariaDB [(none)]\u003E create database sample_db default character set utf8 default collate utf8_bin;\nERROR 1044 (42000): Access denied for user ''@'localhost' to database 'sample_db'\nMariaDB [(none)]\u003E Ctrl-C -- exit!\nAborted\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"If you see this error, it is because we aren't using the correct user for SQL. We can use the default root user with no password instead. So here we will rerun the "},{type:b,tag:j,props:{},children:[{type:a,value:ag}]},{type:a,value:" command with additional arguments:"}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:" $ mysql -u root\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 19\nServer version: 10.1.30-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]\u003E create database sample_db default character set utf8 default collate utf8_bin;\nQuery OK, 1 row affected (0.01 sec)\n\nMariaDB [(none)]\u003E use sample_db\nDatabase changed\nMariaDB [sample_db]\u003E\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Great, no we are using the blank database called "},{type:b,tag:j,props:{},children:[{type:a,value:"sample_db"}]},{type:a,value:" and we are using it, notice that "},{type:b,tag:j,props:{},children:[{type:a,value:"[sample_db]\u003E"}]},{type:a,value:" has repaced "},{type:b,tag:j,props:{},children:[{type:a,value:"[(none)]\u003E"}]},{type:a,value:" in the MariaDB prompt."}]},{type:a,value:e},{type:b,tag:E,props:{id:aa},children:[{type:b,tag:q,props:{href:"#create-tables-and-insert-data-into-the-tables",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:ab}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Now we are read to get going with our questions. Before we write our queries, we need to get the data from the question into our database. To do this I wrote "},{type:b,tag:j,props:{},children:[{type:a,value:"insert.sql"}]},{type:a,value:" and ran it in MariaDB. Here is the script:"}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"CREATE TABLE table_A (\n  ID int,\n  District_ID int\n  );\n\nCREATE TABLE table_B (\n  District_ID int,\n  Congressional_District int\n  );\n\nCREATE TABLE table_C (\n  ID int,\n  Gender CHAR(1)\n  );\n\nINSERT INTO table_A (ID, District_ID) VALUES ('1', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('2', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('3', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('4', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('5', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('6', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('7', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('8', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('9', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('10', '3');\n\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('1', '8');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('2', '2');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('3', '14');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('4', '7');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('5', '11');\n\nINSERT INTO table_C (ID, Gender) VALUES ('1', 'M');\nINSERT INTO table_C (ID, Gender) VALUES ('3', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('4', 'M');\nINSERT INTO table_C (ID, Gender) VALUES ('5', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('6', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('7', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('8', 'M');\nINSERT INTO table_C (ID, Gender) VALUES ('9', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('10', 'M');\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Now we can run the script with the following command:"}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"MariaDB [sample_db]\u003E source my_sql_script.sql\nQuery OK, 0 rows affected (0.08 sec)\n\nQuery OK, 0 rows affected (0.07 sec)\n\nQuery OK, 0 rows affected (0.06 sec)\n\nQuery OK, 1 row affected (0.02 sec)\n\nQuery OK, 1 row affected (0.00 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.03 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.00 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.02 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nMariaDB [sample_db]\u003E\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Great, now let's test it out with a simple "},{type:b,tag:j,props:{},children:[{type:a,value:"select * from table_name"}]},{type:a,value:" command:"}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"MariaDB [sample_db]\u003E select * from table_A;\n+------+-------------+\n| ID   | District_ID |\n+------+-------------+\n|    1 |           3 |\n|    2 |           3 |\n|    3 |           4 |\n|    4 |           4 |\n|    5 |           3 |\n|    6 |           4 |\n|    7 |           4 |\n|    8 |           3 |\n|    9 |           4 |\n|   10 |           3 |\n+------+-------------+\n10 rows in set (0.00 sec)\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"This matches what we were given, so now let's move on to the first task, creating one table from the three we are given."}]},{type:a,value:e},{type:b,tag:J,props:{id:ah},children:[{type:b,tag:q,props:{href:"#1",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:ah}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:ad}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,K]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:M}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:C}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:C}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:am}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"+------+------------------------+--------+\n| ID   | Congressional_District | Gender |\n+------+------------------------+--------+\n|    1 |                     14 | M      |\n|    2 |                     14 | NULL   |\n|    3 |                      7 | F      |\n|    4 |                      7 | M      |\n|    5 |                     14 | F      |\n|    6 |                      7 | F      |\n|    7 |                      7 | F      |\n|    8 |                     14 | M      |\n|    9 |                      7 | F      |\n|   10 |                     14 | M      |\n+------+------------------------+--------+\n10 rows in set (0.00 sec)\n"}]}]}]},{type:a,value:e},{type:b,tag:J,props:{id:ao},children:[{type:b,tag:q,props:{href:"#2",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:ao}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:ae}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,K]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:"\n  table_A"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:ai},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"case"}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aq}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\"M\""}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:as}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\"Male\""}]},{type:a,value:ap},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:aq}]},{type:a,value:ar},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\"F\""}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:as}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,I]},children:[{type:a,value:"\"Female\""}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"end"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"as"}]},{type:a,value:ak},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:M}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:C}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:" table_C "},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:C}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"where"}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,"number"]},children:[{type:a,value:U}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"and"}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:"Gender "},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"is"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:"not"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,"boolean"]},children:[{type:a,value:"null"}]},{type:a,value:e},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:am}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:an},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"+------+--------+\n| ID   | Gender |\n+------+--------+\n|    1 | Male   |\n|    5 | Female |\n|    8 | Male   |\n|   10 | Male   |\n+------+--------+\n4 rows in set (0.00 sec)\n"}]}]}]},{type:a,value:e},{type:b,tag:J,props:{id:U},children:[{type:b,tag:q,props:{href:"#3",ariaHidden:t,tabIndex:u},children:[{type:b,tag:c,props:{className:[v,w]},children:[]}]},{type:a,value:U}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:af}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,K]},children:[{type:b,tag:j,props:{},children:[{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:L}]},{type:a,value:T},{type:b,tag:c,props:{className:[d,"function"]},children:[{type:a,value:"count"}]},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:"("}]},{type:a,value:"table_C"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:"Gender"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:")"}]},{type:a,value:" Count"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:"\n  Congressional_District"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:"\n  Gender\n"},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:M}]},{type:a,value:N},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:O},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:C}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:F},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:P},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:Q},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:A}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:B}]},{type:a,value:al},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:C}]},{type:a,value:x},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:G},{type:b,tag:c,props:{className:[d,p]},children:[{type:a,value:s}]},{type:a,value:H},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:k}]},{type:a,value:at},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:"group"}]},{type:a,value:i},{type:b,tag:c,props:{className:[d,f]},children:[{type:a,value:R}]},{type:a,value:aj},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:z}]},{type:a,value:" Gender"},{type:b,tag:c,props:{className:[d,g]},children:[{type:a,value:S}]},{type:a,value:e}]}]}]},{type:a,value:e},{type:b,tag:l,props:{className:[m]},children:[{type:b,tag:n,props:{className:[o,r]},children:[{type:b,tag:j,props:{},children:[{type:a,value:"+-------+------------------------+--------+\n| Count | Congressional_District | Gender |\n+-------+------------------------+--------+\n|     4 |                      7 | F      |\n|     1 |                      7 | M      |\n|     0 |                     14 | NULL   |\n|     1 |                     14 | F      |\n|     3 |                     14 | M      |\n+-------+------------------------+--------+\n5 rows in set (0.00 sec)\n"}]}]}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"That's it for the three SQL tasks. Here's the bonus question:"}]},{type:a,value:e},{type:b,tag:ac,props:{},children:[{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Assume there are 6,000,000,000 (6 billion) people on Earth. What would you estimate to be the result, if you multiply together the number of fingers on every person's left-hands? (For the purposes of this exercise, thumbs count as fingers.)"}]},{type:a,value:e}]},{type:a,value:e},{type:b,tag:h,props:{},children:[{type:a,value:"Think about it for a minute. I have hidden my answer at the end of the URL for this article."}]}]},dir:"\u002F2018\u002F01\u002F28",path:"\u002F2018\u002F01\u002F28\u002Fsimple-sql-tasks-with-mariadb.html",extension:".md",createdAt:au,updatedAt:au,raw:"\nIn this article I'll look at another interview takehome assignment. This assignment included SQL, python and some logic puzzles. If you read to the end I'll share a fun \"trick question\" that was also included.\n\nI mostly want to talk about the SQL portion of the test. Since I mostly work with postgresql through the Django ORM, this was a good refresher. I'll show how I approached some simple SQL tasks, and how to use MariaDB.\n\n\u003E **MariaDB** is the default implementation of MySQL in Arch Linux, provided with the mariadb package.\n\n## The Task\n\nHere are the three questions I was asked:\n\nPlease reference the 3 tables below.\n\n1. Using SQL please write the code to generate a table that includes all individuals on the file and contains the following fields: ID, Congressional District, and Gender\n\n2. Using SQL please write the code to generate a table that includes only individuals with a gender on file that have a DistrictID of 3. Also please convert the values for Gender from “M” and “F” to “Male” and “Female” respectively. Your final table should include only ID and the converted Gender.\n\n3. Using SQL please generate the code to run a count of gender by Congressional District.\n\n![png](\u002Fstatic\u002Fsql.png)\n\n- ID is a unique ID that is applied to each individual on file\n- DistrictID is a unique ID that is applied to each district on file\n- Gender is a value that is recorded on some records on file\n\n### Install MySQL\u002FMariaDB\n\nFirst, we need to install MariaDB. As usual, just [follow the Arch Wiki](https:\u002F\u002Fwiki.archlinux.org\u002Findex.php\u002FMySQL).\n\n### Run mysql\n\nNext, we can run `mysql` in the terminal:\n\n```\n $ mysql\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 18\nServer version: 10.1.30-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n```\n\n### Create _and set_ a database to use\n\nThe next step is to create a database. We can do the following:\n\n```\nMariaDB [(none)]\u003E create database sample_db default character set utf8 default collate utf8_bin;\nERROR 1044 (42000): Access denied for user ''@'localhost' to database 'sample_db'\nMariaDB [(none)]\u003E Ctrl-C -- exit!\nAborted\n```\n\nIf you see this error, it is because we aren't using the correct user for SQL. We can use the default root user with no password instead. So here we will rerun the `mysql` command with additional arguments:\n\n```\n $ mysql -u root\nWelcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 19\nServer version: 10.1.30-MariaDB MariaDB Server\n\nCopyright (c) 2000, 2017, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]\u003E create database sample_db default character set utf8 default collate utf8_bin;\nQuery OK, 1 row affected (0.01 sec)\n\nMariaDB [(none)]\u003E use sample_db\nDatabase changed\nMariaDB [sample_db]\u003E\n```\n\nGreat, no we are using the blank database called `sample_db` and we are using it, notice that `[sample_db]\u003E` has repaced `[(none)]\u003E` in the MariaDB prompt.\n\n### Create tables and insert data into the tables\n\nNow we are read to get going with our questions. Before we write our queries, we need to get the data from the question into our database. To do this I wrote `insert.sql` and ran it in MariaDB. Here is the script:\n\n```\nCREATE TABLE table_A (\n  ID int,\n  District_ID int\n  );\n\nCREATE TABLE table_B (\n  District_ID int,\n  Congressional_District int\n  );\n\nCREATE TABLE table_C (\n  ID int,\n  Gender CHAR(1)\n  );\n\nINSERT INTO table_A (ID, District_ID) VALUES ('1', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('2', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('3', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('4', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('5', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('6', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('7', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('8', '3');\nINSERT INTO table_A (ID, District_ID) VALUES ('9', '4');\nINSERT INTO table_A (ID, District_ID) VALUES ('10', '3');\n\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('1', '8');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('2', '2');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('3', '14');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('4', '7');\nINSERT INTO table_B (District_ID, Congressional_District) VALUES ('5', '11');\n\nINSERT INTO table_C (ID, Gender) VALUES ('1', 'M');\nINSERT INTO table_C (ID, Gender) VALUES ('3', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('4', 'M');\nINSERT INTO table_C (ID, Gender) VALUES ('5', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('6', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('7', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('8', 'M');\nINSERT INTO table_C (ID, Gender) VALUES ('9', 'F');\nINSERT INTO table_C (ID, Gender) VALUES ('10', 'M');\n```\n\nNow we can run the script with the following command:\n\n```\nMariaDB [sample_db]\u003E source my_sql_script.sql\nQuery OK, 0 rows affected (0.08 sec)\n\nQuery OK, 0 rows affected (0.07 sec)\n\nQuery OK, 0 rows affected (0.06 sec)\n\nQuery OK, 1 row affected (0.02 sec)\n\nQuery OK, 1 row affected (0.00 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.03 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.00 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.02 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nQuery OK, 1 row affected (0.01 sec)\n\nMariaDB [sample_db]\u003E\n```\n\nGreat, now let's test it out with a simple `select * from table_name` command:\n\n```\nMariaDB [sample_db]\u003E select * from table_A;\n+------+-------------+\n| ID   | District_ID |\n+------+-------------+\n|    1 |           3 |\n|    2 |           3 |\n|    3 |           4 |\n|    4 |           4 |\n|    5 |           3 |\n|    6 |           4 |\n|    7 |           4 |\n|    8 |           3 |\n|    9 |           4 |\n|   10 |           3 |\n+------+-------------+\n10 rows in set (0.00 sec)\n```\n\nThis matches what we were given, so now let's move on to the first task, creating one table from the three we are given.\n\n#### 1\n\nUsing SQL please write the code to generate a table that includes all individuals on the file and contains the following fields: ID, Congressional District, and Gender\n\n```sql\nselect table_A.ID, Congressional_District, Gender\nfrom table_A\n  left join table_B\n    on table_A.District_ID = table_B.District_ID\n  left join table_C\n    on table_A.ID = table_C.ID order by ID;\n```\n\n```\n+------+------------------------+--------+\n| ID   | Congressional_District | Gender |\n+------+------------------------+--------+\n|    1 |                     14 | M      |\n|    2 |                     14 | NULL   |\n|    3 |                      7 | F      |\n|    4 |                      7 | M      |\n|    5 |                     14 | F      |\n|    6 |                      7 | F      |\n|    7 |                      7 | F      |\n|    8 |                     14 | M      |\n|    9 |                      7 | F      |\n|   10 |                     14 | M      |\n+------+------------------------+--------+\n10 rows in set (0.00 sec)\n```\n\n#### 2\n\nUsing SQL please write the code to generate a table that includes only individuals with a gender on file that have a DistrictID of 3. Also please convert the values for Gender from “M” and “F” to “Male” and “Female” respectively. Your final table should include only ID and the converted Gender.\n\n```sql\nselect\n  table_A.ID,\n  case\n    when Gender = \"M\" then \"Male\"\n    when Gender = \"F\" then \"Female\"\n  end as Gender\nfrom table_A\n  left join table_B\n    on table_A.District_ID = table_B.District_ID\n  left join table_C on table_A.ID = table_C.ID\nwhere table_A.District_ID = 3 and table_C.Gender is not null\norder by ID;\n```\n\n```\n+------+--------+\n| ID   | Gender |\n+------+--------+\n|    1 | Male   |\n|    5 | Female |\n|    8 | Male   |\n|   10 | Male   |\n+------+--------+\n4 rows in set (0.00 sec)\n```\n\n#### 3\n\nUsing SQL please generate the code to run a count of gender by Congressional District.\n\n```sql\nselect\n  count(table_C.Gender) Count,\n  Congressional_District,\n  Gender\nfrom table_A\n  left join table_B\n    on table_A.District_ID = table_B.District_ID\n  left join table_C\n    on table_A.ID = table_C.ID\ngroup by Congressional_District, Gender;\n```\n\n```\n+-------+------------------------+--------+\n| Count | Congressional_District | Gender |\n+-------+------------------------+--------+\n|     4 |                      7 | F      |\n|     1 |                      7 | M      |\n|     0 |                     14 | NULL   |\n|     1 |                     14 | F      |\n|     3 |                     14 | M      |\n+-------+------------------------+--------+\n5 rows in set (0.00 sec)\n```\n\nThat's it for the three SQL tasks. Here's the bonus question:\n\n\u003E Assume there are 6,000,000,000 (6 billion) people on Earth. What would you estimate to be the result, if you multiply together the number of fingers on every person's left-hands? (For the purposes of this exercise, thumbs count as fingers.)\n\nThink about it for a minute. I have hidden my answer at the end of the URL for this article.\n"}}],fetch:{},mutations:[]}}("text","element","span","token","\n","keyword","punctuation","p"," ","code",".","div","nuxt-content-highlight","pre","line-numbers","operator","a","language-text","=","true",-1,"icon","icon-link"," table_A","li",",","left","join","on",3,"h3","District_ID ","ID "," table_C","string","h4","language-sql","select","from"," table_A\n  "," table_B\n    "," table_B","District_ID\n  ","by",";","\n  ","3","the-task","The Task","install-mysqlmariadb","Install MySQL\u002FMariaDB","run-mysql","Run mysql","create-and-set-a-database-to-use","create-tables-and-insert-data-into-the-tables","Create tables and insert data into the tables","blockquote","Using SQL please write the code to generate a table that includes all individuals on the file and contains the following fields: ID, Congressional District, and Gender","Using SQL please write the code to generate a table that includes only individuals with a gender on file that have a DistrictID of 3. Also please convert the values for Gender from “M” and “F” to “Male” and “Female” respectively. Your final table should include only ID and the converted Gender.","Using SQL please generate the code to run a count of gender by Congressional District.","mysql","1","ID"," Congressional_District"," Gender\n"," table_C\n    ","order"," ID","2","\n    ","when"," Gender ","then","ID\n","2021-11-07T21:00:21.389Z")));