[{"data":1,"prerenderedAt":5518},["ShallowReactive",2],{"/blog/tags/agents/":3},[4,3605,4038],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"date":11,"image":12,"tags":13,"draft":7,"external":20,"comments":24,"body":25,"_type":3599,"_id":3600,"_source":3601,"_file":3602,"_stem":3603,"_extension":3604},"/2025/05/27/mediation-simulator-project-for-nvidia-agent-intelligence-toolkit","27",false,"","Mediation Simulator: My submission for the NVIDIA Agent Intelligence Toolkit Hackathon","Mediation Simulator is an AI application designed to help legal students and professionals build dispute resolution skills through simulated mediation sessions","2024-11-09","/static/mediation-simulator/mediation_simulator_title_image.png",[14,15,16,17,18,19],"nvidia","ai","agents","llm","nim","mediation",[21],{"link":22,"site":23},"https://x.com/briancaffey/status/1926036369597510117","x",true,{"type":26,"children":27,"toc":3580},"root",[28,37,51,58,63,68,103,110,115,149,154,169,178,193,201,207,212,288,294,299,416,429,434,442,448,453,458,465,478,484,489,494,1942,1954,1962,1967,1975,1980,1988,1996,2001,2009,2014,2022,2027,2776,2789,2797,2802,2963,2971,2976,2984,2989,3063,3068,3076,3081,3086,3091,3486,3491,3499,3504,3509,3514,3547,3552,3558,3563,3569,3574],{"type":29,"tag":30,"props":31,"children":33},"element","h1",{"id":32},"building-mediation-simulator-for-the-nvidia-agent-intelligence-toolkit-hackathon",[34],{"type":35,"value":36},"text","Building Mediation Simulator for the NVIDIA Agent Intelligence Toolkit Hackathon!",{"type":29,"tag":38,"props":39,"children":40},"p",{},[41,43,49],{"type":35,"value":42},"I'm excited to share a project I've been building for the NVIDIA Agent Intelligence Toolkit Hackathon: ",{"type":29,"tag":44,"props":45,"children":46},"strong",{},[47],{"type":35,"value":48},"Mediation Simulator",{"type":35,"value":50},"! The NVIDIA Agent Intelligence Toolkit (or AgentIQ Toolkit, as it's often called) is a powerful open-source library designed for connecting, evaluating, and accelerating teams of AI agents. My goal? To see if I could leverage this toolkit to build AI agent teams capable of simulating the entire, complex process of a law school mediation competition.",{"type":29,"tag":52,"props":53,"children":55},"h2",{"id":54},"what-is-mediation-simulator-and-why-mediation",[56],{"type":35,"value":57},"What is Mediation Simulator? And Why Mediation?",{"type":29,"tag":38,"props":59,"children":60},{},[61],{"type":35,"value":62},"At its core, Mediation Simulator is my attempt to model the nuanced, semi-structured, three-way conversations that happen in mediation. Law school mediation tournaments are events where students practice negotiation and dispute resolution skills. This seemed like a really interesting challenge! How do you get language models to effectively navigate such a dynamic environment?",{"type":29,"tag":38,"props":64,"children":65},{},[66],{"type":35,"value":67},"Mediation competitions also present some unique data challenges that are perfect for AI:",{"type":29,"tag":69,"props":70,"children":71},"ul",{},[72,83,93],{"type":29,"tag":73,"props":74,"children":75},"li",{},[76,81],{"type":29,"tag":44,"props":77,"children":78},{},[79],{"type":35,"value":80},"Layered Information:",{"type":35,"value":82}," There are \"common facts\" known to everyone, and \"confidential facts\" privy only to one party (and sometimes shared strategically with the mediator or the other side).",{"type":29,"tag":73,"props":84,"children":85},{},[86,91],{"type":29,"tag":44,"props":87,"children":88},{},[89],{"type":35,"value":90},"Dynamic Conversations:",{"type":35,"value":92}," The main discussion involves all three parties (mediator and two disputants), but it also features \"caucuses\"—private, two-way conversations between the mediator and one party.",{"type":29,"tag":73,"props":94,"children":95},{},[96,101],{"type":29,"tag":44,"props":97,"children":98},{},[99],{"type":35,"value":100},"Creative Scenarios:",{"type":35,"value":102}," The cases are entirely fictional, often involving made-up companies, fictional countries, and even fictional currencies! This is a deliberate choice to help students avoid real-world biases. And guess what? AI is really good at generating fake data!",{"type":29,"tag":104,"props":105,"children":107},"h3",{"id":106},"what-i-built",[108],{"type":35,"value":109},"What I built",{"type":29,"tag":38,"props":111,"children":112},{},[113],{"type":35,"value":114},"Mediation Simulator consists of three main components:",{"type":29,"tag":116,"props":117,"children":118},"ol",{},[119,129,139],{"type":29,"tag":73,"props":120,"children":121},{},[122,127],{"type":29,"tag":44,"props":123,"children":124},{},[125],{"type":35,"value":126},"Case Generation Workflow",{"type":35,"value":128},": A CLI tool that uses LLMs to generate realistic mediation case scenarios, complete with common facts, confidential information for each party, and supporting documents. This workflow creates the foundation for all mediation simulations. The data for the case scenarios is saved in both YAML files and in my Redis database. I'll talk about why I did chose to store data in local files and on Redis later in this article.",{"type":29,"tag":73,"props":130,"children":131},{},[132,137],{"type":29,"tag":44,"props":133,"children":134},{},[135],{"type":35,"value":136},"Automated Mediation Workflow",{"type":35,"value":138},": Another CLI tool that orchestrates a full mediation session between three AI agents (mediator, requesting party, and responding party). This workflow simulates the entire mediation process, from opening statements through negotiation to conclusion, with the AI agents engaging in realistic dialogue based on their roles and the case information. A clerk agent helps to guide the converstaion, controlling who the next speaker should be based on a summary of what has already been said by different parties.",{"type":29,"tag":73,"props":140,"children":141},{},[142,147],{"type":29,"tag":44,"props":143,"children":144},{},[145],{"type":35,"value":146},"Interactive Mediation API",{"type":35,"value":148},": A REST API that allows a human user to participate in a mediation session by taking on the role of either the requesting or responding party. The API manages the session state and coordinates the interaction between the human participant and the AI mediator and opposing party. The conversation history for the mediation session is stored in Redis using a memory backend that I implemented with NVIDIA Agent Intelligence Toolkit.",{"type":29,"tag":38,"props":150,"children":151},{},[152],{"type":35,"value":153},"To make the results of these workflows easily viewable, I also built two web interfaces:",{"type":29,"tag":69,"props":155,"children":156},{},[157],{"type":29,"tag":73,"props":158,"children":159},{},[160,162,167],{"type":35,"value":161},"A ",{"type":29,"tag":44,"props":163,"children":164},{},[165],{"type":35,"value":166},"Viewer Interface",{"type":35,"value":168}," that displays the full three-party dialogue from automated mediation sessions, making it easy to review and analyze the AI agents' interactions.",{"type":29,"tag":38,"props":170,"children":171},{},[172],{"type":29,"tag":173,"props":174,"children":177},"img",{"alt":175,"src":176},"Mediation Simulator Viewer","/static/mediation-simulator/mediation_simulator_viewer.png",[],{"type":29,"tag":69,"props":179,"children":180},{},[181],{"type":29,"tag":73,"props":182,"children":183},{},[184,186,191],{"type":35,"value":185},"An ",{"type":29,"tag":44,"props":187,"children":188},{},[189],{"type":35,"value":190},"Interactive Interface",{"type":35,"value":192}," that provides a chat-like experience for human participants in the interactive mediation mode, with real-time updates and a clean, intuitive design.",{"type":29,"tag":38,"props":194,"children":195},{},[196],{"type":29,"tag":173,"props":197,"children":200},{"alt":198,"src":199},"Mediation Simulator Interactive","/static/mediation-simulator/interactive_mediation_screenshot.png",[],{"type":29,"tag":104,"props":202,"children":204},{"id":203},"the-genesis-from-idea-to-data",[205],{"type":35,"value":206},"The Genesis: From Idea to Data",{"type":29,"tag":38,"props":208,"children":209},{},[210],{"type":35,"value":211},"The first major hurdle was generating the foundational case data. Here's how that unfolded:",{"type":29,"tag":116,"props":213,"children":214},{},[215,225,235,245,278],{"type":29,"tag":73,"props":216,"children":217},{},[218,223],{"type":29,"tag":44,"props":219,"children":220},{},[221],{"type":35,"value":222},"Deep Dive Research:",{"type":35,"value":224}," I started by brainstorming with an LLM (OpenAI's o3, in this case) to get a comprehensive understanding of law school mediation competitions. I wanted to know everything: the rules, structure, participants, judging criteria and different types of cases.",{"type":29,"tag":73,"props":226,"children":227},{},[228,233],{"type":29,"tag":44,"props":229,"children":230},{},[231],{"type":35,"value":232},"Prompt Engineering for Cases:",{"type":35,"value":234}," With that knowledge, I tasked another LLM (GPT-4o) with generating prompts to be used for creating diverse and realistic (albeit fictional) mediation case scenarios.",{"type":29,"tag":73,"props":236,"children":237},{},[238,243],{"type":29,"tag":44,"props":239,"children":240},{},[241],{"type":35,"value":242},"Case Generation:",{"type":35,"value":244}," Using these prompts, I generated sets of distinct cases facts and related documents.",{"type":29,"tag":73,"props":246,"children":247},{},[248,253,255],{"type":29,"tag":44,"props":249,"children":250},{},[251],{"type":35,"value":252},"Structuring with LangGraph:",{"type":35,"value":254}," To manage the data for each case, I used LangGraph. I designed a state object to encapsulate all crucial elements:\n",{"type":29,"tag":69,"props":256,"children":257},{},[258,263,268],{"type":29,"tag":73,"props":259,"children":260},{},[261],{"type":35,"value":262},"Common facts.",{"type":29,"tag":73,"props":264,"children":265},{},[266],{"type":35,"value":267},"Confidential facts for both the requesting and responding parties.",{"type":29,"tag":73,"props":269,"children":270},{},[271,276],{"type":29,"tag":44,"props":272,"children":273},{},[274],{"type":35,"value":275},"Related Documents!",{"type":35,"value":277}," This was my own little twist. I wanted to test RAG (Retrieval Augmented Generation) integration within the agentic workflow. Could parties use tools to search for information in these documents to bolster their arguments during mediation? Ultimately I couldn't really get this to work. I'll share more on why later in this article.",{"type":29,"tag":73,"props":279,"children":280},{},[281,286],{"type":29,"tag":44,"props":282,"children":283},{},[284],{"type":35,"value":285},"Data Persistence:",{"type":35,"value":287}," With the data structured, I saved it in accessible formats: the LangGraph state was serialized to YAML, and the case details (like facts and documents) were stored in Markdown files. I also stored same LangGraph state to Redis using a simple JSON string.",{"type":29,"tag":104,"props":289,"children":291},{"id":290},"orchestrating-the-simulation",[292],{"type":35,"value":293},"Orchestrating the Simulation",{"type":29,"tag":38,"props":295,"children":296},{},[297],{"type":35,"value":298},"With the case data ready, the next step was to build out the mediation simulation itself:",{"type":29,"tag":116,"props":300,"children":301},{},[302,340,387,397],{"type":29,"tag":73,"props":303,"children":304},{},[305,310,312],{"type":29,"tag":44,"props":306,"children":307},{},[308],{"type":35,"value":309},"Defining the Flow:",{"type":35,"value":311}," I broke down the mediation process into its typical phases:\n",{"type":29,"tag":69,"props":313,"children":314},{},[315,320,325,330,335],{"type":29,"tag":73,"props":316,"children":317},{},[318],{"type":35,"value":319},"Opening Statements",{"type":29,"tag":73,"props":321,"children":322},{},[323],{"type":35,"value":324},"Information Gathering",{"type":29,"tag":73,"props":326,"children":327},{},[328],{"type":35,"value":329},"Caucuses (for each party)",{"type":29,"tag":73,"props":331,"children":332},{},[333],{"type":35,"value":334},"Negotiation",{"type":29,"tag":73,"props":336,"children":337},{},[338],{"type":35,"value":339},"Conclusion",{"type":29,"tag":73,"props":341,"children":342},{},[343,348,350],{"type":29,"tag":44,"props":344,"children":345},{},[346],{"type":35,"value":347},"Assembling the Agent Team:",{"type":35,"value":349}," I set up a LangGraph graph consisting of:\n",{"type":29,"tag":69,"props":351,"children":352},{},[353,364,376],{"type":29,"tag":73,"props":354,"children":355},{},[356,357,362],{"type":35,"value":161},{"type":29,"tag":44,"props":358,"children":359},{},[360],{"type":35,"value":361},"Mediator",{"type":35,"value":363}," agent",{"type":29,"tag":73,"props":365,"children":366},{},[367,369,374],{"type":35,"value":368},"Two ",{"type":29,"tag":44,"props":370,"children":371},{},[372],{"type":35,"value":373},"Party",{"type":35,"value":375}," agents (Requesting and Responding parties)",{"type":29,"tag":73,"props":377,"children":378},{},[379,380,385],{"type":35,"value":161},{"type":29,"tag":44,"props":381,"children":382},{},[383],{"type":35,"value":384},"Clerk",{"type":35,"value":386}," agent, whose job is to help manage the conversation flow and transition the simulation between the different phases.",{"type":29,"tag":73,"props":388,"children":389},{},[390,395],{"type":29,"tag":44,"props":391,"children":392},{},[393],{"type":35,"value":394},"Dynamic Prompting:",{"type":35,"value":396}," The prompts for the mediator and the parties (both when initiating a statement and when responding) change significantly based on the current phase of the mediation. Critically, these prompts also dynamically include a summary log of what has already been said, providing context.",{"type":29,"tag":73,"props":398,"children":399},{},[400,405,407,414],{"type":29,"tag":44,"props":401,"children":402},{},[403],{"type":35,"value":404},"Message Logging:",{"type":35,"value":406}," Each time a party speaks, I store the message using my Redis backend and also store additional metadata in the ",{"type":29,"tag":408,"props":409,"children":411},"code",{"className":410},[],[412],{"type":35,"value":413},"additional_kwargs",{"type":35,"value":415}," section of each message, such as the speaker, the current phase of mediation and a summary of the message (the summary is generated by another LLM call that just summarizes the response.)",{"type":29,"tag":38,"props":417,"children":418},{},[419,421,427],{"type":35,"value":420},"Getting to a functional mediation workflow was crucial! It allowed me to see the actual dialogue unfold and immediately highlighted areas for improvement. For instance, I realized that prompts needed to guide parties to ask one clear question at a time, directed at a specific participant, rather than posing multiple questions to several people at once. This really helps keep the simulated conversation straightforward and more realistic. I also had to instruct the LLM to use the names of the differnt parties, and I had to provide the names of the parties to the prompt. Without this instruction the LLM would give responses like this: \"Hello ",{"type":29,"tag":422,"props":423,"children":424},"span",{},[425],{"type":35,"value":426},"Requesting Party Name",{"type":35,"value":428},", thank you for sharing your opinion.\"",{"type":29,"tag":38,"props":430,"children":431},{},[432],{"type":35,"value":433},"Here's a look at the main workflow generated from the LangGraph code:",{"type":29,"tag":38,"props":435,"children":436},{},[437],{"type":29,"tag":173,"props":438,"children":441},{"alt":439,"src":440},"Mediation Simulator Workflow with LangGraph","/static/mediation-simulator/mediation_workflow.png",[],{"type":29,"tag":104,"props":443,"children":445},{"id":444},"bringing-it-to-life-the-vibe-coding-web-viewer",[446],{"type":35,"value":447},"Bringing it to Life: The \"Vibe Coding\" Web Viewer!",{"type":29,"tag":38,"props":449,"children":450},{},[451],{"type":35,"value":452},"Reading through raw Markdown files or terminal output to follow a complex, multi-turn mediation isn't ideal. I needed a better way to visualize the results! And this is where a bit of \"vibe coding\" came in incredibly handy.",{"type":29,"tag":38,"props":454,"children":455},{},[456],{"type":35,"value":457},"I prompted an LLM to generate a single HTML page using Vue.js and Tailwind CSS. My requirements were simple: list all generated mediation cases, and when a case is selected, display the full dialogue. The amazing part? I never actually looked at the generated code in detail! I was able to make incremental improvements by simply describing changes or new features I wanted, and the LLM iterated until it was almost exactly what I envisioned. This was super easy and fast! I also made a page that lists all of the different mediation sessions with cover images that I generated with the NVIDIA Flux.1 Dev NIM:",{"type":29,"tag":38,"props":459,"children":460},{},[461],{"type":29,"tag":173,"props":462,"children":464},{"alt":175,"src":463},"/static/mediation-simulator/viewer.png",[],{"type":29,"tag":38,"props":466,"children":467},{},[468,470,476],{"type":35,"value":469},"Having this simple web interface has been a game-changer for reviewing simulations. Plus, keeping it in my project repository means I can easily host it on GitHub Pages at ",{"type":29,"tag":408,"props":471,"children":473},{"className":472},[],[474],{"type":35,"value":475},"briancaffey.github.io/mediation-simulator",{"type":35,"value":477}," to share the results of my project. It's just so much better than staring at text files, and took just a few minutes to put together.",{"type":29,"tag":52,"props":479,"children":481},{"id":480},"a-deeper-look-into-the-nvidia-agent-intelligence-toolkit",[482],{"type":35,"value":483},"A deeper look into the NVIDIA Agent Intelligence Toolkit",{"type":29,"tag":38,"props":485,"children":486},{},[487],{"type":35,"value":488},"Now, I know what some developers think about LLM frameworks like LangChain/LangGraph, LlamaIndex, and CrewAI—there's often a bit of \"framework fatigue.\" But hear me out! The NVIDIA Agent Intelligence Toolkit brings all of these Frameworks together in a manageable way and it makes it really easy to not only write an agentic program, but it also makes it really easy to read other programs written with the framework.",{"type":29,"tag":38,"props":490,"children":491},{},[492],{"type":35,"value":493},"The key to understanding the AIQ Toolkit is the config files. These are YAML files that neatly list out all of the dependencies of your agentic application. Let's take a look at the config file I made for mediation simulator. It's a long file, so I'll share it and then break down the important sections:",{"type":29,"tag":495,"props":496,"children":500},"pre",{"code":497,"language":498,"meta":8,"className":499,"style":8},"general:\n  use_uvloop: true\n  front_end:\n    _type: fastapi\n    cors:\n      allow_origins: ['*']\n      allow_methods:\n        - GET\n        - POST\n        - OPTIONS\n    endpoints:\n      - path: /case/{case_id}\n        method: GET\n        description: Gets the mediation case for the given case ID.\n        function_name: get_mediation_case\n      - path: /case/{case_id}/session/{session_id}\n        method: GET\n        description: Gets the mediation session data for the given case ID and session ID.\n        function_name: get_mediation_session\n      - path: /case/{case_id}/session/{session_id}/send\n        method: POST\n        description: Sends a message to the mediation session for the given case ID and session ID.\n        function_name: send_message_to_mediation_session\n  telemetry:\n    enabled: false\n    tracing:\n      phoenix:\n        _type: phoenix\n        endpoint: http://localhost:6006/v1/traces\n        project: default\n\nretrievers:\n  milvus_retriever:\n    _type: milvus_retriever\n    uri: \"http://localhost:19530\"\n    embedding_model: \"nv-embedqa-e5-v5\"\n    collection_name: \"aiq_case_documents\"\n    vector_field: \"embedding\"\n    search_params:\n      metric_type: \"IP\" # works best with nv-embedqa-e5-v5\n\nllms:\n  nim_llm:\n    _type: nim\n    base_url: http://192.168.5.96:1234/v1\n    model_name: qwen3-8b\n    max_tokens: 10000\n    temperature: 0.7\n  mediation_llm:\n    _type: nim\n    base_url: http://192.168.5.96:1234/v1\n    model_name: qwen3-8b\n    max_tokens: 10000\n    temperature: 0.7\n\nmemory:\n  redis_memory:\n    _type: redis_memory\n    connection_url: redis://localhost:6379/0\n\nfunctions:\n  case_document_rag:\n    _type: case_document_rag\n    retriever: milvus_retriever\n    llm_name: nim_llm\n    collection_name: \"mediation_simulator_case_documents\"\n    top_k: 5\n  case_query_agent:\n    _type: case_query_agent\n    llm_name: nim_llm\n    tool_names:\n      - case_document_rag\n    verbose: true\n    max_iterations: 5\n\n  # server route functions\n  get_mediation_case:\n    _type: server/get_mediation_case\n  get_mediation_session:\n    _type: server/get_mediation_session\n  send_message_to_mediation_session:\n    _type: mediation\n\nembedders:\n  nv-embedqa-e5-v5:\n    _type: nim\n    base_url: http://192.168.5.96:8000/v1\n    model_name: nvidia/nv-embedqa-e5-v5\n\nworkflow:\n  _type: mediation\n  llm: mediation_llm\n  data_dir: ./data\n","yaml","language-yaml shiki shiki-themes github-light github-dark monokai",[501],{"type":29,"tag":408,"props":502,"children":503},{"__ignoreMap":8},[504,521,541,554,573,586,610,623,637,650,663,676,699,716,734,752,773,789,806,823,844,860,877,894,907,925,938,951,969,987,1005,1014,1027,1040,1057,1075,1093,1111,1129,1142,1166,1174,1187,1200,1217,1235,1253,1271,1289,1302,1318,1334,1350,1366,1382,1390,1403,1416,1433,1451,1459,1472,1485,1502,1519,1537,1554,1572,1585,1602,1618,1631,1643,1660,1677,1685,1694,1707,1724,1737,1754,1767,1784,1792,1805,1818,1834,1851,1868,1876,1889,1906,1924],{"type":29,"tag":422,"props":505,"children":508},{"class":506,"line":507},"line",1,[509,515],{"type":29,"tag":422,"props":510,"children":512},{"style":511},"--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[513],{"type":35,"value":514},"general",{"type":29,"tag":422,"props":516,"children":518},{"style":517},"--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[519],{"type":35,"value":520},":\n",{"type":29,"tag":422,"props":522,"children":524},{"class":506,"line":523},2,[525,530,535],{"type":29,"tag":422,"props":526,"children":527},{"style":511},[528],{"type":35,"value":529},"  use_uvloop",{"type":29,"tag":422,"props":531,"children":532},{"style":517},[533],{"type":35,"value":534},": ",{"type":29,"tag":422,"props":536,"children":538},{"style":537},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[539],{"type":35,"value":540},"true\n",{"type":29,"tag":422,"props":542,"children":544},{"class":506,"line":543},3,[545,550],{"type":29,"tag":422,"props":546,"children":547},{"style":511},[548],{"type":35,"value":549},"  front_end",{"type":29,"tag":422,"props":551,"children":552},{"style":517},[553],{"type":35,"value":520},{"type":29,"tag":422,"props":555,"children":557},{"class":506,"line":556},4,[558,563,567],{"type":29,"tag":422,"props":559,"children":560},{"style":511},[561],{"type":35,"value":562},"    _type",{"type":29,"tag":422,"props":564,"children":565},{"style":517},[566],{"type":35,"value":534},{"type":29,"tag":422,"props":568,"children":570},{"style":569},"--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[571],{"type":35,"value":572},"fastapi\n",{"type":29,"tag":422,"props":574,"children":576},{"class":506,"line":575},5,[577,582],{"type":29,"tag":422,"props":578,"children":579},{"style":511},[580],{"type":35,"value":581},"    cors",{"type":29,"tag":422,"props":583,"children":584},{"style":517},[585],{"type":35,"value":520},{"type":29,"tag":422,"props":587,"children":589},{"class":506,"line":588},6,[590,595,600,605],{"type":29,"tag":422,"props":591,"children":592},{"style":511},[593],{"type":35,"value":594},"      allow_origins",{"type":29,"tag":422,"props":596,"children":597},{"style":517},[598],{"type":35,"value":599},": [",{"type":29,"tag":422,"props":601,"children":602},{"style":569},[603],{"type":35,"value":604},"'*'",{"type":29,"tag":422,"props":606,"children":607},{"style":517},[608],{"type":35,"value":609},"]\n",{"type":29,"tag":422,"props":611,"children":613},{"class":506,"line":612},7,[614,619],{"type":29,"tag":422,"props":615,"children":616},{"style":511},[617],{"type":35,"value":618},"      allow_methods",{"type":29,"tag":422,"props":620,"children":621},{"style":517},[622],{"type":35,"value":520},{"type":29,"tag":422,"props":624,"children":626},{"class":506,"line":625},8,[627,632],{"type":29,"tag":422,"props":628,"children":629},{"style":517},[630],{"type":35,"value":631},"        - ",{"type":29,"tag":422,"props":633,"children":634},{"style":569},[635],{"type":35,"value":636},"GET\n",{"type":29,"tag":422,"props":638,"children":640},{"class":506,"line":639},9,[641,645],{"type":29,"tag":422,"props":642,"children":643},{"style":517},[644],{"type":35,"value":631},{"type":29,"tag":422,"props":646,"children":647},{"style":569},[648],{"type":35,"value":649},"POST\n",{"type":29,"tag":422,"props":651,"children":653},{"class":506,"line":652},10,[654,658],{"type":29,"tag":422,"props":655,"children":656},{"style":517},[657],{"type":35,"value":631},{"type":29,"tag":422,"props":659,"children":660},{"style":569},[661],{"type":35,"value":662},"OPTIONS\n",{"type":29,"tag":422,"props":664,"children":666},{"class":506,"line":665},11,[667,672],{"type":29,"tag":422,"props":668,"children":669},{"style":511},[670],{"type":35,"value":671},"    endpoints",{"type":29,"tag":422,"props":673,"children":674},{"style":517},[675],{"type":35,"value":520},{"type":29,"tag":422,"props":677,"children":679},{"class":506,"line":678},12,[680,685,690,694],{"type":29,"tag":422,"props":681,"children":682},{"style":517},[683],{"type":35,"value":684},"      - ",{"type":29,"tag":422,"props":686,"children":687},{"style":511},[688],{"type":35,"value":689},"path",{"type":29,"tag":422,"props":691,"children":692},{"style":517},[693],{"type":35,"value":534},{"type":29,"tag":422,"props":695,"children":696},{"style":569},[697],{"type":35,"value":698},"/case/{case_id}\n",{"type":29,"tag":422,"props":700,"children":702},{"class":506,"line":701},13,[703,708,712],{"type":29,"tag":422,"props":704,"children":705},{"style":511},[706],{"type":35,"value":707},"        method",{"type":29,"tag":422,"props":709,"children":710},{"style":517},[711],{"type":35,"value":534},{"type":29,"tag":422,"props":713,"children":714},{"style":569},[715],{"type":35,"value":636},{"type":29,"tag":422,"props":717,"children":719},{"class":506,"line":718},14,[720,725,729],{"type":29,"tag":422,"props":721,"children":722},{"style":511},[723],{"type":35,"value":724},"        description",{"type":29,"tag":422,"props":726,"children":727},{"style":517},[728],{"type":35,"value":534},{"type":29,"tag":422,"props":730,"children":731},{"style":569},[732],{"type":35,"value":733},"Gets the mediation case for the given case ID.\n",{"type":29,"tag":422,"props":735,"children":737},{"class":506,"line":736},15,[738,743,747],{"type":29,"tag":422,"props":739,"children":740},{"style":511},[741],{"type":35,"value":742},"        function_name",{"type":29,"tag":422,"props":744,"children":745},{"style":517},[746],{"type":35,"value":534},{"type":29,"tag":422,"props":748,"children":749},{"style":569},[750],{"type":35,"value":751},"get_mediation_case\n",{"type":29,"tag":422,"props":753,"children":755},{"class":506,"line":754},16,[756,760,764,768],{"type":29,"tag":422,"props":757,"children":758},{"style":517},[759],{"type":35,"value":684},{"type":29,"tag":422,"props":761,"children":762},{"style":511},[763],{"type":35,"value":689},{"type":29,"tag":422,"props":765,"children":766},{"style":517},[767],{"type":35,"value":534},{"type":29,"tag":422,"props":769,"children":770},{"style":569},[771],{"type":35,"value":772},"/case/{case_id}/session/{session_id}\n",{"type":29,"tag":422,"props":774,"children":776},{"class":506,"line":775},17,[777,781,785],{"type":29,"tag":422,"props":778,"children":779},{"style":511},[780],{"type":35,"value":707},{"type":29,"tag":422,"props":782,"children":783},{"style":517},[784],{"type":35,"value":534},{"type":29,"tag":422,"props":786,"children":787},{"style":569},[788],{"type":35,"value":636},{"type":29,"tag":422,"props":790,"children":792},{"class":506,"line":791},18,[793,797,801],{"type":29,"tag":422,"props":794,"children":795},{"style":511},[796],{"type":35,"value":724},{"type":29,"tag":422,"props":798,"children":799},{"style":517},[800],{"type":35,"value":534},{"type":29,"tag":422,"props":802,"children":803},{"style":569},[804],{"type":35,"value":805},"Gets the mediation session data for the given case ID and session ID.\n",{"type":29,"tag":422,"props":807,"children":809},{"class":506,"line":808},19,[810,814,818],{"type":29,"tag":422,"props":811,"children":812},{"style":511},[813],{"type":35,"value":742},{"type":29,"tag":422,"props":815,"children":816},{"style":517},[817],{"type":35,"value":534},{"type":29,"tag":422,"props":819,"children":820},{"style":569},[821],{"type":35,"value":822},"get_mediation_session\n",{"type":29,"tag":422,"props":824,"children":826},{"class":506,"line":825},20,[827,831,835,839],{"type":29,"tag":422,"props":828,"children":829},{"style":517},[830],{"type":35,"value":684},{"type":29,"tag":422,"props":832,"children":833},{"style":511},[834],{"type":35,"value":689},{"type":29,"tag":422,"props":836,"children":837},{"style":517},[838],{"type":35,"value":534},{"type":29,"tag":422,"props":840,"children":841},{"style":569},[842],{"type":35,"value":843},"/case/{case_id}/session/{session_id}/send\n",{"type":29,"tag":422,"props":845,"children":847},{"class":506,"line":846},21,[848,852,856],{"type":29,"tag":422,"props":849,"children":850},{"style":511},[851],{"type":35,"value":707},{"type":29,"tag":422,"props":853,"children":854},{"style":517},[855],{"type":35,"value":534},{"type":29,"tag":422,"props":857,"children":858},{"style":569},[859],{"type":35,"value":649},{"type":29,"tag":422,"props":861,"children":863},{"class":506,"line":862},22,[864,868,872],{"type":29,"tag":422,"props":865,"children":866},{"style":511},[867],{"type":35,"value":724},{"type":29,"tag":422,"props":869,"children":870},{"style":517},[871],{"type":35,"value":534},{"type":29,"tag":422,"props":873,"children":874},{"style":569},[875],{"type":35,"value":876},"Sends a message to the mediation session for the given case ID and session ID.\n",{"type":29,"tag":422,"props":878,"children":880},{"class":506,"line":879},23,[881,885,889],{"type":29,"tag":422,"props":882,"children":883},{"style":511},[884],{"type":35,"value":742},{"type":29,"tag":422,"props":886,"children":887},{"style":517},[888],{"type":35,"value":534},{"type":29,"tag":422,"props":890,"children":891},{"style":569},[892],{"type":35,"value":893},"send_message_to_mediation_session\n",{"type":29,"tag":422,"props":895,"children":897},{"class":506,"line":896},24,[898,903],{"type":29,"tag":422,"props":899,"children":900},{"style":511},[901],{"type":35,"value":902},"  telemetry",{"type":29,"tag":422,"props":904,"children":905},{"style":517},[906],{"type":35,"value":520},{"type":29,"tag":422,"props":908,"children":910},{"class":506,"line":909},25,[911,916,920],{"type":29,"tag":422,"props":912,"children":913},{"style":511},[914],{"type":35,"value":915},"    enabled",{"type":29,"tag":422,"props":917,"children":918},{"style":517},[919],{"type":35,"value":534},{"type":29,"tag":422,"props":921,"children":922},{"style":537},[923],{"type":35,"value":924},"false\n",{"type":29,"tag":422,"props":926,"children":928},{"class":506,"line":927},26,[929,934],{"type":29,"tag":422,"props":930,"children":931},{"style":511},[932],{"type":35,"value":933},"    tracing",{"type":29,"tag":422,"props":935,"children":936},{"style":517},[937],{"type":35,"value":520},{"type":29,"tag":422,"props":939,"children":941},{"class":506,"line":940},27,[942,947],{"type":29,"tag":422,"props":943,"children":944},{"style":511},[945],{"type":35,"value":946},"      phoenix",{"type":29,"tag":422,"props":948,"children":949},{"style":517},[950],{"type":35,"value":520},{"type":29,"tag":422,"props":952,"children":954},{"class":506,"line":953},28,[955,960,964],{"type":29,"tag":422,"props":956,"children":957},{"style":511},[958],{"type":35,"value":959},"        _type",{"type":29,"tag":422,"props":961,"children":962},{"style":517},[963],{"type":35,"value":534},{"type":29,"tag":422,"props":965,"children":966},{"style":569},[967],{"type":35,"value":968},"phoenix\n",{"type":29,"tag":422,"props":970,"children":972},{"class":506,"line":971},29,[973,978,982],{"type":29,"tag":422,"props":974,"children":975},{"style":511},[976],{"type":35,"value":977},"        endpoint",{"type":29,"tag":422,"props":979,"children":980},{"style":517},[981],{"type":35,"value":534},{"type":29,"tag":422,"props":983,"children":984},{"style":569},[985],{"type":35,"value":986},"http://localhost:6006/v1/traces\n",{"type":29,"tag":422,"props":988,"children":990},{"class":506,"line":989},30,[991,996,1000],{"type":29,"tag":422,"props":992,"children":993},{"style":511},[994],{"type":35,"value":995},"        project",{"type":29,"tag":422,"props":997,"children":998},{"style":517},[999],{"type":35,"value":534},{"type":29,"tag":422,"props":1001,"children":1002},{"style":569},[1003],{"type":35,"value":1004},"default\n",{"type":29,"tag":422,"props":1006,"children":1008},{"class":506,"line":1007},31,[1009],{"type":29,"tag":422,"props":1010,"children":1011},{"emptyLinePlaceholder":24},[1012],{"type":35,"value":1013},"\n",{"type":29,"tag":422,"props":1015,"children":1017},{"class":506,"line":1016},32,[1018,1023],{"type":29,"tag":422,"props":1019,"children":1020},{"style":511},[1021],{"type":35,"value":1022},"retrievers",{"type":29,"tag":422,"props":1024,"children":1025},{"style":517},[1026],{"type":35,"value":520},{"type":29,"tag":422,"props":1028,"children":1030},{"class":506,"line":1029},33,[1031,1036],{"type":29,"tag":422,"props":1032,"children":1033},{"style":511},[1034],{"type":35,"value":1035},"  milvus_retriever",{"type":29,"tag":422,"props":1037,"children":1038},{"style":517},[1039],{"type":35,"value":520},{"type":29,"tag":422,"props":1041,"children":1043},{"class":506,"line":1042},34,[1044,1048,1052],{"type":29,"tag":422,"props":1045,"children":1046},{"style":511},[1047],{"type":35,"value":562},{"type":29,"tag":422,"props":1049,"children":1050},{"style":517},[1051],{"type":35,"value":534},{"type":29,"tag":422,"props":1053,"children":1054},{"style":569},[1055],{"type":35,"value":1056},"milvus_retriever\n",{"type":29,"tag":422,"props":1058,"children":1060},{"class":506,"line":1059},35,[1061,1066,1070],{"type":29,"tag":422,"props":1062,"children":1063},{"style":511},[1064],{"type":35,"value":1065},"    uri",{"type":29,"tag":422,"props":1067,"children":1068},{"style":517},[1069],{"type":35,"value":534},{"type":29,"tag":422,"props":1071,"children":1072},{"style":569},[1073],{"type":35,"value":1074},"\"http://localhost:19530\"\n",{"type":29,"tag":422,"props":1076,"children":1078},{"class":506,"line":1077},36,[1079,1084,1088],{"type":29,"tag":422,"props":1080,"children":1081},{"style":511},[1082],{"type":35,"value":1083},"    embedding_model",{"type":29,"tag":422,"props":1085,"children":1086},{"style":517},[1087],{"type":35,"value":534},{"type":29,"tag":422,"props":1089,"children":1090},{"style":569},[1091],{"type":35,"value":1092},"\"nv-embedqa-e5-v5\"\n",{"type":29,"tag":422,"props":1094,"children":1096},{"class":506,"line":1095},37,[1097,1102,1106],{"type":29,"tag":422,"props":1098,"children":1099},{"style":511},[1100],{"type":35,"value":1101},"    collection_name",{"type":29,"tag":422,"props":1103,"children":1104},{"style":517},[1105],{"type":35,"value":534},{"type":29,"tag":422,"props":1107,"children":1108},{"style":569},[1109],{"type":35,"value":1110},"\"aiq_case_documents\"\n",{"type":29,"tag":422,"props":1112,"children":1114},{"class":506,"line":1113},38,[1115,1120,1124],{"type":29,"tag":422,"props":1116,"children":1117},{"style":511},[1118],{"type":35,"value":1119},"    vector_field",{"type":29,"tag":422,"props":1121,"children":1122},{"style":517},[1123],{"type":35,"value":534},{"type":29,"tag":422,"props":1125,"children":1126},{"style":569},[1127],{"type":35,"value":1128},"\"embedding\"\n",{"type":29,"tag":422,"props":1130,"children":1132},{"class":506,"line":1131},39,[1133,1138],{"type":29,"tag":422,"props":1134,"children":1135},{"style":511},[1136],{"type":35,"value":1137},"    search_params",{"type":29,"tag":422,"props":1139,"children":1140},{"style":517},[1141],{"type":35,"value":520},{"type":29,"tag":422,"props":1143,"children":1145},{"class":506,"line":1144},40,[1146,1151,1155,1160],{"type":29,"tag":422,"props":1147,"children":1148},{"style":511},[1149],{"type":35,"value":1150},"      metric_type",{"type":29,"tag":422,"props":1152,"children":1153},{"style":517},[1154],{"type":35,"value":534},{"type":29,"tag":422,"props":1156,"children":1157},{"style":569},[1158],{"type":35,"value":1159},"\"IP\"",{"type":29,"tag":422,"props":1161,"children":1163},{"style":1162},"--shiki-default:#6A737D;--shiki-dark:#6A737D;--shiki-sepia:#88846F",[1164],{"type":35,"value":1165}," # works best with nv-embedqa-e5-v5\n",{"type":29,"tag":422,"props":1167,"children":1169},{"class":506,"line":1168},41,[1170],{"type":29,"tag":422,"props":1171,"children":1172},{"emptyLinePlaceholder":24},[1173],{"type":35,"value":1013},{"type":29,"tag":422,"props":1175,"children":1177},{"class":506,"line":1176},42,[1178,1183],{"type":29,"tag":422,"props":1179,"children":1180},{"style":511},[1181],{"type":35,"value":1182},"llms",{"type":29,"tag":422,"props":1184,"children":1185},{"style":517},[1186],{"type":35,"value":520},{"type":29,"tag":422,"props":1188,"children":1190},{"class":506,"line":1189},43,[1191,1196],{"type":29,"tag":422,"props":1192,"children":1193},{"style":511},[1194],{"type":35,"value":1195},"  nim_llm",{"type":29,"tag":422,"props":1197,"children":1198},{"style":517},[1199],{"type":35,"value":520},{"type":29,"tag":422,"props":1201,"children":1203},{"class":506,"line":1202},44,[1204,1208,1212],{"type":29,"tag":422,"props":1205,"children":1206},{"style":511},[1207],{"type":35,"value":562},{"type":29,"tag":422,"props":1209,"children":1210},{"style":517},[1211],{"type":35,"value":534},{"type":29,"tag":422,"props":1213,"children":1214},{"style":569},[1215],{"type":35,"value":1216},"nim\n",{"type":29,"tag":422,"props":1218,"children":1220},{"class":506,"line":1219},45,[1221,1226,1230],{"type":29,"tag":422,"props":1222,"children":1223},{"style":511},[1224],{"type":35,"value":1225},"    base_url",{"type":29,"tag":422,"props":1227,"children":1228},{"style":517},[1229],{"type":35,"value":534},{"type":29,"tag":422,"props":1231,"children":1232},{"style":569},[1233],{"type":35,"value":1234},"http://192.168.5.96:1234/v1\n",{"type":29,"tag":422,"props":1236,"children":1238},{"class":506,"line":1237},46,[1239,1244,1248],{"type":29,"tag":422,"props":1240,"children":1241},{"style":511},[1242],{"type":35,"value":1243},"    model_name",{"type":29,"tag":422,"props":1245,"children":1246},{"style":517},[1247],{"type":35,"value":534},{"type":29,"tag":422,"props":1249,"children":1250},{"style":569},[1251],{"type":35,"value":1252},"qwen3-8b\n",{"type":29,"tag":422,"props":1254,"children":1256},{"class":506,"line":1255},47,[1257,1262,1266],{"type":29,"tag":422,"props":1258,"children":1259},{"style":511},[1260],{"type":35,"value":1261},"    max_tokens",{"type":29,"tag":422,"props":1263,"children":1264},{"style":517},[1265],{"type":35,"value":534},{"type":29,"tag":422,"props":1267,"children":1268},{"style":537},[1269],{"type":35,"value":1270},"10000\n",{"type":29,"tag":422,"props":1272,"children":1274},{"class":506,"line":1273},48,[1275,1280,1284],{"type":29,"tag":422,"props":1276,"children":1277},{"style":511},[1278],{"type":35,"value":1279},"    temperature",{"type":29,"tag":422,"props":1281,"children":1282},{"style":517},[1283],{"type":35,"value":534},{"type":29,"tag":422,"props":1285,"children":1286},{"style":537},[1287],{"type":35,"value":1288},"0.7\n",{"type":29,"tag":422,"props":1290,"children":1292},{"class":506,"line":1291},49,[1293,1298],{"type":29,"tag":422,"props":1294,"children":1295},{"style":511},[1296],{"type":35,"value":1297},"  mediation_llm",{"type":29,"tag":422,"props":1299,"children":1300},{"style":517},[1301],{"type":35,"value":520},{"type":29,"tag":422,"props":1303,"children":1305},{"class":506,"line":1304},50,[1306,1310,1314],{"type":29,"tag":422,"props":1307,"children":1308},{"style":511},[1309],{"type":35,"value":562},{"type":29,"tag":422,"props":1311,"children":1312},{"style":517},[1313],{"type":35,"value":534},{"type":29,"tag":422,"props":1315,"children":1316},{"style":569},[1317],{"type":35,"value":1216},{"type":29,"tag":422,"props":1319,"children":1321},{"class":506,"line":1320},51,[1322,1326,1330],{"type":29,"tag":422,"props":1323,"children":1324},{"style":511},[1325],{"type":35,"value":1225},{"type":29,"tag":422,"props":1327,"children":1328},{"style":517},[1329],{"type":35,"value":534},{"type":29,"tag":422,"props":1331,"children":1332},{"style":569},[1333],{"type":35,"value":1234},{"type":29,"tag":422,"props":1335,"children":1337},{"class":506,"line":1336},52,[1338,1342,1346],{"type":29,"tag":422,"props":1339,"children":1340},{"style":511},[1341],{"type":35,"value":1243},{"type":29,"tag":422,"props":1343,"children":1344},{"style":517},[1345],{"type":35,"value":534},{"type":29,"tag":422,"props":1347,"children":1348},{"style":569},[1349],{"type":35,"value":1252},{"type":29,"tag":422,"props":1351,"children":1353},{"class":506,"line":1352},53,[1354,1358,1362],{"type":29,"tag":422,"props":1355,"children":1356},{"style":511},[1357],{"type":35,"value":1261},{"type":29,"tag":422,"props":1359,"children":1360},{"style":517},[1361],{"type":35,"value":534},{"type":29,"tag":422,"props":1363,"children":1364},{"style":537},[1365],{"type":35,"value":1270},{"type":29,"tag":422,"props":1367,"children":1369},{"class":506,"line":1368},54,[1370,1374,1378],{"type":29,"tag":422,"props":1371,"children":1372},{"style":511},[1373],{"type":35,"value":1279},{"type":29,"tag":422,"props":1375,"children":1376},{"style":517},[1377],{"type":35,"value":534},{"type":29,"tag":422,"props":1379,"children":1380},{"style":537},[1381],{"type":35,"value":1288},{"type":29,"tag":422,"props":1383,"children":1385},{"class":506,"line":1384},55,[1386],{"type":29,"tag":422,"props":1387,"children":1388},{"emptyLinePlaceholder":24},[1389],{"type":35,"value":1013},{"type":29,"tag":422,"props":1391,"children":1393},{"class":506,"line":1392},56,[1394,1399],{"type":29,"tag":422,"props":1395,"children":1396},{"style":511},[1397],{"type":35,"value":1398},"memory",{"type":29,"tag":422,"props":1400,"children":1401},{"style":517},[1402],{"type":35,"value":520},{"type":29,"tag":422,"props":1404,"children":1406},{"class":506,"line":1405},57,[1407,1412],{"type":29,"tag":422,"props":1408,"children":1409},{"style":511},[1410],{"type":35,"value":1411},"  redis_memory",{"type":29,"tag":422,"props":1413,"children":1414},{"style":517},[1415],{"type":35,"value":520},{"type":29,"tag":422,"props":1417,"children":1419},{"class":506,"line":1418},58,[1420,1424,1428],{"type":29,"tag":422,"props":1421,"children":1422},{"style":511},[1423],{"type":35,"value":562},{"type":29,"tag":422,"props":1425,"children":1426},{"style":517},[1427],{"type":35,"value":534},{"type":29,"tag":422,"props":1429,"children":1430},{"style":569},[1431],{"type":35,"value":1432},"redis_memory\n",{"type":29,"tag":422,"props":1434,"children":1436},{"class":506,"line":1435},59,[1437,1442,1446],{"type":29,"tag":422,"props":1438,"children":1439},{"style":511},[1440],{"type":35,"value":1441},"    connection_url",{"type":29,"tag":422,"props":1443,"children":1444},{"style":517},[1445],{"type":35,"value":534},{"type":29,"tag":422,"props":1447,"children":1448},{"style":569},[1449],{"type":35,"value":1450},"redis://localhost:6379/0\n",{"type":29,"tag":422,"props":1452,"children":1454},{"class":506,"line":1453},60,[1455],{"type":29,"tag":422,"props":1456,"children":1457},{"emptyLinePlaceholder":24},[1458],{"type":35,"value":1013},{"type":29,"tag":422,"props":1460,"children":1462},{"class":506,"line":1461},61,[1463,1468],{"type":29,"tag":422,"props":1464,"children":1465},{"style":511},[1466],{"type":35,"value":1467},"functions",{"type":29,"tag":422,"props":1469,"children":1470},{"style":517},[1471],{"type":35,"value":520},{"type":29,"tag":422,"props":1473,"children":1475},{"class":506,"line":1474},62,[1476,1481],{"type":29,"tag":422,"props":1477,"children":1478},{"style":511},[1479],{"type":35,"value":1480},"  case_document_rag",{"type":29,"tag":422,"props":1482,"children":1483},{"style":517},[1484],{"type":35,"value":520},{"type":29,"tag":422,"props":1486,"children":1488},{"class":506,"line":1487},63,[1489,1493,1497],{"type":29,"tag":422,"props":1490,"children":1491},{"style":511},[1492],{"type":35,"value":562},{"type":29,"tag":422,"props":1494,"children":1495},{"style":517},[1496],{"type":35,"value":534},{"type":29,"tag":422,"props":1498,"children":1499},{"style":569},[1500],{"type":35,"value":1501},"case_document_rag\n",{"type":29,"tag":422,"props":1503,"children":1505},{"class":506,"line":1504},64,[1506,1511,1515],{"type":29,"tag":422,"props":1507,"children":1508},{"style":511},[1509],{"type":35,"value":1510},"    retriever",{"type":29,"tag":422,"props":1512,"children":1513},{"style":517},[1514],{"type":35,"value":534},{"type":29,"tag":422,"props":1516,"children":1517},{"style":569},[1518],{"type":35,"value":1056},{"type":29,"tag":422,"props":1520,"children":1522},{"class":506,"line":1521},65,[1523,1528,1532],{"type":29,"tag":422,"props":1524,"children":1525},{"style":511},[1526],{"type":35,"value":1527},"    llm_name",{"type":29,"tag":422,"props":1529,"children":1530},{"style":517},[1531],{"type":35,"value":534},{"type":29,"tag":422,"props":1533,"children":1534},{"style":569},[1535],{"type":35,"value":1536},"nim_llm\n",{"type":29,"tag":422,"props":1538,"children":1540},{"class":506,"line":1539},66,[1541,1545,1549],{"type":29,"tag":422,"props":1542,"children":1543},{"style":511},[1544],{"type":35,"value":1101},{"type":29,"tag":422,"props":1546,"children":1547},{"style":517},[1548],{"type":35,"value":534},{"type":29,"tag":422,"props":1550,"children":1551},{"style":569},[1552],{"type":35,"value":1553},"\"mediation_simulator_case_documents\"\n",{"type":29,"tag":422,"props":1555,"children":1557},{"class":506,"line":1556},67,[1558,1563,1567],{"type":29,"tag":422,"props":1559,"children":1560},{"style":511},[1561],{"type":35,"value":1562},"    top_k",{"type":29,"tag":422,"props":1564,"children":1565},{"style":517},[1566],{"type":35,"value":534},{"type":29,"tag":422,"props":1568,"children":1569},{"style":537},[1570],{"type":35,"value":1571},"5\n",{"type":29,"tag":422,"props":1573,"children":1575},{"class":506,"line":1574},68,[1576,1581],{"type":29,"tag":422,"props":1577,"children":1578},{"style":511},[1579],{"type":35,"value":1580},"  case_query_agent",{"type":29,"tag":422,"props":1582,"children":1583},{"style":517},[1584],{"type":35,"value":520},{"type":29,"tag":422,"props":1586,"children":1588},{"class":506,"line":1587},69,[1589,1593,1597],{"type":29,"tag":422,"props":1590,"children":1591},{"style":511},[1592],{"type":35,"value":562},{"type":29,"tag":422,"props":1594,"children":1595},{"style":517},[1596],{"type":35,"value":534},{"type":29,"tag":422,"props":1598,"children":1599},{"style":569},[1600],{"type":35,"value":1601},"case_query_agent\n",{"type":29,"tag":422,"props":1603,"children":1605},{"class":506,"line":1604},70,[1606,1610,1614],{"type":29,"tag":422,"props":1607,"children":1608},{"style":511},[1609],{"type":35,"value":1527},{"type":29,"tag":422,"props":1611,"children":1612},{"style":517},[1613],{"type":35,"value":534},{"type":29,"tag":422,"props":1615,"children":1616},{"style":569},[1617],{"type":35,"value":1536},{"type":29,"tag":422,"props":1619,"children":1621},{"class":506,"line":1620},71,[1622,1627],{"type":29,"tag":422,"props":1623,"children":1624},{"style":511},[1625],{"type":35,"value":1626},"    tool_names",{"type":29,"tag":422,"props":1628,"children":1629},{"style":517},[1630],{"type":35,"value":520},{"type":29,"tag":422,"props":1632,"children":1634},{"class":506,"line":1633},72,[1635,1639],{"type":29,"tag":422,"props":1636,"children":1637},{"style":517},[1638],{"type":35,"value":684},{"type":29,"tag":422,"props":1640,"children":1641},{"style":569},[1642],{"type":35,"value":1501},{"type":29,"tag":422,"props":1644,"children":1646},{"class":506,"line":1645},73,[1647,1652,1656],{"type":29,"tag":422,"props":1648,"children":1649},{"style":511},[1650],{"type":35,"value":1651},"    verbose",{"type":29,"tag":422,"props":1653,"children":1654},{"style":517},[1655],{"type":35,"value":534},{"type":29,"tag":422,"props":1657,"children":1658},{"style":537},[1659],{"type":35,"value":540},{"type":29,"tag":422,"props":1661,"children":1663},{"class":506,"line":1662},74,[1664,1669,1673],{"type":29,"tag":422,"props":1665,"children":1666},{"style":511},[1667],{"type":35,"value":1668},"    max_iterations",{"type":29,"tag":422,"props":1670,"children":1671},{"style":517},[1672],{"type":35,"value":534},{"type":29,"tag":422,"props":1674,"children":1675},{"style":537},[1676],{"type":35,"value":1571},{"type":29,"tag":422,"props":1678,"children":1680},{"class":506,"line":1679},75,[1681],{"type":29,"tag":422,"props":1682,"children":1683},{"emptyLinePlaceholder":24},[1684],{"type":35,"value":1013},{"type":29,"tag":422,"props":1686,"children":1688},{"class":506,"line":1687},76,[1689],{"type":29,"tag":422,"props":1690,"children":1691},{"style":1162},[1692],{"type":35,"value":1693},"  # server route functions\n",{"type":29,"tag":422,"props":1695,"children":1697},{"class":506,"line":1696},77,[1698,1703],{"type":29,"tag":422,"props":1699,"children":1700},{"style":511},[1701],{"type":35,"value":1702},"  get_mediation_case",{"type":29,"tag":422,"props":1704,"children":1705},{"style":517},[1706],{"type":35,"value":520},{"type":29,"tag":422,"props":1708,"children":1710},{"class":506,"line":1709},78,[1711,1715,1719],{"type":29,"tag":422,"props":1712,"children":1713},{"style":511},[1714],{"type":35,"value":562},{"type":29,"tag":422,"props":1716,"children":1717},{"style":517},[1718],{"type":35,"value":534},{"type":29,"tag":422,"props":1720,"children":1721},{"style":569},[1722],{"type":35,"value":1723},"server/get_mediation_case\n",{"type":29,"tag":422,"props":1725,"children":1727},{"class":506,"line":1726},79,[1728,1733],{"type":29,"tag":422,"props":1729,"children":1730},{"style":511},[1731],{"type":35,"value":1732},"  get_mediation_session",{"type":29,"tag":422,"props":1734,"children":1735},{"style":517},[1736],{"type":35,"value":520},{"type":29,"tag":422,"props":1738,"children":1740},{"class":506,"line":1739},80,[1741,1745,1749],{"type":29,"tag":422,"props":1742,"children":1743},{"style":511},[1744],{"type":35,"value":562},{"type":29,"tag":422,"props":1746,"children":1747},{"style":517},[1748],{"type":35,"value":534},{"type":29,"tag":422,"props":1750,"children":1751},{"style":569},[1752],{"type":35,"value":1753},"server/get_mediation_session\n",{"type":29,"tag":422,"props":1755,"children":1757},{"class":506,"line":1756},81,[1758,1763],{"type":29,"tag":422,"props":1759,"children":1760},{"style":511},[1761],{"type":35,"value":1762},"  send_message_to_mediation_session",{"type":29,"tag":422,"props":1764,"children":1765},{"style":517},[1766],{"type":35,"value":520},{"type":29,"tag":422,"props":1768,"children":1770},{"class":506,"line":1769},82,[1771,1775,1779],{"type":29,"tag":422,"props":1772,"children":1773},{"style":511},[1774],{"type":35,"value":562},{"type":29,"tag":422,"props":1776,"children":1777},{"style":517},[1778],{"type":35,"value":534},{"type":29,"tag":422,"props":1780,"children":1781},{"style":569},[1782],{"type":35,"value":1783},"mediation\n",{"type":29,"tag":422,"props":1785,"children":1787},{"class":506,"line":1786},83,[1788],{"type":29,"tag":422,"props":1789,"children":1790},{"emptyLinePlaceholder":24},[1791],{"type":35,"value":1013},{"type":29,"tag":422,"props":1793,"children":1795},{"class":506,"line":1794},84,[1796,1801],{"type":29,"tag":422,"props":1797,"children":1798},{"style":511},[1799],{"type":35,"value":1800},"embedders",{"type":29,"tag":422,"props":1802,"children":1803},{"style":517},[1804],{"type":35,"value":520},{"type":29,"tag":422,"props":1806,"children":1808},{"class":506,"line":1807},85,[1809,1814],{"type":29,"tag":422,"props":1810,"children":1811},{"style":511},[1812],{"type":35,"value":1813},"  nv-embedqa-e5-v5",{"type":29,"tag":422,"props":1815,"children":1816},{"style":517},[1817],{"type":35,"value":520},{"type":29,"tag":422,"props":1819,"children":1821},{"class":506,"line":1820},86,[1822,1826,1830],{"type":29,"tag":422,"props":1823,"children":1824},{"style":511},[1825],{"type":35,"value":562},{"type":29,"tag":422,"props":1827,"children":1828},{"style":517},[1829],{"type":35,"value":534},{"type":29,"tag":422,"props":1831,"children":1832},{"style":569},[1833],{"type":35,"value":1216},{"type":29,"tag":422,"props":1835,"children":1837},{"class":506,"line":1836},87,[1838,1842,1846],{"type":29,"tag":422,"props":1839,"children":1840},{"style":511},[1841],{"type":35,"value":1225},{"type":29,"tag":422,"props":1843,"children":1844},{"style":517},[1845],{"type":35,"value":534},{"type":29,"tag":422,"props":1847,"children":1848},{"style":569},[1849],{"type":35,"value":1850},"http://192.168.5.96:8000/v1\n",{"type":29,"tag":422,"props":1852,"children":1854},{"class":506,"line":1853},88,[1855,1859,1863],{"type":29,"tag":422,"props":1856,"children":1857},{"style":511},[1858],{"type":35,"value":1243},{"type":29,"tag":422,"props":1860,"children":1861},{"style":517},[1862],{"type":35,"value":534},{"type":29,"tag":422,"props":1864,"children":1865},{"style":569},[1866],{"type":35,"value":1867},"nvidia/nv-embedqa-e5-v5\n",{"type":29,"tag":422,"props":1869,"children":1871},{"class":506,"line":1870},89,[1872],{"type":29,"tag":422,"props":1873,"children":1874},{"emptyLinePlaceholder":24},[1875],{"type":35,"value":1013},{"type":29,"tag":422,"props":1877,"children":1879},{"class":506,"line":1878},90,[1880,1885],{"type":29,"tag":422,"props":1881,"children":1882},{"style":511},[1883],{"type":35,"value":1884},"workflow",{"type":29,"tag":422,"props":1886,"children":1887},{"style":517},[1888],{"type":35,"value":520},{"type":29,"tag":422,"props":1890,"children":1892},{"class":506,"line":1891},91,[1893,1898,1902],{"type":29,"tag":422,"props":1894,"children":1895},{"style":511},[1896],{"type":35,"value":1897},"  _type",{"type":29,"tag":422,"props":1899,"children":1900},{"style":517},[1901],{"type":35,"value":534},{"type":29,"tag":422,"props":1903,"children":1904},{"style":569},[1905],{"type":35,"value":1783},{"type":29,"tag":422,"props":1907,"children":1909},{"class":506,"line":1908},92,[1910,1915,1919],{"type":29,"tag":422,"props":1911,"children":1912},{"style":511},[1913],{"type":35,"value":1914},"  llm",{"type":29,"tag":422,"props":1916,"children":1917},{"style":517},[1918],{"type":35,"value":534},{"type":29,"tag":422,"props":1920,"children":1921},{"style":569},[1922],{"type":35,"value":1923},"mediation_llm\n",{"type":29,"tag":422,"props":1925,"children":1927},{"class":506,"line":1926},93,[1928,1933,1937],{"type":29,"tag":422,"props":1929,"children":1930},{"style":511},[1931],{"type":35,"value":1932},"  data_dir",{"type":29,"tag":422,"props":1934,"children":1935},{"style":517},[1936],{"type":35,"value":534},{"type":29,"tag":422,"props":1938,"children":1939},{"style":569},[1940],{"type":35,"value":1941},"./data\n",{"type":29,"tag":38,"props":1943,"children":1944},{},[1945,1947,1952],{"type":35,"value":1946},"Let's start at the top with ",{"type":29,"tag":408,"props":1948,"children":1950},{"className":1949},[],[1951],{"type":35,"value":514},{"type":35,"value":1953}," key",{"type":29,"tag":104,"props":1955,"children":1956},{"id":514},[1957],{"type":29,"tag":408,"props":1958,"children":1960},{"className":1959},[],[1961],{"type":35,"value":514},{"type":29,"tag":38,"props":1963,"children":1964},{},[1965],{"type":35,"value":1966},"This section mainly defines the API routes for the FastAPI integration and the telemetry options I set up to view all of my programs traces. When building applications with LLMs, instrumenting for observability is key! Agent Intelligence Toolkit makes it really easy to hook up not just one observability tool, but really any number of observability tools! It all works through asynchronous calls, so it doesn't slow down the application.",{"type":29,"tag":38,"props":1968,"children":1969},{},[1970],{"type":29,"tag":173,"props":1971,"children":1974},{"alt":1972,"src":1973},"LLM observability","/static/mediation-simulator/Phoenix.png",[],{"type":29,"tag":38,"props":1976,"children":1977},{},[1978],{"type":35,"value":1979},"Defining the API routes was pretty straightforward. You define an AIQ Toolkit function that handles the route's behavior. These routes are also automatically added to the API's documentation page using OpenAPI/Swagger:",{"type":29,"tag":38,"props":1981,"children":1982},{},[1983],{"type":29,"tag":173,"props":1984,"children":1987},{"alt":1985,"src":1986},"API documentation","/static/mediation-simulator/fastapi.png",[],{"type":29,"tag":104,"props":1989,"children":1990},{"id":1022},[1991],{"type":29,"tag":408,"props":1992,"children":1994},{"className":1993},[],[1995],{"type":35,"value":1022},{"type":29,"tag":38,"props":1997,"children":1998},{},[1999],{"type":35,"value":2000},"This section allows you to define different vector storage databases that your application uses. I used Milvus to store embeddings of case documents. Ultimately I wasn't able to incorporate these embeddings into my application.",{"type":29,"tag":104,"props":2002,"children":2003},{"id":1182},[2004],{"type":29,"tag":408,"props":2005,"children":2007},{"className":2006},[],[2008],{"type":35,"value":1182},{"type":29,"tag":38,"props":2010,"children":2011},{},[2012],{"type":35,"value":2013},"The LLMs section allows you to plug in to any LLM. I used a combination of LM Studio and NVIDIA NIMs to test my application. You can pretty much use any LLM that provides an OpenAI API interface. Local models have come a long way! New models like Qwen3 and Llama 3.1 have massive context windows (130k tokens!) which is a total game changer. These models are also getting a lot smarter. I was really impressed with how well these models followed my prompts. Using local models is nice because you will not be rate limited. I processed about 2 million prompt tokens and generated about 1.5 million completion tokens during the development of Mediation Simulator. As amazing as these new frontier models are now, I'm still bullish on the capabilities of (small) large language models that can run on consumer hardware like NVIDIA RTX GPUs.",{"type":29,"tag":104,"props":2015,"children":2016},{"id":1398},[2017],{"type":29,"tag":408,"props":2018,"children":2020},{"className":2019},[],[2021],{"type":35,"value":1398},{"type":29,"tag":38,"props":2023,"children":2024},{},[2025],{"type":35,"value":2026},"Figure out how memory works in the AIQ toolkit was a big \"ah-ha!\" moment for me. It allows for persisting chat messages between generations, and also storing arbitrary data that you can use in your workflows. I decided to use Redis (Redis Stack) to build a memory backend. Here's a quick look at what that code looks like:",{"type":29,"tag":495,"props":2028,"children":2032},{"code":2029,"language":2030,"meta":8,"className":2031,"style":8},"@register_memory(config_type=RedisMemoryConfig)\nasync def redis_memory(config: RedisMemoryConfig, builder: Builder):\n\n    class RedisMemoryEditor(MemoryEditor):\n        def __init__(self, config: RedisMemoryConfig):\n            self._conn_url = config.connection_url\n            self.redis = Redis.from_url(self._conn_url)\n\n        async def get_client(self, session_id: str) -> RedisChatMessageHistory:\n            conn = RedisChatMessageHistory(\n                session_id=session_id, redis_url=self._conn_url\n            )\n            return conn\n\n        # mediation session state management\n        async def add_messages(\n            self, items: Sequence[BaseMessage], session_id: str\n        ) -> None:\n            client = await self.get_client(session_id)\n            await client.aadd_messages(items)\n\n        async def get_messages(self, session_id: str) -> Sequence[BaseMessage]:\n            client = await self.get_client(session_id)\n            messages = await client.aget_messages()\n            return messages\n\n        # case generation state management\n        async def save_case_description(\n            self, case_description: str, case_id: str\n        ) -> None:\n            \"\"\"\n            sets the case description using the \u003Ccase_id>_case_description as the redis key\n            \"\"\"\n            self.redis.set(f\"{case_id}_case_description\", case_description)\n\n        ...\n","python","language-python shiki shiki-themes github-light github-dark monokai",[2033],{"type":29,"tag":408,"props":2034,"children":2035},{"__ignoreMap":8},[2036,2067,2111,2118,2147,2184,2207,2237,2244,2293,2310,2345,2353,2366,2373,2381,2402,2436,2453,2480,2493,2500,2545,2568,2589,2601,2608,2616,2636,2677,2692,2700,2708,2715,2761,2768],{"type":29,"tag":422,"props":2037,"children":2038},{"class":506,"line":507},[2039,2045,2050,2056,2062],{"type":29,"tag":422,"props":2040,"children":2042},{"style":2041},"--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E",[2043],{"type":35,"value":2044},"@register_memory",{"type":29,"tag":422,"props":2046,"children":2047},{"style":517},[2048],{"type":35,"value":2049},"(",{"type":29,"tag":422,"props":2051,"children":2053},{"style":2052},"--shiki-default:#E36209;--shiki-dark:#FFAB70;--shiki-sepia:#FD971F;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[2054],{"type":35,"value":2055},"config_type",{"type":29,"tag":422,"props":2057,"children":2059},{"style":2058},"--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[2060],{"type":35,"value":2061},"=",{"type":29,"tag":422,"props":2063,"children":2064},{"style":517},[2065],{"type":35,"value":2066},"RedisMemoryConfig)\n",{"type":29,"tag":422,"props":2068,"children":2069},{"class":506,"line":523},[2070,2076,2081,2086,2090,2096,2101,2106],{"type":29,"tag":422,"props":2071,"children":2073},{"style":2072},"--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[2074],{"type":35,"value":2075},"async",{"type":29,"tag":422,"props":2077,"children":2078},{"style":2072},[2079],{"type":35,"value":2080}," def",{"type":29,"tag":422,"props":2082,"children":2083},{"style":2041},[2084],{"type":35,"value":2085}," redis_memory",{"type":29,"tag":422,"props":2087,"children":2088},{"style":517},[2089],{"type":35,"value":2049},{"type":29,"tag":422,"props":2091,"children":2093},{"style":2092},"--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#FD971F;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[2094],{"type":35,"value":2095},"config",{"type":29,"tag":422,"props":2097,"children":2098},{"style":517},[2099],{"type":35,"value":2100},": RedisMemoryConfig, ",{"type":29,"tag":422,"props":2102,"children":2103},{"style":2092},[2104],{"type":35,"value":2105},"builder",{"type":29,"tag":422,"props":2107,"children":2108},{"style":517},[2109],{"type":35,"value":2110},": Builder):\n",{"type":29,"tag":422,"props":2112,"children":2113},{"class":506,"line":543},[2114],{"type":29,"tag":422,"props":2115,"children":2116},{"emptyLinePlaceholder":24},[2117],{"type":35,"value":1013},{"type":29,"tag":422,"props":2119,"children":2120},{"class":506,"line":556},[2121,2126,2132,2136,2142],{"type":29,"tag":422,"props":2122,"children":2123},{"style":2072},[2124],{"type":35,"value":2125},"    class",{"type":29,"tag":422,"props":2127,"children":2129},{"style":2128},"--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E;--shiki-default-text-decoration:inherit;--shiki-dark-text-decoration:inherit;--shiki-sepia-text-decoration:underline",[2130],{"type":35,"value":2131}," RedisMemoryEditor",{"type":29,"tag":422,"props":2133,"children":2134},{"style":517},[2135],{"type":35,"value":2049},{"type":29,"tag":422,"props":2137,"children":2139},{"style":2138},"--shiki-default:#6F42C1;--shiki-dark:#B392F0;--shiki-sepia:#A6E22E;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic;--shiki-default-text-decoration:inherit;--shiki-dark-text-decoration:inherit;--shiki-sepia-text-decoration:underline",[2140],{"type":35,"value":2141},"MemoryEditor",{"type":29,"tag":422,"props":2143,"children":2144},{"style":517},[2145],{"type":35,"value":2146},"):\n",{"type":29,"tag":422,"props":2148,"children":2149},{"class":506,"line":575},[2150,2155,2161,2165,2170,2175,2179],{"type":29,"tag":422,"props":2151,"children":2152},{"style":2072},[2153],{"type":35,"value":2154},"        def",{"type":29,"tag":422,"props":2156,"children":2158},{"style":2157},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF",[2159],{"type":35,"value":2160}," __init__",{"type":29,"tag":422,"props":2162,"children":2163},{"style":517},[2164],{"type":35,"value":2049},{"type":29,"tag":422,"props":2166,"children":2167},{"style":2092},[2168],{"type":35,"value":2169},"self",{"type":29,"tag":422,"props":2171,"children":2172},{"style":517},[2173],{"type":35,"value":2174},", ",{"type":29,"tag":422,"props":2176,"children":2177},{"style":2092},[2178],{"type":35,"value":2095},{"type":29,"tag":422,"props":2180,"children":2181},{"style":517},[2182],{"type":35,"value":2183},": RedisMemoryConfig):\n",{"type":29,"tag":422,"props":2185,"children":2186},{"class":506,"line":588},[2187,2193,2198,2202],{"type":29,"tag":422,"props":2188,"children":2190},{"style":2189},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#FD971F",[2191],{"type":35,"value":2192},"            self",{"type":29,"tag":422,"props":2194,"children":2195},{"style":517},[2196],{"type":35,"value":2197},"._conn_url ",{"type":29,"tag":422,"props":2199,"children":2200},{"style":2058},[2201],{"type":35,"value":2061},{"type":29,"tag":422,"props":2203,"children":2204},{"style":517},[2205],{"type":35,"value":2206}," config.connection_url\n",{"type":29,"tag":422,"props":2208,"children":2209},{"class":506,"line":612},[2210,2214,2219,2223,2228,2232],{"type":29,"tag":422,"props":2211,"children":2212},{"style":2189},[2213],{"type":35,"value":2192},{"type":29,"tag":422,"props":2215,"children":2216},{"style":517},[2217],{"type":35,"value":2218},".redis ",{"type":29,"tag":422,"props":2220,"children":2221},{"style":2058},[2222],{"type":35,"value":2061},{"type":29,"tag":422,"props":2224,"children":2225},{"style":517},[2226],{"type":35,"value":2227}," Redis.from_url(",{"type":29,"tag":422,"props":2229,"children":2230},{"style":2189},[2231],{"type":35,"value":2169},{"type":29,"tag":422,"props":2233,"children":2234},{"style":517},[2235],{"type":35,"value":2236},"._conn_url)\n",{"type":29,"tag":422,"props":2238,"children":2239},{"class":506,"line":625},[2240],{"type":29,"tag":422,"props":2241,"children":2242},{"emptyLinePlaceholder":24},[2243],{"type":35,"value":1013},{"type":29,"tag":422,"props":2245,"children":2246},{"class":506,"line":639},[2247,2252,2256,2261,2265,2269,2273,2278,2282,2288],{"type":29,"tag":422,"props":2248,"children":2249},{"style":2072},[2250],{"type":35,"value":2251},"        async",{"type":29,"tag":422,"props":2253,"children":2254},{"style":2072},[2255],{"type":35,"value":2080},{"type":29,"tag":422,"props":2257,"children":2258},{"style":2041},[2259],{"type":35,"value":2260}," get_client",{"type":29,"tag":422,"props":2262,"children":2263},{"style":517},[2264],{"type":35,"value":2049},{"type":29,"tag":422,"props":2266,"children":2267},{"style":2092},[2268],{"type":35,"value":2169},{"type":29,"tag":422,"props":2270,"children":2271},{"style":517},[2272],{"type":35,"value":2174},{"type":29,"tag":422,"props":2274,"children":2275},{"style":2092},[2276],{"type":35,"value":2277},"session_id",{"type":29,"tag":422,"props":2279,"children":2280},{"style":517},[2281],{"type":35,"value":534},{"type":29,"tag":422,"props":2283,"children":2285},{"style":2284},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#66D9EF;--shiki-default-font-style:inherit;--shiki-dark-font-style:inherit;--shiki-sepia-font-style:italic",[2286],{"type":35,"value":2287},"str",{"type":29,"tag":422,"props":2289,"children":2290},{"style":517},[2291],{"type":35,"value":2292},") -> RedisChatMessageHistory:\n",{"type":29,"tag":422,"props":2294,"children":2295},{"class":506,"line":652},[2296,2301,2305],{"type":29,"tag":422,"props":2297,"children":2298},{"style":517},[2299],{"type":35,"value":2300},"            conn ",{"type":29,"tag":422,"props":2302,"children":2303},{"style":2058},[2304],{"type":35,"value":2061},{"type":29,"tag":422,"props":2306,"children":2307},{"style":517},[2308],{"type":35,"value":2309}," RedisChatMessageHistory(\n",{"type":29,"tag":422,"props":2311,"children":2312},{"class":506,"line":665},[2313,2318,2322,2327,2332,2336,2340],{"type":29,"tag":422,"props":2314,"children":2315},{"style":2052},[2316],{"type":35,"value":2317},"                session_id",{"type":29,"tag":422,"props":2319,"children":2320},{"style":2058},[2321],{"type":35,"value":2061},{"type":29,"tag":422,"props":2323,"children":2324},{"style":517},[2325],{"type":35,"value":2326},"session_id, ",{"type":29,"tag":422,"props":2328,"children":2329},{"style":2052},[2330],{"type":35,"value":2331},"redis_url",{"type":29,"tag":422,"props":2333,"children":2334},{"style":2058},[2335],{"type":35,"value":2061},{"type":29,"tag":422,"props":2337,"children":2338},{"style":2189},[2339],{"type":35,"value":2169},{"type":29,"tag":422,"props":2341,"children":2342},{"style":517},[2343],{"type":35,"value":2344},"._conn_url\n",{"type":29,"tag":422,"props":2346,"children":2347},{"class":506,"line":678},[2348],{"type":29,"tag":422,"props":2349,"children":2350},{"style":517},[2351],{"type":35,"value":2352},"            )\n",{"type":29,"tag":422,"props":2354,"children":2355},{"class":506,"line":701},[2356,2361],{"type":29,"tag":422,"props":2357,"children":2358},{"style":2058},[2359],{"type":35,"value":2360},"            return",{"type":29,"tag":422,"props":2362,"children":2363},{"style":517},[2364],{"type":35,"value":2365}," conn\n",{"type":29,"tag":422,"props":2367,"children":2368},{"class":506,"line":718},[2369],{"type":29,"tag":422,"props":2370,"children":2371},{"emptyLinePlaceholder":24},[2372],{"type":35,"value":1013},{"type":29,"tag":422,"props":2374,"children":2375},{"class":506,"line":736},[2376],{"type":29,"tag":422,"props":2377,"children":2378},{"style":1162},[2379],{"type":35,"value":2380},"        # mediation session state management\n",{"type":29,"tag":422,"props":2382,"children":2383},{"class":506,"line":754},[2384,2388,2392,2397],{"type":29,"tag":422,"props":2385,"children":2386},{"style":2072},[2387],{"type":35,"value":2251},{"type":29,"tag":422,"props":2389,"children":2390},{"style":2072},[2391],{"type":35,"value":2080},{"type":29,"tag":422,"props":2393,"children":2394},{"style":2041},[2395],{"type":35,"value":2396}," add_messages",{"type":29,"tag":422,"props":2398,"children":2399},{"style":517},[2400],{"type":35,"value":2401},"(\n",{"type":29,"tag":422,"props":2403,"children":2404},{"class":506,"line":775},[2405,2409,2413,2418,2423,2427,2431],{"type":29,"tag":422,"props":2406,"children":2407},{"style":2092},[2408],{"type":35,"value":2192},{"type":29,"tag":422,"props":2410,"children":2411},{"style":517},[2412],{"type":35,"value":2174},{"type":29,"tag":422,"props":2414,"children":2415},{"style":2092},[2416],{"type":35,"value":2417},"items",{"type":29,"tag":422,"props":2419,"children":2420},{"style":517},[2421],{"type":35,"value":2422},": Sequence[BaseMessage], ",{"type":29,"tag":422,"props":2424,"children":2425},{"style":2092},[2426],{"type":35,"value":2277},{"type":29,"tag":422,"props":2428,"children":2429},{"style":517},[2430],{"type":35,"value":534},{"type":29,"tag":422,"props":2432,"children":2433},{"style":2284},[2434],{"type":35,"value":2435},"str\n",{"type":29,"tag":422,"props":2437,"children":2438},{"class":506,"line":791},[2439,2444,2449],{"type":29,"tag":422,"props":2440,"children":2441},{"style":517},[2442],{"type":35,"value":2443},"        ) -> ",{"type":29,"tag":422,"props":2445,"children":2446},{"style":537},[2447],{"type":35,"value":2448},"None",{"type":29,"tag":422,"props":2450,"children":2451},{"style":517},[2452],{"type":35,"value":520},{"type":29,"tag":422,"props":2454,"children":2455},{"class":506,"line":808},[2456,2461,2465,2470,2475],{"type":29,"tag":422,"props":2457,"children":2458},{"style":517},[2459],{"type":35,"value":2460},"            client ",{"type":29,"tag":422,"props":2462,"children":2463},{"style":2058},[2464],{"type":35,"value":2061},{"type":29,"tag":422,"props":2466,"children":2467},{"style":2058},[2468],{"type":35,"value":2469}," await",{"type":29,"tag":422,"props":2471,"children":2472},{"style":2189},[2473],{"type":35,"value":2474}," self",{"type":29,"tag":422,"props":2476,"children":2477},{"style":517},[2478],{"type":35,"value":2479},".get_client(session_id)\n",{"type":29,"tag":422,"props":2481,"children":2482},{"class":506,"line":825},[2483,2488],{"type":29,"tag":422,"props":2484,"children":2485},{"style":2058},[2486],{"type":35,"value":2487},"            await",{"type":29,"tag":422,"props":2489,"children":2490},{"style":517},[2491],{"type":35,"value":2492}," client.aadd_messages(items)\n",{"type":29,"tag":422,"props":2494,"children":2495},{"class":506,"line":846},[2496],{"type":29,"tag":422,"props":2497,"children":2498},{"emptyLinePlaceholder":24},[2499],{"type":35,"value":1013},{"type":29,"tag":422,"props":2501,"children":2502},{"class":506,"line":862},[2503,2507,2511,2516,2520,2524,2528,2532,2536,2540],{"type":29,"tag":422,"props":2504,"children":2505},{"style":2072},[2506],{"type":35,"value":2251},{"type":29,"tag":422,"props":2508,"children":2509},{"style":2072},[2510],{"type":35,"value":2080},{"type":29,"tag":422,"props":2512,"children":2513},{"style":2041},[2514],{"type":35,"value":2515}," get_messages",{"type":29,"tag":422,"props":2517,"children":2518},{"style":517},[2519],{"type":35,"value":2049},{"type":29,"tag":422,"props":2521,"children":2522},{"style":2092},[2523],{"type":35,"value":2169},{"type":29,"tag":422,"props":2525,"children":2526},{"style":517},[2527],{"type":35,"value":2174},{"type":29,"tag":422,"props":2529,"children":2530},{"style":2092},[2531],{"type":35,"value":2277},{"type":29,"tag":422,"props":2533,"children":2534},{"style":517},[2535],{"type":35,"value":534},{"type":29,"tag":422,"props":2537,"children":2538},{"style":2284},[2539],{"type":35,"value":2287},{"type":29,"tag":422,"props":2541,"children":2542},{"style":517},[2543],{"type":35,"value":2544},") -> Sequence[BaseMessage]:\n",{"type":29,"tag":422,"props":2546,"children":2547},{"class":506,"line":879},[2548,2552,2556,2560,2564],{"type":29,"tag":422,"props":2549,"children":2550},{"style":517},[2551],{"type":35,"value":2460},{"type":29,"tag":422,"props":2553,"children":2554},{"style":2058},[2555],{"type":35,"value":2061},{"type":29,"tag":422,"props":2557,"children":2558},{"style":2058},[2559],{"type":35,"value":2469},{"type":29,"tag":422,"props":2561,"children":2562},{"style":2189},[2563],{"type":35,"value":2474},{"type":29,"tag":422,"props":2565,"children":2566},{"style":517},[2567],{"type":35,"value":2479},{"type":29,"tag":422,"props":2569,"children":2570},{"class":506,"line":896},[2571,2576,2580,2584],{"type":29,"tag":422,"props":2572,"children":2573},{"style":517},[2574],{"type":35,"value":2575},"            messages ",{"type":29,"tag":422,"props":2577,"children":2578},{"style":2058},[2579],{"type":35,"value":2061},{"type":29,"tag":422,"props":2581,"children":2582},{"style":2058},[2583],{"type":35,"value":2469},{"type":29,"tag":422,"props":2585,"children":2586},{"style":517},[2587],{"type":35,"value":2588}," client.aget_messages()\n",{"type":29,"tag":422,"props":2590,"children":2591},{"class":506,"line":909},[2592,2596],{"type":29,"tag":422,"props":2593,"children":2594},{"style":2058},[2595],{"type":35,"value":2360},{"type":29,"tag":422,"props":2597,"children":2598},{"style":517},[2599],{"type":35,"value":2600}," messages\n",{"type":29,"tag":422,"props":2602,"children":2603},{"class":506,"line":927},[2604],{"type":29,"tag":422,"props":2605,"children":2606},{"emptyLinePlaceholder":24},[2607],{"type":35,"value":1013},{"type":29,"tag":422,"props":2609,"children":2610},{"class":506,"line":940},[2611],{"type":29,"tag":422,"props":2612,"children":2613},{"style":1162},[2614],{"type":35,"value":2615},"        # case generation state management\n",{"type":29,"tag":422,"props":2617,"children":2618},{"class":506,"line":953},[2619,2623,2627,2632],{"type":29,"tag":422,"props":2620,"children":2621},{"style":2072},[2622],{"type":35,"value":2251},{"type":29,"tag":422,"props":2624,"children":2625},{"style":2072},[2626],{"type":35,"value":2080},{"type":29,"tag":422,"props":2628,"children":2629},{"style":2041},[2630],{"type":35,"value":2631}," save_case_description",{"type":29,"tag":422,"props":2633,"children":2634},{"style":517},[2635],{"type":35,"value":2401},{"type":29,"tag":422,"props":2637,"children":2638},{"class":506,"line":971},[2639,2643,2647,2652,2656,2660,2664,2669,2673],{"type":29,"tag":422,"props":2640,"children":2641},{"style":2092},[2642],{"type":35,"value":2192},{"type":29,"tag":422,"props":2644,"children":2645},{"style":517},[2646],{"type":35,"value":2174},{"type":29,"tag":422,"props":2648,"children":2649},{"style":2092},[2650],{"type":35,"value":2651},"case_description",{"type":29,"tag":422,"props":2653,"children":2654},{"style":517},[2655],{"type":35,"value":534},{"type":29,"tag":422,"props":2657,"children":2658},{"style":2284},[2659],{"type":35,"value":2287},{"type":29,"tag":422,"props":2661,"children":2662},{"style":517},[2663],{"type":35,"value":2174},{"type":29,"tag":422,"props":2665,"children":2666},{"style":2092},[2667],{"type":35,"value":2668},"case_id",{"type":29,"tag":422,"props":2670,"children":2671},{"style":517},[2672],{"type":35,"value":534},{"type":29,"tag":422,"props":2674,"children":2675},{"style":2284},[2676],{"type":35,"value":2435},{"type":29,"tag":422,"props":2678,"children":2679},{"class":506,"line":989},[2680,2684,2688],{"type":29,"tag":422,"props":2681,"children":2682},{"style":517},[2683],{"type":35,"value":2443},{"type":29,"tag":422,"props":2685,"children":2686},{"style":537},[2687],{"type":35,"value":2448},{"type":29,"tag":422,"props":2689,"children":2690},{"style":517},[2691],{"type":35,"value":520},{"type":29,"tag":422,"props":2693,"children":2694},{"class":506,"line":1007},[2695],{"type":29,"tag":422,"props":2696,"children":2697},{"style":569},[2698],{"type":35,"value":2699},"            \"\"\"\n",{"type":29,"tag":422,"props":2701,"children":2702},{"class":506,"line":1016},[2703],{"type":29,"tag":422,"props":2704,"children":2705},{"style":569},[2706],{"type":35,"value":2707},"            sets the case description using the \u003Ccase_id>_case_description as the redis key\n",{"type":29,"tag":422,"props":2709,"children":2710},{"class":506,"line":1029},[2711],{"type":29,"tag":422,"props":2712,"children":2713},{"style":569},[2714],{"type":35,"value":2699},{"type":29,"tag":422,"props":2716,"children":2717},{"class":506,"line":1042},[2718,2722,2727,2732,2737,2742,2746,2751,2756],{"type":29,"tag":422,"props":2719,"children":2720},{"style":2189},[2721],{"type":35,"value":2192},{"type":29,"tag":422,"props":2723,"children":2724},{"style":517},[2725],{"type":35,"value":2726},".redis.set(",{"type":29,"tag":422,"props":2728,"children":2729},{"style":2072},[2730],{"type":35,"value":2731},"f",{"type":29,"tag":422,"props":2733,"children":2734},{"style":569},[2735],{"type":35,"value":2736},"\"",{"type":29,"tag":422,"props":2738,"children":2739},{"style":537},[2740],{"type":35,"value":2741},"{",{"type":29,"tag":422,"props":2743,"children":2744},{"style":517},[2745],{"type":35,"value":2668},{"type":29,"tag":422,"props":2747,"children":2748},{"style":537},[2749],{"type":35,"value":2750},"}",{"type":29,"tag":422,"props":2752,"children":2753},{"style":569},[2754],{"type":35,"value":2755},"_case_description\"",{"type":29,"tag":422,"props":2757,"children":2758},{"style":517},[2759],{"type":35,"value":2760},", case_description)\n",{"type":29,"tag":422,"props":2762,"children":2763},{"class":506,"line":1059},[2764],{"type":29,"tag":422,"props":2765,"children":2766},{"emptyLinePlaceholder":24},[2767],{"type":35,"value":1013},{"type":29,"tag":422,"props":2769,"children":2770},{"class":506,"line":1077},[2771],{"type":29,"tag":422,"props":2772,"children":2773},{"style":537},[2774],{"type":35,"value":2775},"        ...\n",{"type":29,"tag":38,"props":2777,"children":2778},{},[2779,2781,2787],{"type":35,"value":2780},"I found that LangChain has a ",{"type":29,"tag":408,"props":2782,"children":2784},{"className":2783},[],[2785],{"type":35,"value":2786},"RedisChatMessageHistory",{"type":35,"value":2788}," class that made putting this backend together almost trivial. Redis Stack also ships with a web viewer which really came in handy for debugging my memory backend:",{"type":29,"tag":38,"props":2790,"children":2791},{},[2792],{"type":29,"tag":173,"props":2793,"children":2796},{"alt":2794,"src":2795},"Reis Memory Backend","/static/mediation-simulator/redis.png",[],{"type":29,"tag":38,"props":2798,"children":2799},{},[2800],{"type":35,"value":2801},"For storing other types of data, I was able to implement my own methods and store things like case data or other metadata for a mediation simulator session for things like current_speaker, number of session, current session, etc. I love Redis! The setup is also really easy, I just added a docker compose file:",{"type":29,"tag":495,"props":2803,"children":2805},{"code":2804,"language":498,"meta":8,"className":499,"style":8},"services:\n  redis:\n    image: redis/redis-stack:latest\n    volumes:\n      - redis-data:/data\n    container_name: redis\n    ports:\n      - 6379:6379\n      - 8001:8001  # RedisInsight port\n\nvolumes:\n  redis-data:\n",[2806],{"type":29,"tag":408,"props":2807,"children":2808},{"__ignoreMap":8},[2809,2821,2833,2850,2862,2874,2891,2903,2915,2932,2939,2951],{"type":29,"tag":422,"props":2810,"children":2811},{"class":506,"line":507},[2812,2817],{"type":29,"tag":422,"props":2813,"children":2814},{"style":511},[2815],{"type":35,"value":2816},"services",{"type":29,"tag":422,"props":2818,"children":2819},{"style":517},[2820],{"type":35,"value":520},{"type":29,"tag":422,"props":2822,"children":2823},{"class":506,"line":523},[2824,2829],{"type":29,"tag":422,"props":2825,"children":2826},{"style":511},[2827],{"type":35,"value":2828},"  redis",{"type":29,"tag":422,"props":2830,"children":2831},{"style":517},[2832],{"type":35,"value":520},{"type":29,"tag":422,"props":2834,"children":2835},{"class":506,"line":543},[2836,2841,2845],{"type":29,"tag":422,"props":2837,"children":2838},{"style":511},[2839],{"type":35,"value":2840},"    image",{"type":29,"tag":422,"props":2842,"children":2843},{"style":517},[2844],{"type":35,"value":534},{"type":29,"tag":422,"props":2846,"children":2847},{"style":569},[2848],{"type":35,"value":2849},"redis/redis-stack:latest\n",{"type":29,"tag":422,"props":2851,"children":2852},{"class":506,"line":556},[2853,2858],{"type":29,"tag":422,"props":2854,"children":2855},{"style":511},[2856],{"type":35,"value":2857},"    volumes",{"type":29,"tag":422,"props":2859,"children":2860},{"style":517},[2861],{"type":35,"value":520},{"type":29,"tag":422,"props":2863,"children":2864},{"class":506,"line":575},[2865,2869],{"type":29,"tag":422,"props":2866,"children":2867},{"style":517},[2868],{"type":35,"value":684},{"type":29,"tag":422,"props":2870,"children":2871},{"style":569},[2872],{"type":35,"value":2873},"redis-data:/data\n",{"type":29,"tag":422,"props":2875,"children":2876},{"class":506,"line":588},[2877,2882,2886],{"type":29,"tag":422,"props":2878,"children":2879},{"style":511},[2880],{"type":35,"value":2881},"    container_name",{"type":29,"tag":422,"props":2883,"children":2884},{"style":517},[2885],{"type":35,"value":534},{"type":29,"tag":422,"props":2887,"children":2888},{"style":569},[2889],{"type":35,"value":2890},"redis\n",{"type":29,"tag":422,"props":2892,"children":2893},{"class":506,"line":612},[2894,2899],{"type":29,"tag":422,"props":2895,"children":2896},{"style":511},[2897],{"type":35,"value":2898},"    ports",{"type":29,"tag":422,"props":2900,"children":2901},{"style":517},[2902],{"type":35,"value":520},{"type":29,"tag":422,"props":2904,"children":2905},{"class":506,"line":625},[2906,2910],{"type":29,"tag":422,"props":2907,"children":2908},{"style":517},[2909],{"type":35,"value":684},{"type":29,"tag":422,"props":2911,"children":2912},{"style":569},[2913],{"type":35,"value":2914},"6379:6379\n",{"type":29,"tag":422,"props":2916,"children":2917},{"class":506,"line":639},[2918,2922,2927],{"type":29,"tag":422,"props":2919,"children":2920},{"style":517},[2921],{"type":35,"value":684},{"type":29,"tag":422,"props":2923,"children":2924},{"style":569},[2925],{"type":35,"value":2926},"8001:8001",{"type":29,"tag":422,"props":2928,"children":2929},{"style":1162},[2930],{"type":35,"value":2931},"  # RedisInsight port\n",{"type":29,"tag":422,"props":2933,"children":2934},{"class":506,"line":652},[2935],{"type":29,"tag":422,"props":2936,"children":2937},{"emptyLinePlaceholder":24},[2938],{"type":35,"value":1013},{"type":29,"tag":422,"props":2940,"children":2941},{"class":506,"line":665},[2942,2947],{"type":29,"tag":422,"props":2943,"children":2944},{"style":511},[2945],{"type":35,"value":2946},"volumes",{"type":29,"tag":422,"props":2948,"children":2949},{"style":517},[2950],{"type":35,"value":520},{"type":29,"tag":422,"props":2952,"children":2953},{"class":506,"line":678},[2954,2959],{"type":29,"tag":422,"props":2955,"children":2956},{"style":511},[2957],{"type":35,"value":2958},"  redis-data",{"type":29,"tag":422,"props":2960,"children":2961},{"style":517},[2962],{"type":35,"value":520},{"type":29,"tag":104,"props":2964,"children":2965},{"id":1467},[2966],{"type":29,"tag":408,"props":2967,"children":2969},{"className":2968},[],[2970],{"type":35,"value":1467},{"type":29,"tag":38,"props":2972,"children":2973},{},[2974],{"type":35,"value":2975},"Functions are the building blocks of the AIQ Toolkit. You need to register the functions in your config file, then you can use them for different things, like the function that handles an API route, or the function that handles an agentic workflow. I defined some functions for RAG to allow my agents to look up case data, but I wasn't able to fully implement this in my main mediation simualator workflow. But the setup was easy!",{"type":29,"tag":104,"props":2977,"children":2978},{"id":1800},[2979],{"type":29,"tag":408,"props":2980,"children":2982},{"className":2981},[],[2983],{"type":35,"value":1800},{"type":29,"tag":38,"props":2985,"children":2986},{},[2987],{"type":35,"value":2988},"Embedders is a section that allows you to define embedding models that you would use together with RAG (for converting text to a vector embedding). Since I needed to make a lot of embeddings for all of the documents I generated for case facts, I used a locally hosted NVIDIA NIM:",{"type":29,"tag":495,"props":2990,"children":2992},{"code":2991,"language":498,"meta":8,"className":499,"style":8},"embedders:\n  nv-embedqa-e5-v5:\n    _type: nim\n    base_url: http://192.168.5.96:8000/v1\n    model_name: nvidia/nv-embedqa-e5-v5\n",[2993],{"type":29,"tag":408,"props":2994,"children":2995},{"__ignoreMap":8},[2996,3007,3018,3033,3048],{"type":29,"tag":422,"props":2997,"children":2998},{"class":506,"line":507},[2999,3003],{"type":29,"tag":422,"props":3000,"children":3001},{"style":511},[3002],{"type":35,"value":1800},{"type":29,"tag":422,"props":3004,"children":3005},{"style":517},[3006],{"type":35,"value":520},{"type":29,"tag":422,"props":3008,"children":3009},{"class":506,"line":523},[3010,3014],{"type":29,"tag":422,"props":3011,"children":3012},{"style":511},[3013],{"type":35,"value":1813},{"type":29,"tag":422,"props":3015,"children":3016},{"style":517},[3017],{"type":35,"value":520},{"type":29,"tag":422,"props":3019,"children":3020},{"class":506,"line":543},[3021,3025,3029],{"type":29,"tag":422,"props":3022,"children":3023},{"style":511},[3024],{"type":35,"value":562},{"type":29,"tag":422,"props":3026,"children":3027},{"style":517},[3028],{"type":35,"value":534},{"type":29,"tag":422,"props":3030,"children":3031},{"style":569},[3032],{"type":35,"value":1216},{"type":29,"tag":422,"props":3034,"children":3035},{"class":506,"line":556},[3036,3040,3044],{"type":29,"tag":422,"props":3037,"children":3038},{"style":511},[3039],{"type":35,"value":1225},{"type":29,"tag":422,"props":3041,"children":3042},{"style":517},[3043],{"type":35,"value":534},{"type":29,"tag":422,"props":3045,"children":3046},{"style":569},[3047],{"type":35,"value":1850},{"type":29,"tag":422,"props":3049,"children":3050},{"class":506,"line":575},[3051,3055,3059],{"type":29,"tag":422,"props":3052,"children":3053},{"style":511},[3054],{"type":35,"value":1243},{"type":29,"tag":422,"props":3056,"children":3057},{"style":517},[3058],{"type":35,"value":534},{"type":29,"tag":422,"props":3060,"children":3061},{"style":569},[3062],{"type":35,"value":1867},{"type":29,"tag":38,"props":3064,"children":3065},{},[3066],{"type":35,"value":3067},"I would have run into rate limits if I was using the hosted version, so being able to run this locally was important for my use case.",{"type":29,"tag":104,"props":3069,"children":3070},{"id":1884},[3071],{"type":29,"tag":408,"props":3072,"children":3074},{"className":3073},[],[3075],{"type":35,"value":1884},{"type":29,"tag":38,"props":3077,"children":3078},{},[3079],{"type":35,"value":3080},"The workflow is the main \"application\" part of the config file. It is the entrypoint for your application. In my case, the workflow invokes a LangGraph that does my simulation. First it loads data from my memory backend and when I'm using the interactive mode it gathers information from the request like path parameters so it knows what data fetch from memory (like the case id and session id).",{"type":29,"tag":38,"props":3082,"children":3083},{},[3084],{"type":35,"value":3085},"My mediation workflow code is a little bit messy. I tried to keep all of my prompting logic in separate files for simplicity. The trickiest part for me was serializing data between different formats: langgraph state, YAML files and Redis memory. I'm happy to have something now that is functional, but there are a lot of improvements and further refactoring that would make the code easier to read and maintain.",{"type":29,"tag":38,"props":3087,"children":3088},{},[3089],{"type":35,"value":3090},"That wraps up the tour of my main config file for mediation simulator! I also had another smaller config file for case generation. Here's a quick look at that:",{"type":29,"tag":495,"props":3092,"children":3094},{"code":3093,"language":498,"meta":8,"className":499,"style":8},"general:\n  use_uvloop: true\n  telemetry:\n    enabled: false\n    tracing:\n      phoenix:\n        _type: phoenix\n        endpoint: http://localhost:6006/v1/traces\n        project: mediation-simulator\n\nllms:\n  nim_llm:\n    _type: nim\n    base_url: http://192.168.5.96:1234/v1\n    model_name: qwen3-8b\n    max_tokens: 10000\n    temperature: 0.7\n  # nim_llm:\n  #   _type: nim\n  #   model_name: meta/llama-3.1-70b-instruct\n  #   max_tokens: 10000\n  #   temperature: 0.7\n\nmemory:\n  redis_memory:\n    _type: redis_memory\n    connection_url: redis://localhost:6379/0\n\nworkflow:\n  _type: case_generation\n  llm_name: nim_llm\n  data_dir: ./data\n",[3095],{"type":29,"tag":408,"props":3096,"children":3097},{"__ignoreMap":8},[3098,3109,3124,3135,3150,3161,3172,3187,3202,3218,3225,3236,3247,3262,3277,3292,3307,3322,3330,3338,3346,3354,3362,3369,3380,3391,3406,3421,3428,3439,3455,3471],{"type":29,"tag":422,"props":3099,"children":3100},{"class":506,"line":507},[3101,3105],{"type":29,"tag":422,"props":3102,"children":3103},{"style":511},[3104],{"type":35,"value":514},{"type":29,"tag":422,"props":3106,"children":3107},{"style":517},[3108],{"type":35,"value":520},{"type":29,"tag":422,"props":3110,"children":3111},{"class":506,"line":523},[3112,3116,3120],{"type":29,"tag":422,"props":3113,"children":3114},{"style":511},[3115],{"type":35,"value":529},{"type":29,"tag":422,"props":3117,"children":3118},{"style":517},[3119],{"type":35,"value":534},{"type":29,"tag":422,"props":3121,"children":3122},{"style":537},[3123],{"type":35,"value":540},{"type":29,"tag":422,"props":3125,"children":3126},{"class":506,"line":543},[3127,3131],{"type":29,"tag":422,"props":3128,"children":3129},{"style":511},[3130],{"type":35,"value":902},{"type":29,"tag":422,"props":3132,"children":3133},{"style":517},[3134],{"type":35,"value":520},{"type":29,"tag":422,"props":3136,"children":3137},{"class":506,"line":556},[3138,3142,3146],{"type":29,"tag":422,"props":3139,"children":3140},{"style":511},[3141],{"type":35,"value":915},{"type":29,"tag":422,"props":3143,"children":3144},{"style":517},[3145],{"type":35,"value":534},{"type":29,"tag":422,"props":3147,"children":3148},{"style":537},[3149],{"type":35,"value":924},{"type":29,"tag":422,"props":3151,"children":3152},{"class":506,"line":575},[3153,3157],{"type":29,"tag":422,"props":3154,"children":3155},{"style":511},[3156],{"type":35,"value":933},{"type":29,"tag":422,"props":3158,"children":3159},{"style":517},[3160],{"type":35,"value":520},{"type":29,"tag":422,"props":3162,"children":3163},{"class":506,"line":588},[3164,3168],{"type":29,"tag":422,"props":3165,"children":3166},{"style":511},[3167],{"type":35,"value":946},{"type":29,"tag":422,"props":3169,"children":3170},{"style":517},[3171],{"type":35,"value":520},{"type":29,"tag":422,"props":3173,"children":3174},{"class":506,"line":612},[3175,3179,3183],{"type":29,"tag":422,"props":3176,"children":3177},{"style":511},[3178],{"type":35,"value":959},{"type":29,"tag":422,"props":3180,"children":3181},{"style":517},[3182],{"type":35,"value":534},{"type":29,"tag":422,"props":3184,"children":3185},{"style":569},[3186],{"type":35,"value":968},{"type":29,"tag":422,"props":3188,"children":3189},{"class":506,"line":625},[3190,3194,3198],{"type":29,"tag":422,"props":3191,"children":3192},{"style":511},[3193],{"type":35,"value":977},{"type":29,"tag":422,"props":3195,"children":3196},{"style":517},[3197],{"type":35,"value":534},{"type":29,"tag":422,"props":3199,"children":3200},{"style":569},[3201],{"type":35,"value":986},{"type":29,"tag":422,"props":3203,"children":3204},{"class":506,"line":639},[3205,3209,3213],{"type":29,"tag":422,"props":3206,"children":3207},{"style":511},[3208],{"type":35,"value":995},{"type":29,"tag":422,"props":3210,"children":3211},{"style":517},[3212],{"type":35,"value":534},{"type":29,"tag":422,"props":3214,"children":3215},{"style":569},[3216],{"type":35,"value":3217},"mediation-simulator\n",{"type":29,"tag":422,"props":3219,"children":3220},{"class":506,"line":652},[3221],{"type":29,"tag":422,"props":3222,"children":3223},{"emptyLinePlaceholder":24},[3224],{"type":35,"value":1013},{"type":29,"tag":422,"props":3226,"children":3227},{"class":506,"line":665},[3228,3232],{"type":29,"tag":422,"props":3229,"children":3230},{"style":511},[3231],{"type":35,"value":1182},{"type":29,"tag":422,"props":3233,"children":3234},{"style":517},[3235],{"type":35,"value":520},{"type":29,"tag":422,"props":3237,"children":3238},{"class":506,"line":678},[3239,3243],{"type":29,"tag":422,"props":3240,"children":3241},{"style":511},[3242],{"type":35,"value":1195},{"type":29,"tag":422,"props":3244,"children":3245},{"style":517},[3246],{"type":35,"value":520},{"type":29,"tag":422,"props":3248,"children":3249},{"class":506,"line":701},[3250,3254,3258],{"type":29,"tag":422,"props":3251,"children":3252},{"style":511},[3253],{"type":35,"value":562},{"type":29,"tag":422,"props":3255,"children":3256},{"style":517},[3257],{"type":35,"value":534},{"type":29,"tag":422,"props":3259,"children":3260},{"style":569},[3261],{"type":35,"value":1216},{"type":29,"tag":422,"props":3263,"children":3264},{"class":506,"line":718},[3265,3269,3273],{"type":29,"tag":422,"props":3266,"children":3267},{"style":511},[3268],{"type":35,"value":1225},{"type":29,"tag":422,"props":3270,"children":3271},{"style":517},[3272],{"type":35,"value":534},{"type":29,"tag":422,"props":3274,"children":3275},{"style":569},[3276],{"type":35,"value":1234},{"type":29,"tag":422,"props":3278,"children":3279},{"class":506,"line":736},[3280,3284,3288],{"type":29,"tag":422,"props":3281,"children":3282},{"style":511},[3283],{"type":35,"value":1243},{"type":29,"tag":422,"props":3285,"children":3286},{"style":517},[3287],{"type":35,"value":534},{"type":29,"tag":422,"props":3289,"children":3290},{"style":569},[3291],{"type":35,"value":1252},{"type":29,"tag":422,"props":3293,"children":3294},{"class":506,"line":754},[3295,3299,3303],{"type":29,"tag":422,"props":3296,"children":3297},{"style":511},[3298],{"type":35,"value":1261},{"type":29,"tag":422,"props":3300,"children":3301},{"style":517},[3302],{"type":35,"value":534},{"type":29,"tag":422,"props":3304,"children":3305},{"style":537},[3306],{"type":35,"value":1270},{"type":29,"tag":422,"props":3308,"children":3309},{"class":506,"line":775},[3310,3314,3318],{"type":29,"tag":422,"props":3311,"children":3312},{"style":511},[3313],{"type":35,"value":1279},{"type":29,"tag":422,"props":3315,"children":3316},{"style":517},[3317],{"type":35,"value":534},{"type":29,"tag":422,"props":3319,"children":3320},{"style":537},[3321],{"type":35,"value":1288},{"type":29,"tag":422,"props":3323,"children":3324},{"class":506,"line":791},[3325],{"type":29,"tag":422,"props":3326,"children":3327},{"style":1162},[3328],{"type":35,"value":3329},"  # nim_llm:\n",{"type":29,"tag":422,"props":3331,"children":3332},{"class":506,"line":808},[3333],{"type":29,"tag":422,"props":3334,"children":3335},{"style":1162},[3336],{"type":35,"value":3337},"  #   _type: nim\n",{"type":29,"tag":422,"props":3339,"children":3340},{"class":506,"line":825},[3341],{"type":29,"tag":422,"props":3342,"children":3343},{"style":1162},[3344],{"type":35,"value":3345},"  #   model_name: meta/llama-3.1-70b-instruct\n",{"type":29,"tag":422,"props":3347,"children":3348},{"class":506,"line":846},[3349],{"type":29,"tag":422,"props":3350,"children":3351},{"style":1162},[3352],{"type":35,"value":3353},"  #   max_tokens: 10000\n",{"type":29,"tag":422,"props":3355,"children":3356},{"class":506,"line":862},[3357],{"type":29,"tag":422,"props":3358,"children":3359},{"style":1162},[3360],{"type":35,"value":3361},"  #   temperature: 0.7\n",{"type":29,"tag":422,"props":3363,"children":3364},{"class":506,"line":879},[3365],{"type":29,"tag":422,"props":3366,"children":3367},{"emptyLinePlaceholder":24},[3368],{"type":35,"value":1013},{"type":29,"tag":422,"props":3370,"children":3371},{"class":506,"line":896},[3372,3376],{"type":29,"tag":422,"props":3373,"children":3374},{"style":511},[3375],{"type":35,"value":1398},{"type":29,"tag":422,"props":3377,"children":3378},{"style":517},[3379],{"type":35,"value":520},{"type":29,"tag":422,"props":3381,"children":3382},{"class":506,"line":909},[3383,3387],{"type":29,"tag":422,"props":3384,"children":3385},{"style":511},[3386],{"type":35,"value":1411},{"type":29,"tag":422,"props":3388,"children":3389},{"style":517},[3390],{"type":35,"value":520},{"type":29,"tag":422,"props":3392,"children":3393},{"class":506,"line":927},[3394,3398,3402],{"type":29,"tag":422,"props":3395,"children":3396},{"style":511},[3397],{"type":35,"value":562},{"type":29,"tag":422,"props":3399,"children":3400},{"style":517},[3401],{"type":35,"value":534},{"type":29,"tag":422,"props":3403,"children":3404},{"style":569},[3405],{"type":35,"value":1432},{"type":29,"tag":422,"props":3407,"children":3408},{"class":506,"line":940},[3409,3413,3417],{"type":29,"tag":422,"props":3410,"children":3411},{"style":511},[3412],{"type":35,"value":1441},{"type":29,"tag":422,"props":3414,"children":3415},{"style":517},[3416],{"type":35,"value":534},{"type":29,"tag":422,"props":3418,"children":3419},{"style":569},[3420],{"type":35,"value":1450},{"type":29,"tag":422,"props":3422,"children":3423},{"class":506,"line":953},[3424],{"type":29,"tag":422,"props":3425,"children":3426},{"emptyLinePlaceholder":24},[3427],{"type":35,"value":1013},{"type":29,"tag":422,"props":3429,"children":3430},{"class":506,"line":971},[3431,3435],{"type":29,"tag":422,"props":3432,"children":3433},{"style":511},[3434],{"type":35,"value":1884},{"type":29,"tag":422,"props":3436,"children":3437},{"style":517},[3438],{"type":35,"value":520},{"type":29,"tag":422,"props":3440,"children":3441},{"class":506,"line":989},[3442,3446,3450],{"type":29,"tag":422,"props":3443,"children":3444},{"style":511},[3445],{"type":35,"value":1897},{"type":29,"tag":422,"props":3447,"children":3448},{"style":517},[3449],{"type":35,"value":534},{"type":29,"tag":422,"props":3451,"children":3452},{"style":569},[3453],{"type":35,"value":3454},"case_generation\n",{"type":29,"tag":422,"props":3456,"children":3457},{"class":506,"line":1007},[3458,3463,3467],{"type":29,"tag":422,"props":3459,"children":3460},{"style":511},[3461],{"type":35,"value":3462},"  llm_name",{"type":29,"tag":422,"props":3464,"children":3465},{"style":517},[3466],{"type":35,"value":534},{"type":29,"tag":422,"props":3468,"children":3469},{"style":569},[3470],{"type":35,"value":1536},{"type":29,"tag":422,"props":3472,"children":3473},{"class":506,"line":1016},[3474,3478,3482],{"type":29,"tag":422,"props":3475,"children":3476},{"style":511},[3477],{"type":35,"value":1932},{"type":29,"tag":422,"props":3479,"children":3480},{"style":517},[3481],{"type":35,"value":534},{"type":29,"tag":422,"props":3483,"children":3484},{"style":569},[3485],{"type":35,"value":1941},{"type":29,"tag":38,"props":3487,"children":3488},{},[3489],{"type":35,"value":3490},"I added a lot of logging to my workflow in order to keep an eye on how the workflows progressed. Here's a sample of the logs from the CLI invocation of the mediation simulator program:",{"type":29,"tag":495,"props":3492,"children":3494},{"code":3493},"12:08:48 mediation.register INFO   ⚖️ [MEDIATOR]: Mediator node called\n12:08:56 mediation.register INFO   👤 [CLERK] Starting clerk node - Phase: JOINT_DISCUSSION_INFO_GATHERING, Turn: 3\n12:08:56 mediation.register INFO   🤔 [CLERK] Using LLM to decide next speaker\n12:09:12 mediation.register INFO   🎯 [CLERK] LLM selected next speaker: RESPONDING_PARTY\n12:09:12 mediation.register INFO   📊 [CLERK] Updated counters - Turn: 4, Phase turns: 4\n12:09:12 mediation.register INFO   🌚 Responding party node called\n12:09:20 mediation.register INFO   👤 [CLERK] Starting clerk node - Phase: JOINT_DISCUSSION_INFO_GATHERING, Turn: 4\n12:09:20 mediation.register INFO   🤔 [CLERK] Using LLM to decide next speaker\n12:09:23 mediation.register INFO   🎯 [CLERK] LLM selected next speaker: REQUESTING_PARTY\n12:09:23 mediation.register INFO   📊 [CLERK] Updated counters - Turn: 5, Phase turns: 5\n12:09:23 mediation.register INFO   🌝 Requesting party node called\n12:09:31 mediation.register INFO   👤 [CLERK] Starting clerk node - Phase: JOINT_DISCUSSION_INFO_GATHERING, Turn: 5\n12:09:31 mediation.register INFO   ⏰ [CLERK] Max turns (5) reached for current phase\n12:09:31 mediation.register INFO   🔄 [CLERK] Transitioning from joint discussion to negotiation\n12:09:31 mediation.register INFO   👨‍⚖️ [CLERK] Mediator will start the new phase\n12:09:31 mediation.register INFO   ⚖️ [MEDIATOR]: Mediator node called\n12:09:40 mediation.register INFO   👤 [CLERK] Starting clerk node - Phase: NEGOTIATION_BARGAINING, Turn: 5\n12:09:40 mediation.register INFO   🤔 [CLERK] Using LLM to decide next speaker\n12:09:48 mediation.register INFO   🎯 [CLERK] LLM selected next speaker: REQUESTING_PARTY\n12:09:48 mediation.register INFO   📊 [CLERK] Updated counters - Turn: 6, Phase turns: 1\n12:09:48 mediation.register INFO   🌝 Requesting party node called\n12:09:56 mediation.register INFO   👤 [CLERK] Starting clerk node - Phase: NEGOTIATION_BARGAINING, Turn: 6\n12:09:56 mediation.register INFO   🤔 [CLERK] Using LLM to decide next speaker\n12:09:58 mediation.register INFO   🎯 [CLERK] LLM selected next speaker: RESPONDING_PARTY\n12:09:58 mediation.register INFO   📊 [CLERK] Updated counters - Turn: 7, Phase turns: 2\n",[3495],{"type":29,"tag":408,"props":3496,"children":3497},{"__ignoreMap":8},[3498],{"type":35,"value":3493},{"type":29,"tag":38,"props":3500,"children":3501},{},[3502],{"type":35,"value":3503},"Config files can be as simple or as complex as they need to be depending on your workflow.",{"type":29,"tag":38,"props":3505,"children":3506},{},[3507],{"type":35,"value":3508},"The AgentIQ Toolkit is doing something really valuable by bringing patterns and components from these (and other) frameworks into a cohesive system. This allows for some truly interesting and powerful combinations. The examples provided are excellent and taught me a lot about new patterns for building agentic workflows. ReWOO agents, for instance, were a new concept for me, as was seeing how to effectively combine LangGraph with LlamaIndex.",{"type":29,"tag":38,"props":3510,"children":3511},{},[3512],{"type":35,"value":3513},"What I particularly appreciated was:",{"type":29,"tag":69,"props":3515,"children":3516},{},[3517,3527,3537],{"type":29,"tag":73,"props":3518,"children":3519},{},[3520,3525],{"type":29,"tag":44,"props":3521,"children":3522},{},[3523],{"type":35,"value":3524},"Standardized Patterns:",{"type":35,"value":3526}," AgentIQ promotes good practices for crucial aspects of AI development, like evaluations and telemetry/tracing.",{"type":29,"tag":73,"props":3528,"children":3529},{},[3530,3535],{"type":29,"tag":44,"props":3531,"children":3532},{},[3533],{"type":35,"value":3534},"YAML Configuration:",{"type":35,"value":3536}," I really like using YAML for configuring development environments, similar to Docker Compose. It standardizes things and vastly improves readability. The way AgentIQ allows registering functions that can be included in workflows via YAML config files is a great example of this.",{"type":29,"tag":73,"props":3538,"children":3539},{},[3540,3545],{"type":29,"tag":44,"props":3541,"children":3542},{},[3543],{"type":35,"value":3544},"A Learning Goldmine:",{"type":35,"value":3546}," Working through as many examples as possible was incredibly beneficial. Reading the code helped me grasp the patterns underpinning AgentIQ. You are pretty much guaranteed to learn something new!",{"type":29,"tag":38,"props":3548,"children":3549},{},[3550],{"type":35,"value":3551},"I'm so glad I took the plunge and got my feet wet with the AgentIQ Toolkit. It's been a fantastic learning resource.",{"type":29,"tag":104,"props":3553,"children":3555},{"id":3554},"mediation-competitions-but-for-llms",[3556],{"type":35,"value":3557},"Mediation Competitions, But for LLMs?",{"type":29,"tag":38,"props":3559,"children":3560},{},[3561],{"type":35,"value":3562},"One of the fun, forward-looking ideas this project sparks is the concept of \"mediation competitions, but for LLMs.\" Imagine pitting different LLMs against each other, representing the requesting and responding parties, to see how they fare in these complex negotiation scenarios!",{"type":29,"tag":104,"props":3564,"children":3566},{"id":3565},"whats-next",[3567],{"type":35,"value":3568},"What's Next?",{"type":29,"tag":38,"props":3570,"children":3571},{},[3572],{"type":35,"value":3573},"This hackathon project has been an incredible learning journey. Building Mediation Simulator has not only been a fun technical challenge but has also opened my eyes to the potential of AI agents in simulating complex human interactions. I'm excited to continue refining it and exploring more possibilities with the AgentIQ Toolkit!",{"type":29,"tag":3575,"props":3576,"children":3577},"style",{},[3578],{"type":35,"value":3579},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":8,"searchDepth":523,"depth":523,"links":3581},[3582,3588],{"id":54,"depth":523,"text":57,"children":3583},[3584,3585,3586,3587],{"id":106,"depth":543,"text":109},{"id":203,"depth":543,"text":206},{"id":290,"depth":543,"text":293},{"id":444,"depth":543,"text":447},{"id":480,"depth":523,"text":483,"children":3589},[3590,3591,3592,3593,3594,3595,3596,3597,3598],{"id":514,"depth":543,"text":514},{"id":1022,"depth":543,"text":1022},{"id":1182,"depth":543,"text":1182},{"id":1398,"depth":543,"text":1398},{"id":1467,"depth":543,"text":1467},{"id":1800,"depth":543,"text":1800},{"id":1884,"depth":543,"text":1884},{"id":3554,"depth":543,"text":3557},{"id":3565,"depth":543,"text":3568},"markdown","content:2025:05:27:mediation-simulator-project-for-nvidia-agent-intelligence-toolkit.md","content","2025/05/27/mediation-simulator-project-for-nvidia-agent-intelligence-toolkit.md","2025/05/27/mediation-simulator-project-for-nvidia-agent-intelligence-toolkit","md",{"_path":3606,"_dir":3607,"_draft":7,"_partial":7,"_locale":8,"title":3608,"description":3609,"date":3610,"image":3611,"tags":3612,"draft":7,"external":3623,"comments":24,"body":3626,"_type":3599,"_id":4035,"_source":3601,"_file":4036,"_stem":4037,"_extension":3604},"/2024/06/24/agents-of-inference-speed-of-light-nvidia-langchain-generative-ai-agents-developer-contest-update","24","Agents of Inference: Speed of Light -- Accelerating my Generative AI Agents project with NVIDIA NIMs, TensorRT and TensorRT-LLM","This article is a brief discusion on recent updates to my project for the Generative AI Agents Developer Contest by NVIDIA and LangChain","2024-06-24","/static/aoi/aoi_title.png",[14,3613,16,3614,3615,3616,3617,15,17,3618,3619,3620,3621,3622],"langchain","rtx","gpu","tensorrt","tensorrt-llm","llama","007","stable-diffusion","stable-video-diffusion","comfyui",[3624],{"link":3625,"site":23},"https://x.com/briancaffey/status/1802754703207583886",{"type":26,"children":3627,"toc":4028},[3628,3634,3650,3655,3659,3672,3678,3683,3696,3704,3717,3725,3733,3738,3746,3751,3759,3764,3772,3831,3836,3844,3849,3857,3871,3877,3882,3890,3903,3911,3916,3924,3929,3935,3949,3954,3962,3967,3975,3980,3988,3993,3998,4004,4009,4018,4023],{"type":29,"tag":52,"props":3629,"children":3631},{"id":3630},"tldr",[3632],{"type":35,"value":3633},"tl;dr",{"type":29,"tag":38,"props":3635,"children":3636},{},[3637,3639,3648],{"type":35,"value":3638},"\"Agents of Inference: Speed of Light\" is an update to my original entry for the Generative AI Agents Developer Contest by NVIDIA and LangChain. This update focuses on how I accelerated local text, image and video generation using TensorRT, TensorRT-LLM and NVIDIA NIMs. You can read the original article about \"Agents of Inference\" ",{"type":29,"tag":3640,"props":3641,"children":3645},"a",{"href":3642,"rel":3643},"https://briancaffey.github.io/2024/06/17/agents-of-inference-nvidia-and-langchain-generative-ai-agent-developer-contest",[3644],"nofollow",[3646],{"type":35,"value":3647},"here",{"type":35,"value":3649},".",{"type":29,"tag":38,"props":3651,"children":3652},{},[3653],{"type":35,"value":3654},"Here's my original project submission post on 𝕏 that introduces the idea of generating short 007-style films using agents, LLMs and stable diffusion:",{"type":29,"tag":3656,"props":3657,"children":3658},"agents-of-inference-tweet",{},[],{"type":29,"tag":38,"props":3660,"children":3661},{},[3662,3664,3671],{"type":35,"value":3663},"Here's a link to the ",{"type":29,"tag":3640,"props":3665,"children":3668},{"href":3666,"rel":3667},"https://github.com/briancaffey/agents-of-inference",[3644],[3669],{"type":35,"value":3670},"Agents of Inference code repository on GitHub",{"type":35,"value":3649},{"type":29,"tag":52,"props":3673,"children":3675},{"id":3674},"nvidia-nim-inference-microservices",[3676],{"type":35,"value":3677},"NVIDIA NIM inference microservices",{"type":29,"tag":38,"props":3679,"children":3680},{},[3681],{"type":35,"value":3682},"I thought NVIDIA NIMs was one of the most exciting announcements from GTC 2024. I'm a big fan of using docker containers everywhere, and the idea of standardizing NVIDIA tools and dependencies seemed to make a lot of sense. I had previously struggled to get TensorRT-LLM installed on Windows using example repos provided by NVIDIA.",{"type":29,"tag":38,"props":3684,"children":3685},{},[3686,3688,3694],{"type":35,"value":3687},"A few weeks ago NVIDIA announced that NVIDIA NIMs can be downloaded and run anywhere. I was able to download this NIM for the ",{"type":29,"tag":408,"props":3689,"children":3691},{"className":3690},[],[3692],{"type":35,"value":3693},"meta/llama3-8b-instruct",{"type":35,"value":3695}," model:",{"type":29,"tag":38,"props":3697,"children":3698},{},[3699],{"type":29,"tag":173,"props":3700,"children":3703},{"alt":3701,"src":3702},"llama3 nim","/static/aoi/meta-llama3-nim.png",[],{"type":29,"tag":38,"props":3705,"children":3706},{},[3707,3709,3715],{"type":35,"value":3708},"Here are the logs for my NVIDIA NIM ",{"type":29,"tag":408,"props":3710,"children":3712},{"className":3711},[],[3713],{"type":35,"value":3714},"Meta/Llama-3-8B-Instruct",{"type":35,"value":3716}," running in docker container on Windows Subsystem for Linux on my NVIDIA GeForce RTX 4090 GPU-powered PC. Notice that it generates over 50 tokens per second!",{"type":29,"tag":38,"props":3718,"children":3719},{},[3720],{"type":29,"tag":173,"props":3721,"children":3724},{"alt":3722,"src":3723},"trt llama3 local","/static/aoi/trt-llama3.png",[],{"type":29,"tag":38,"props":3726,"children":3727},{},[3728],{"type":29,"tag":173,"props":3729,"children":3732},{"alt":3730,"src":3731},"token factory","/static/aoi/token-factory.png",[],{"type":29,"tag":38,"props":3734,"children":3735},{},[3736],{"type":35,"value":3737},"The one main hurdle I faced when running the NIM local was an error about no runnable profiles being available:",{"type":29,"tag":495,"props":3739,"children":3741},{"code":3740},"ERROR 06-23 15:41:21.19 utils.py:21] Could not find a profile that is currently runnable with the detected hardware. Please check the system information below and make sure you have enough free GPUs.\nSYSTEM INFO\n- Free GPUs: \u003CNone>\n- Non-free GPUs:\n  -  [2684:10de] (0) NVIDIA GeForce RTX 4090 [current utilization: 7%]\n",[3742],{"type":29,"tag":408,"props":3743,"children":3744},{"__ignoreMap":8},[3745],{"type":35,"value":3740},{"type":29,"tag":38,"props":3747,"children":3748},{},[3749],{"type":35,"value":3750},"This seemed odd, and I found another user with the same issue on the NVIDIA Developer Forum. I was able to get around this by going into the EUFI/BIOS of my PC and switch to integrated graphics:",{"type":29,"tag":38,"props":3752,"children":3753},{},[3754],{"type":29,"tag":173,"props":3755,"children":3758},{"alt":3756,"src":3757},"bios","/static/aoi/bios.jpg",[],{"type":29,"tag":38,"props":3760,"children":3761},{},[3762],{"type":35,"value":3763},"It was great to be able to run \"Agents of Inference\" using NVIDIA NIM because it is just as simple as running a docker container:",{"type":29,"tag":495,"props":3765,"children":3767},{"code":3766},"export CONTAINER_NAME=llama3-8b-instruct\nexport IMG_NAME=\"nvcr.io/nim/meta/${CONTAINER_NAME}:1.0.0\"\nexport LOCAL_NIM_CACHE=~/.cache/nim\nmkdir -p \"$LOCAL_NIM_CACHE\"\ndocker run -it --rm --name=$CONTAINER_NAME \\\n  --runtime=nvidia \\\n  --gpus all \\\n  --shm-size=16GB \\\n  -e NGC_API_KEY \\\n  -v \"$LOCAL_NIM_CACHE:/opt/nim/.cache\" \\\n  -u $(id -u) \\\n  -p 8000:8000 \\\n  $IMG_NAME\n",[3768],{"type":29,"tag":408,"props":3769,"children":3770},{"__ignoreMap":8},[3771],{"type":35,"value":3766},{"type":29,"tag":38,"props":3773,"children":3774},{},[3775,3777,3783,3785,3792,3794,3800,3802,3813,3815,3821,3823,3829],{"type":35,"value":3776},"Before getting this to work, I was able to get a ",{"type":29,"tag":408,"props":3778,"children":3780},{"className":3779},[],[3781],{"type":35,"value":3782},"/chat/completions",{"type":35,"value":3784}," endpoint working with the Llama3 model on my fork of the ",{"type":29,"tag":3640,"props":3786,"children":3789},{"href":3787,"rel":3788},"https://github.com/briancaffey/trt-llm-as-openai-windows/commit/edaa15fd026fe95e645e3d4ae9718dc3ecc3bb65",[3644],[3790],{"type":35,"value":3791},"trt-llm-as-openai-windows",{"type":35,"value":3793},". I borrowed code for the ",{"type":29,"tag":408,"props":3795,"children":3797},{"className":3796},[],[3798],{"type":35,"value":3799},"TrtLlmAPI",{"type":35,"value":3801}," from the ",{"type":29,"tag":3640,"props":3803,"children":3806},{"href":3804,"rel":3805},"https://github.com/NVIDIA/ChatRTX",[3644],[3807],{"type":29,"tag":408,"props":3808,"children":3810},{"className":3809},[],[3811],{"type":35,"value":3812},"NVIDIA/ChatRTX",{"type":35,"value":3814}," repo and a function from ",{"type":29,"tag":408,"props":3816,"children":3818},{"className":3817},[],[3819],{"type":35,"value":3820},"llama-index",{"type":35,"value":3822}," called ",{"type":29,"tag":408,"props":3824,"children":3826},{"className":3825},[],[3827],{"type":35,"value":3828},"messages_to_prompt_v3_instruct",{"type":35,"value":3830}," which encodes messages with special tokens for chat. This was an interesting exercise and it taught me a lot about how LLMs do chat. I would like to continue working on this fork and see how to implement streaming endpoints for the Llama 3 model.",{"type":29,"tag":38,"props":3832,"children":3833},{},[3834],{"type":35,"value":3835},"Here is how Llama 3 does the instruct prompting:",{"type":29,"tag":495,"props":3837,"children":3839},{"code":3838},"\u003C|begin_of_text|>\u003C|start_header_id|>system\u003C|end_header_id|>\n\nYou are a helpful AI assistant for travel tips and recommendations\u003C|eot_id|>\u003C|start_header_id|>user\u003C|end_header_id|>\n\nWhat can you help me with?\u003C|eot_id|>\u003C|start_header_id|>assistant\u003C|end_header_id|>\n",[3840],{"type":29,"tag":408,"props":3841,"children":3842},{"__ignoreMap":8},[3843],{"type":35,"value":3838},{"type":29,"tag":38,"props":3845,"children":3846},{},[3847],{"type":35,"value":3848},"Compare this with how it was done with Llama2 chat:",{"type":29,"tag":495,"props":3850,"children":3852},{"code":3851},"\u003Cs>[INST] \u003C\u003CSYS>>\n{{ system_prompt }}\n\u003C\u003C/SYS>>\n\n{{ user_message_1 }} [/INST] {{ model_answer_1 }} \u003C/s>\n\u003Cs>[INST] {{ user_message_2 }} [/INST]\n",[3853],{"type":29,"tag":408,"props":3854,"children":3855},{"__ignoreMap":8},[3856],{"type":35,"value":3851},{"type":29,"tag":38,"props":3858,"children":3859},{},[3860,3862,3869],{"type":35,"value":3861},"You can read more about the difference between Llama 2 and 3 on the ",{"type":29,"tag":3640,"props":3863,"children":3866},{"href":3864,"rel":3865},"https://llama.meta.com/docs/model-cards-and-prompt-formats",[3644],[3867],{"type":35,"value":3868},"Model Card & Prompt formats",{"type":35,"value":3870}," page on Meta's Llama website.",{"type":29,"tag":52,"props":3872,"children":3874},{"id":3873},"langsmith",[3875],{"type":35,"value":3876},"LangSmith",{"type":29,"tag":38,"props":3878,"children":3879},{},[3880],{"type":35,"value":3881},"I recently started using LangSmith. It is an awesome product and it ties in really well to doing prototype work like in my project \"Agents of Inference\". I wish I had started using it earlier in my development cycle! All you need to do is add an API key to your environment and your application automatically starts tracing LLM calls. It also works well with LangGraph and allows you to trace the execution path of your graph. Also it is good to be aware that there are other products similar to LangSmith like LangFuse. I also saw a really neat demo from Datadog at GTC showing an alpha version of their LLM tracing and observability product.",{"type":29,"tag":38,"props":3883,"children":3884},{},[3885],{"type":29,"tag":173,"props":3886,"children":3889},{"alt":3887,"src":3888},"langsmith screenshot","/static/aoi/langsmith.png",[],{"type":29,"tag":38,"props":3891,"children":3892},{},[3893,3895,3901],{"type":35,"value":3894},"LangSmith can also be helpful when the wrong JSON shape is parsed. I had a lot of difficulty with this in my project. When I used the Q4_K_M gguf quantized ",{"type":29,"tag":408,"props":3896,"children":3898},{"className":3897},[],[3899],{"type":35,"value":3900},"Meta-Llama-3 8B-Instruct",{"type":35,"value":3902}," model I had no issues with output parsing. Switching to the TensorRT-LLM model provided by the NIM resulted in some parsing errors. The application would report that JSON could not be parsed because the result contained text like: \"Here is the JSON that you requested\". I was able to get around this by changing the prompt template from:",{"type":29,"tag":495,"props":3904,"children":3906},{"code":3905},"Answer the user query.\n",[3907],{"type":29,"tag":408,"props":3908,"children":3909},{"__ignoreMap":8},[3910],{"type":35,"value":3905},{"type":29,"tag":38,"props":3912,"children":3913},{},[3914],{"type":35,"value":3915},"to",{"type":29,"tag":495,"props":3917,"children":3919},{"code":3918},"Don't include ANYTHING except for valid JSON in your response. Answer the user query.\n",[3920],{"type":29,"tag":408,"props":3921,"children":3922},{"__ignoreMap":8},[3923],{"type":35,"value":3918},{"type":29,"tag":38,"props":3925,"children":3926},{},[3927],{"type":35,"value":3928},"This was the most frustrating part of development, and I'm still getting occasional errors that I just skip over. I'm also probably have not exhausted all of the tools that LangChain provides to avoid these types of errors. Don't assume that output parsing that works with one model will work with another! This is another good reason to use something like LangSmith when developing LLM-based applications.",{"type":29,"tag":52,"props":3930,"children":3932},{"id":3931},"comfyui-tensorrt",[3933],{"type":35,"value":3934},"ComfyUI TensorRT",{"type":29,"tag":38,"props":3936,"children":3937},{},[3938,3940,3947],{"type":35,"value":3939},"My goal with \"Agents of Inference\" was to be able to test out how small upstream prompt changes can impact the quality and consistency of a series of generated images and videos. Iteration speed is very important! I was able to significantly speed up image and video generation by using the ",{"type":29,"tag":3640,"props":3941,"children":3944},{"href":3942,"rel":3943},"https://github.com/comfyanonymous/ComfyUI_TensorRT",[3644],[3945],{"type":35,"value":3946},"ComfyUI TensorRT custom nodes",{"type":35,"value":3948},". These nodes allow you to build engines with specifications for parameters that can be either static or dynamic. I had better luck with building dynamic engines. I was able to build and use engines for Stable Diffusion SDXL and Stable Video Diffusion XT.",{"type":29,"tag":38,"props":3950,"children":3951},{},[3952],{"type":35,"value":3953},"Building a TensorRT engine for ComfyUI can be done using the following workflow:",{"type":29,"tag":38,"props":3955,"children":3956},{},[3957],{"type":29,"tag":173,"props":3958,"children":3961},{"alt":3959,"src":3960},"trt comfyUI build process","/static/aoi/comfyui-trt-svd-xt.png",[],{"type":29,"tag":38,"props":3963,"children":3964},{},[3965],{"type":35,"value":3966},"The engines can then be used in custom workflows like the following:",{"type":29,"tag":38,"props":3968,"children":3969},{},[3970],{"type":29,"tag":173,"props":3971,"children":3974},{"alt":3972,"src":3973},"trt comfyui workflow","/static/aoi/svd-workflow-trt.png",[],{"type":29,"tag":38,"props":3976,"children":3977},{},[3978],{"type":35,"value":3979},"Once these workflows are configured and are working as expected, you can export them in API format (JSON) and use them to make API calls to the ComfyUI backend. The agents for stable diffusion and stable video diffusion made API calls in this way and it worked pretty well.",{"type":29,"tag":38,"props":3981,"children":3982},{},[3983],{"type":29,"tag":173,"props":3984,"children":3987},{"alt":3985,"src":3986},"comfy its","/static/aoi/comfy-its.png",[],{"type":29,"tag":38,"props":3989,"children":3990},{},[3991],{"type":35,"value":3992},"Using 50 iterations, I was able to generate 1024x576 images in 3 seconds or about 19 iterations per second (it/s). Videos",{"type":29,"tag":38,"props":3994,"children":3995},{},[3996],{"type":35,"value":3997},"ComfyUI is still early in development and it refers to itself as \"alpha software\" even though it has a large adoption by a very active community already. I'm excited to see what is next from the developers of ComfyUI.",{"type":29,"tag":52,"props":3999,"children":4001},{"id":4000},"speed-of-light",[4002],{"type":35,"value":4003},"Speed of Light",{"type":29,"tag":38,"props":4005,"children":4006},{},[4007],{"type":35,"value":4008},"\"Speed of Light\" is a term that I learned from a stable diffusion talk at GTC.",{"type":29,"tag":4010,"props":4011,"children":4012},"blockquote",{},[4013],{"type":29,"tag":38,"props":4014,"children":4015},{},[4016],{"type":35,"value":4017},"SOL analysis reveals how your code performs, and device utilization compared to relevant maximums.",{"type":29,"tag":38,"props":4019,"children":4020},{},[4021],{"type":35,"value":4022},"Adding TensorRT and TensorRT-LLM to inference services on my RTX PC helped increase the throughput of text, image and video generation for my \"Agents of Inference\" project. I'm looking forward to learning more about profiling and optimization techniques for both LLMs and Stable Diffusion workloads.",{"type":29,"tag":38,"props":4024,"children":4025},{},[4026],{"type":35,"value":4027},"Thanks again to NVIDIA and LangChain for organizing this contest! It was a lot of fun to learn about builing agents with LangChain and LangGraph and the latest developments from NVIDIA in Generative AI.",{"title":8,"searchDepth":523,"depth":523,"links":4029},[4030,4031,4032,4033,4034],{"id":3630,"depth":523,"text":3633},{"id":3674,"depth":523,"text":3677},{"id":3873,"depth":523,"text":3876},{"id":3931,"depth":523,"text":3934},{"id":4000,"depth":523,"text":4003},"content:2024:06:24:agents-of-inference-speed-of-light-nvidia-langchain-generative-ai-agents-developer-contest-update.md","2024/06/24/agents-of-inference-speed-of-light-nvidia-langchain-generative-ai-agents-developer-contest-update.md","2024/06/24/agents-of-inference-speed-of-light-nvidia-langchain-generative-ai-agents-developer-contest-update",{"_path":4039,"_dir":4040,"_draft":7,"_partial":7,"_locale":8,"title":4041,"description":4042,"date":4043,"image":3611,"tags":4044,"draft":7,"external":4045,"comments":24,"body":4047,"_type":3599,"_id":5515,"_source":3601,"_file":5516,"_stem":5517,"_extension":3604},"/2024/06/17/agents-of-inference-nvidia-and-langchain-generative-ai-agent-developer-contest","17","Agents of Inference: My submission for NVIDIA's Generative AI Agents Developer Contest by NVIDIA and LangChain","This article discusses my entry for NVIDIA's Generative AI Agents Developer Contest entry: Agents of Inference","2024-06-17",[14,3613,16,3614,3615,3616,3617,15,17,3618,3619,3620,3621,3622],[4046],{"link":3625,"site":23},{"type":26,"children":4048,"toc":5494},[4049,4055,4066,4070,4075,4080,4083,4093,4099,4104,4110,4115,4121,4126,4169,4177,4182,4188,4193,4206,4219,4231,4588,4593,4636,4641,4801,4827,4833,4838,4942,4970,4977,4982,4988,4993,5072,5078,5083,5185,5193,5198,5203,5255,5276,5282,5303,5349,5354,5359,5365,5378,5386,5392,5396,5401,5406,5412,5417,5423,5428,5434,5439,5447,5452,5458,5470,5475,5480,5485,5490],{"type":29,"tag":52,"props":4050,"children":4052},{"id":4051},"update",[4053],{"type":35,"value":4054},"Update",{"type":29,"tag":38,"props":4056,"children":4057},{},[4058,4060],{"type":35,"value":4059},"I recently posted another article about optimizing this project with TensorRT and TensorRT-LLM running on local NVIDIA NIM inference microservices, please have a look here: ",{"type":29,"tag":3640,"props":4061,"children":4064},{"href":4062,"rel":4063},"https://briancaffey.github.io/2024/06/24/agents-of-inference-speed-of-light-nvidia-langchain-generative-ai-agents-developer-contest-update",[3644],[4065],{"type":35,"value":4062},{"type":29,"tag":52,"props":4067,"children":4068},{"id":3630},[4069],{"type":35,"value":3633},{"type":29,"tag":38,"props":4071,"children":4072},{},[4073],{"type":35,"value":4074},"“Agents of Inference” is my entry for the Generative AI Agents Developer Contest by NVIDIA and LangChain. This project aims to integrate techniques for generating text, images and video to create an application capable of producing short thematic films. In this article, I will detail how I developed the project leveraging LangGraph—a library for building stateful, multi-actor applications with LLMs--and hybrid AI workflows using NVIDIA AI-powered tools and technologies running on RTX PCs and in the cloud.",{"type":29,"tag":38,"props":4076,"children":4077},{},[4078],{"type":35,"value":4079},"Here's my project submission post on 𝕏:",{"type":29,"tag":3656,"props":4081,"children":4082},{},[],{"type":29,"tag":38,"props":4084,"children":4085},{},[4086,4087,4092],{"type":35,"value":3663},{"type":29,"tag":3640,"props":4088,"children":4090},{"href":3666,"rel":4089},[3644],[4091],{"type":35,"value":3670},{"type":35,"value":3649},{"type":29,"tag":52,"props":4094,"children":4096},{"id":4095},"nvidias-generative-ai-agents-developer-contest",[4097],{"type":35,"value":4098},"NVIDIA's Generative AI Agents Developer Contest",{"type":29,"tag":38,"props":4100,"children":4101},{},[4102],{"type":35,"value":4103},"AI agents are having a moment. They are the building blocks for building \"applications that reason\", and LangChain is a company that provides a comprehensive set of tools for developing, deploying and monitoring AI agents. I have struggled to understand how I can build or use agents in my own projects, and with the contest I have been able to just scratch the surface of what is possible with AI agents--but I think it is a promising paradigm for developing AI-driven applications.",{"type":29,"tag":52,"props":4105,"children":4107},{"id":4106},"coming-up-with-an-idea",[4108],{"type":35,"value":4109},"Coming up with an idea",{"type":29,"tag":38,"props":4111,"children":4112},{},[4113],{"type":35,"value":4114},"I love stable diffusion. I closely follow the development of the three leading applications for generating images with stable dissuion models: Stable Diffusion WebUI, InvokeAI and ComfyUI. Write a prompt, instantly see the result, tweak the prompt and generate again. This is the basic process by which I have previously used stable diffusion. It is a satisfying mental exercise that feeds the creative and imaginative part of my brain. My idea for this project came from wanting to automate this process: use large language models to build cohesive scenes and detailed prompts and then feed them into my stable diffusion programs via API. Using LangChain and LangGraph allowed me to rapidly prototype the idea and start generating short feature films in the style of my favorite British Secret Agent: 007.",{"type":29,"tag":52,"props":4116,"children":4118},{"id":4117},"putting-together-the-puzzle-pieces",[4119],{"type":35,"value":4120},"Putting together the puzzle pieces",{"type":29,"tag":38,"props":4122,"children":4123},{},[4124],{"type":35,"value":4125},"Here's how I set up an MVP for my project project to get started. I set up a simple graph (a linked list, really) that included the following nodes. *Important: in this context, a node is an agent, and that agent is a simple Python function. It takes one parameter which is the state, a Python dictionary, that holds the output of LLM calls that the agents make. Not all nodes make LLM calls, some just run basic functions like initializing directories or calling external stable diffusion APIs.",{"type":29,"tag":69,"props":4127,"children":4128},{},[4129,4134,4139,4144,4149,4154,4159,4164],{"type":29,"tag":73,"props":4130,"children":4131},{},[4132],{"type":35,"value":4133},"Casting Agent → come up with some characters",{"type":29,"tag":73,"props":4135,"children":4136},{},[4137],{"type":35,"value":4138},"Location Agent → come up with some locations",{"type":29,"tag":73,"props":4140,"children":4141},{},[4142],{"type":35,"value":4143},"Synopsis Agent → write a synopsis based on the characters and locations",{"type":29,"tag":73,"props":4145,"children":4146},{},[4147],{"type":35,"value":4148},"Scene Agent → write some number of scenes based on the synopsis based on the synopsis",{"type":29,"tag":73,"props":4150,"children":4151},{},[4152],{"type":35,"value":4153},"Shot agent → describe some number of camera shots for each scene based on the scene",{"type":29,"tag":73,"props":4155,"children":4156},{},[4157],{"type":35,"value":4158},"Photography agent → take each shot description and generate and image",{"type":29,"tag":73,"props":4160,"children":4161},{},[4162],{"type":35,"value":4163},"Videography agent → take each image generated by the photography agent and convert it to a 4 second clip using stable video diffusion",{"type":29,"tag":73,"props":4165,"children":4166},{},[4167],{"type":35,"value":4168},"Editor agent → compile the movie clips together",{"type":29,"tag":38,"props":4170,"children":4171},{},[4172],{"type":29,"tag":173,"props":4173,"children":4176},{"alt":4174,"src":4175},"simple graph of agents of inference","/static/aoi/graph.png",[],{"type":29,"tag":38,"props":4178,"children":4179},{},[4180],{"type":35,"value":4181},"It may look simple, but there is a lot going on in this graph.",{"type":29,"tag":104,"props":4183,"children":4185},{"id":4184},"casting-and-location",[4186],{"type":35,"value":4187},"Casting and Location",{"type":29,"tag":38,"props":4189,"children":4190},{},[4191],{"type":35,"value":4192},"The first two agents in my graph are tasked with generating characters and locations that would appear in a British secret agent film. The prompts used for these agents are as follows:",{"type":29,"tag":4010,"props":4194,"children":4195},{},[4196],{"type":29,"tag":38,"props":4197,"children":4198},{},[4199,4204],{"type":29,"tag":44,"props":4200,"children":4201},{},[4202],{"type":35,"value":4203},"casting",{"type":35,"value":4205},": \"Come up with four to five characters who will appear in an upcoming British spy movie. The list should include the main character who is male, the villain, an attractive female actress who eventually falls in love with the main character, and some other characters as well.\"",{"type":29,"tag":4010,"props":4207,"children":4208},{},[4209],{"type":29,"tag":38,"props":4210,"children":4211},{},[4212,4217],{"type":29,"tag":44,"props":4213,"children":4214},{},[4215],{"type":35,"value":4216},"locations",{"type":35,"value":4218},": \"Provide three main locations that can be used in an international British Spy movie. The locations should include a variety of cities, remote environments, iconic landmarks, etc. The locations should make for good background scenes for an action movie with lots of stunts, chases, explosions, fights, etc. and other things you would find in an action movie. Be sure to include the country and a description of the environment where these places are.\"",{"type":29,"tag":38,"props":4220,"children":4221},{},[4222,4224,4229],{"type":35,"value":4223},"These agents leverage the LangChain Expression Language (LCEL) to generate ",{"type":29,"tag":44,"props":4225,"children":4226},{},[4227],{"type":35,"value":4228},"structured output",{"type":35,"value":4230}," based on Pydantic models. For",{"type":29,"tag":495,"props":4232,"children":4234},{"code":4233,"language":2030,"meta":8,"className":2031,"style":8},"class Character(BaseModel):\n    \"\"\"\n    The type for character that the casting agent casts for a role in the movie\n    \"\"\"\n    full_name: str = Field(description=\"The character's name\")\n    short_name: str = Field(description=\"The character's short name\")\n    background: str = Field(description=\"The character's background\")\n    physical_traits: str = Field(description=\"The physical traits of the character\")\n    ethnicity: str = Field(description=\"The character's ethnicity\")\n    gender: str = Field(description=\"The character's gender, either male of female\")\n    nationality: str = Field(description=\"The character's nationality\")\n    main_character: bool = Field(description=\"If the character is or is not the main character\")\n\n",[4235],{"type":29,"tag":408,"props":4236,"children":4237},{"__ignoreMap":8},[4238,4264,4272,4280,4287,4328,4365,4402,4439,4476,4513,4550],{"type":29,"tag":422,"props":4239,"children":4240},{"class":506,"line":507},[4241,4246,4251,4255,4260],{"type":29,"tag":422,"props":4242,"children":4243},{"style":2072},[4244],{"type":35,"value":4245},"class",{"type":29,"tag":422,"props":4247,"children":4248},{"style":2128},[4249],{"type":35,"value":4250}," Character",{"type":29,"tag":422,"props":4252,"children":4253},{"style":517},[4254],{"type":35,"value":2049},{"type":29,"tag":422,"props":4256,"children":4257},{"style":2138},[4258],{"type":35,"value":4259},"BaseModel",{"type":29,"tag":422,"props":4261,"children":4262},{"style":517},[4263],{"type":35,"value":2146},{"type":29,"tag":422,"props":4265,"children":4266},{"class":506,"line":523},[4267],{"type":29,"tag":422,"props":4268,"children":4269},{"style":569},[4270],{"type":35,"value":4271},"    \"\"\"\n",{"type":29,"tag":422,"props":4273,"children":4274},{"class":506,"line":543},[4275],{"type":29,"tag":422,"props":4276,"children":4277},{"style":569},[4278],{"type":35,"value":4279},"    The type for character that the casting agent casts for a role in the movie\n",{"type":29,"tag":422,"props":4281,"children":4282},{"class":506,"line":556},[4283],{"type":29,"tag":422,"props":4284,"children":4285},{"style":569},[4286],{"type":35,"value":4271},{"type":29,"tag":422,"props":4288,"children":4289},{"class":506,"line":575},[4290,4295,4299,4304,4309,4314,4318,4323],{"type":29,"tag":422,"props":4291,"children":4292},{"style":517},[4293],{"type":35,"value":4294},"    full_name: ",{"type":29,"tag":422,"props":4296,"children":4297},{"style":2284},[4298],{"type":35,"value":2287},{"type":29,"tag":422,"props":4300,"children":4301},{"style":2058},[4302],{"type":35,"value":4303}," =",{"type":29,"tag":422,"props":4305,"children":4306},{"style":517},[4307],{"type":35,"value":4308}," Field(",{"type":29,"tag":422,"props":4310,"children":4311},{"style":2052},[4312],{"type":35,"value":4313},"description",{"type":29,"tag":422,"props":4315,"children":4316},{"style":2058},[4317],{"type":35,"value":2061},{"type":29,"tag":422,"props":4319,"children":4320},{"style":569},[4321],{"type":35,"value":4322},"\"The character's name\"",{"type":29,"tag":422,"props":4324,"children":4325},{"style":517},[4326],{"type":35,"value":4327},")\n",{"type":29,"tag":422,"props":4329,"children":4330},{"class":506,"line":588},[4331,4336,4340,4344,4348,4352,4356,4361],{"type":29,"tag":422,"props":4332,"children":4333},{"style":517},[4334],{"type":35,"value":4335},"    short_name: ",{"type":29,"tag":422,"props":4337,"children":4338},{"style":2284},[4339],{"type":35,"value":2287},{"type":29,"tag":422,"props":4341,"children":4342},{"style":2058},[4343],{"type":35,"value":4303},{"type":29,"tag":422,"props":4345,"children":4346},{"style":517},[4347],{"type":35,"value":4308},{"type":29,"tag":422,"props":4349,"children":4350},{"style":2052},[4351],{"type":35,"value":4313},{"type":29,"tag":422,"props":4353,"children":4354},{"style":2058},[4355],{"type":35,"value":2061},{"type":29,"tag":422,"props":4357,"children":4358},{"style":569},[4359],{"type":35,"value":4360},"\"The character's short name\"",{"type":29,"tag":422,"props":4362,"children":4363},{"style":517},[4364],{"type":35,"value":4327},{"type":29,"tag":422,"props":4366,"children":4367},{"class":506,"line":612},[4368,4373,4377,4381,4385,4389,4393,4398],{"type":29,"tag":422,"props":4369,"children":4370},{"style":517},[4371],{"type":35,"value":4372},"    background: ",{"type":29,"tag":422,"props":4374,"children":4375},{"style":2284},[4376],{"type":35,"value":2287},{"type":29,"tag":422,"props":4378,"children":4379},{"style":2058},[4380],{"type":35,"value":4303},{"type":29,"tag":422,"props":4382,"children":4383},{"style":517},[4384],{"type":35,"value":4308},{"type":29,"tag":422,"props":4386,"children":4387},{"style":2052},[4388],{"type":35,"value":4313},{"type":29,"tag":422,"props":4390,"children":4391},{"style":2058},[4392],{"type":35,"value":2061},{"type":29,"tag":422,"props":4394,"children":4395},{"style":569},[4396],{"type":35,"value":4397},"\"The character's background\"",{"type":29,"tag":422,"props":4399,"children":4400},{"style":517},[4401],{"type":35,"value":4327},{"type":29,"tag":422,"props":4403,"children":4404},{"class":506,"line":625},[4405,4410,4414,4418,4422,4426,4430,4435],{"type":29,"tag":422,"props":4406,"children":4407},{"style":517},[4408],{"type":35,"value":4409},"    physical_traits: ",{"type":29,"tag":422,"props":4411,"children":4412},{"style":2284},[4413],{"type":35,"value":2287},{"type":29,"tag":422,"props":4415,"children":4416},{"style":2058},[4417],{"type":35,"value":4303},{"type":29,"tag":422,"props":4419,"children":4420},{"style":517},[4421],{"type":35,"value":4308},{"type":29,"tag":422,"props":4423,"children":4424},{"style":2052},[4425],{"type":35,"value":4313},{"type":29,"tag":422,"props":4427,"children":4428},{"style":2058},[4429],{"type":35,"value":2061},{"type":29,"tag":422,"props":4431,"children":4432},{"style":569},[4433],{"type":35,"value":4434},"\"The physical traits of the character\"",{"type":29,"tag":422,"props":4436,"children":4437},{"style":517},[4438],{"type":35,"value":4327},{"type":29,"tag":422,"props":4440,"children":4441},{"class":506,"line":639},[4442,4447,4451,4455,4459,4463,4467,4472],{"type":29,"tag":422,"props":4443,"children":4444},{"style":517},[4445],{"type":35,"value":4446},"    ethnicity: ",{"type":29,"tag":422,"props":4448,"children":4449},{"style":2284},[4450],{"type":35,"value":2287},{"type":29,"tag":422,"props":4452,"children":4453},{"style":2058},[4454],{"type":35,"value":4303},{"type":29,"tag":422,"props":4456,"children":4457},{"style":517},[4458],{"type":35,"value":4308},{"type":29,"tag":422,"props":4460,"children":4461},{"style":2052},[4462],{"type":35,"value":4313},{"type":29,"tag":422,"props":4464,"children":4465},{"style":2058},[4466],{"type":35,"value":2061},{"type":29,"tag":422,"props":4468,"children":4469},{"style":569},[4470],{"type":35,"value":4471},"\"The character's ethnicity\"",{"type":29,"tag":422,"props":4473,"children":4474},{"style":517},[4475],{"type":35,"value":4327},{"type":29,"tag":422,"props":4477,"children":4478},{"class":506,"line":652},[4479,4484,4488,4492,4496,4500,4504,4509],{"type":29,"tag":422,"props":4480,"children":4481},{"style":517},[4482],{"type":35,"value":4483},"    gender: ",{"type":29,"tag":422,"props":4485,"children":4486},{"style":2284},[4487],{"type":35,"value":2287},{"type":29,"tag":422,"props":4489,"children":4490},{"style":2058},[4491],{"type":35,"value":4303},{"type":29,"tag":422,"props":4493,"children":4494},{"style":517},[4495],{"type":35,"value":4308},{"type":29,"tag":422,"props":4497,"children":4498},{"style":2052},[4499],{"type":35,"value":4313},{"type":29,"tag":422,"props":4501,"children":4502},{"style":2058},[4503],{"type":35,"value":2061},{"type":29,"tag":422,"props":4505,"children":4506},{"style":569},[4507],{"type":35,"value":4508},"\"The character's gender, either male of female\"",{"type":29,"tag":422,"props":4510,"children":4511},{"style":517},[4512],{"type":35,"value":4327},{"type":29,"tag":422,"props":4514,"children":4515},{"class":506,"line":665},[4516,4521,4525,4529,4533,4537,4541,4546],{"type":29,"tag":422,"props":4517,"children":4518},{"style":517},[4519],{"type":35,"value":4520},"    nationality: ",{"type":29,"tag":422,"props":4522,"children":4523},{"style":2284},[4524],{"type":35,"value":2287},{"type":29,"tag":422,"props":4526,"children":4527},{"style":2058},[4528],{"type":35,"value":4303},{"type":29,"tag":422,"props":4530,"children":4531},{"style":517},[4532],{"type":35,"value":4308},{"type":29,"tag":422,"props":4534,"children":4535},{"style":2052},[4536],{"type":35,"value":4313},{"type":29,"tag":422,"props":4538,"children":4539},{"style":2058},[4540],{"type":35,"value":2061},{"type":29,"tag":422,"props":4542,"children":4543},{"style":569},[4544],{"type":35,"value":4545},"\"The character's nationality\"",{"type":29,"tag":422,"props":4547,"children":4548},{"style":517},[4549],{"type":35,"value":4327},{"type":29,"tag":422,"props":4551,"children":4552},{"class":506,"line":678},[4553,4558,4563,4567,4571,4575,4579,4584],{"type":29,"tag":422,"props":4554,"children":4555},{"style":517},[4556],{"type":35,"value":4557},"    main_character: ",{"type":29,"tag":422,"props":4559,"children":4560},{"style":2284},[4561],{"type":35,"value":4562},"bool",{"type":29,"tag":422,"props":4564,"children":4565},{"style":2058},[4566],{"type":35,"value":4303},{"type":29,"tag":422,"props":4568,"children":4569},{"style":517},[4570],{"type":35,"value":4308},{"type":29,"tag":422,"props":4572,"children":4573},{"style":2052},[4574],{"type":35,"value":4313},{"type":29,"tag":422,"props":4576,"children":4577},{"style":2058},[4578],{"type":35,"value":2061},{"type":29,"tag":422,"props":4580,"children":4581},{"style":569},[4582],{"type":35,"value":4583},"\"If the character is or is not the main character\"",{"type":29,"tag":422,"props":4585,"children":4586},{"style":517},[4587],{"type":35,"value":4327},{"type":29,"tag":38,"props":4589,"children":4590},{},[4591],{"type":35,"value":4592},"LCEL offers wonderful syntactic sugar, I can use this model in a parse and pip that into the output from the mode:",{"type":29,"tag":495,"props":4594,"children":4596},{"code":4595,"language":2030,"meta":8,"className":2031,"style":8},"chain = prompt | model | parser\n",[4597],{"type":29,"tag":408,"props":4598,"children":4599},{"__ignoreMap":8},[4600],{"type":29,"tag":422,"props":4601,"children":4602},{"class":506,"line":507},[4603,4608,4612,4617,4622,4627,4631],{"type":29,"tag":422,"props":4604,"children":4605},{"style":517},[4606],{"type":35,"value":4607},"chain ",{"type":29,"tag":422,"props":4609,"children":4610},{"style":2058},[4611],{"type":35,"value":2061},{"type":29,"tag":422,"props":4613,"children":4614},{"style":517},[4615],{"type":35,"value":4616}," prompt ",{"type":29,"tag":422,"props":4618,"children":4619},{"style":2058},[4620],{"type":35,"value":4621},"|",{"type":29,"tag":422,"props":4623,"children":4624},{"style":517},[4625],{"type":35,"value":4626}," model ",{"type":29,"tag":422,"props":4628,"children":4629},{"style":2058},[4630],{"type":35,"value":4621},{"type":29,"tag":422,"props":4632,"children":4633},{"style":517},[4634],{"type":35,"value":4635}," parser\n",{"type":29,"tag":38,"props":4637,"children":4638},{},[4639],{"type":35,"value":4640},"This results in our structured data:",{"type":29,"tag":495,"props":4642,"children":4646},{"code":4643,"language":4644,"meta":8,"className":4645,"style":8},"cast:\n- background: Former MI6 agent\n  ethnicity: British\n  full_name: James Alexander\n  gender: Male\n  main_character: true\n  nationality: British\n  physical_traits: Tall, dark hair, blue eyes\n  short_name: Jamie\n","yml","language-yml shiki shiki-themes github-light github-dark monokai",[4647],{"type":29,"tag":408,"props":4648,"children":4649},{"__ignoreMap":8},[4650,4662,4684,4701,4718,4735,4751,4767,4784],{"type":29,"tag":422,"props":4651,"children":4652},{"class":506,"line":507},[4653,4658],{"type":29,"tag":422,"props":4654,"children":4655},{"style":511},[4656],{"type":35,"value":4657},"cast",{"type":29,"tag":422,"props":4659,"children":4660},{"style":517},[4661],{"type":35,"value":520},{"type":29,"tag":422,"props":4663,"children":4664},{"class":506,"line":523},[4665,4670,4675,4679],{"type":29,"tag":422,"props":4666,"children":4667},{"style":517},[4668],{"type":35,"value":4669},"- ",{"type":29,"tag":422,"props":4671,"children":4672},{"style":511},[4673],{"type":35,"value":4674},"background",{"type":29,"tag":422,"props":4676,"children":4677},{"style":517},[4678],{"type":35,"value":534},{"type":29,"tag":422,"props":4680,"children":4681},{"style":569},[4682],{"type":35,"value":4683},"Former MI6 agent\n",{"type":29,"tag":422,"props":4685,"children":4686},{"class":506,"line":543},[4687,4692,4696],{"type":29,"tag":422,"props":4688,"children":4689},{"style":511},[4690],{"type":35,"value":4691},"  ethnicity",{"type":29,"tag":422,"props":4693,"children":4694},{"style":517},[4695],{"type":35,"value":534},{"type":29,"tag":422,"props":4697,"children":4698},{"style":569},[4699],{"type":35,"value":4700},"British\n",{"type":29,"tag":422,"props":4702,"children":4703},{"class":506,"line":556},[4704,4709,4713],{"type":29,"tag":422,"props":4705,"children":4706},{"style":511},[4707],{"type":35,"value":4708},"  full_name",{"type":29,"tag":422,"props":4710,"children":4711},{"style":517},[4712],{"type":35,"value":534},{"type":29,"tag":422,"props":4714,"children":4715},{"style":569},[4716],{"type":35,"value":4717},"James Alexander\n",{"type":29,"tag":422,"props":4719,"children":4720},{"class":506,"line":575},[4721,4726,4730],{"type":29,"tag":422,"props":4722,"children":4723},{"style":511},[4724],{"type":35,"value":4725},"  gender",{"type":29,"tag":422,"props":4727,"children":4728},{"style":517},[4729],{"type":35,"value":534},{"type":29,"tag":422,"props":4731,"children":4732},{"style":569},[4733],{"type":35,"value":4734},"Male\n",{"type":29,"tag":422,"props":4736,"children":4737},{"class":506,"line":588},[4738,4743,4747],{"type":29,"tag":422,"props":4739,"children":4740},{"style":511},[4741],{"type":35,"value":4742},"  main_character",{"type":29,"tag":422,"props":4744,"children":4745},{"style":517},[4746],{"type":35,"value":534},{"type":29,"tag":422,"props":4748,"children":4749},{"style":537},[4750],{"type":35,"value":540},{"type":29,"tag":422,"props":4752,"children":4753},{"class":506,"line":612},[4754,4759,4763],{"type":29,"tag":422,"props":4755,"children":4756},{"style":511},[4757],{"type":35,"value":4758},"  nationality",{"type":29,"tag":422,"props":4760,"children":4761},{"style":517},[4762],{"type":35,"value":534},{"type":29,"tag":422,"props":4764,"children":4765},{"style":569},[4766],{"type":35,"value":4700},{"type":29,"tag":422,"props":4768,"children":4769},{"class":506,"line":625},[4770,4775,4779],{"type":29,"tag":422,"props":4771,"children":4772},{"style":511},[4773],{"type":35,"value":4774},"  physical_traits",{"type":29,"tag":422,"props":4776,"children":4777},{"style":517},[4778],{"type":35,"value":534},{"type":29,"tag":422,"props":4780,"children":4781},{"style":569},[4782],{"type":35,"value":4783},"Tall, dark hair, blue eyes\n",{"type":29,"tag":422,"props":4785,"children":4786},{"class":506,"line":639},[4787,4792,4796],{"type":29,"tag":422,"props":4788,"children":4789},{"style":511},[4790],{"type":35,"value":4791},"  short_name",{"type":29,"tag":422,"props":4793,"children":4794},{"style":517},[4795],{"type":35,"value":534},{"type":29,"tag":422,"props":4797,"children":4798},{"style":569},[4799],{"type":35,"value":4800},"Jamie\n",{"type":29,"tag":38,"props":4802,"children":4803},{},[4804,4806,4812,4814,4825],{"type":35,"value":4805},"I saved the state for all \"Agents of Inference\" invocations in the ",{"type":29,"tag":408,"props":4807,"children":4809},{"className":4808},[],[4810],{"type":35,"value":4811},"output",{"type":35,"value":4813}," directory of my ",{"type":29,"tag":3640,"props":4815,"children":4818},{"href":4816,"rel":4817},"https://github.com/briancaffey/agents-of-inference/tree/main/output",[3644],[4819],{"type":29,"tag":408,"props":4820,"children":4822},{"className":4821},[],[4823],{"type":35,"value":4824},"agents-of-inference",{"type":35,"value":4826}," GitHub repo. I didn't commit the images and videos, but you can follow @AgentInference on X to see more of the results from my development process and future improvements, as well!",{"type":29,"tag":104,"props":4828,"children":4830},{"id":4829},"synopsis-agent",[4831],{"type":35,"value":4832},"Synopsis Agent",{"type":29,"tag":38,"props":4834,"children":4835},{},[4836],{"type":35,"value":4837},"With a cast of characters and locations selected, we need a synopsis to determine what happens. Here's the prompt:",{"type":29,"tag":495,"props":4839,"children":4841},{"code":4840,"language":498,"meta":8,"className":499,"style":8},"synopsis: |\n  Generate a synopsis for a British spy agent movie in the style of the James Bond series. The synopsis should include the following elements:\n  Protagonist: A charismatic and skilled British secret agent with a code name (e.g., \"Agent X\") who works for a top-secret government agency (e.g., MI6).\n  Antagonist: A formidable villain with a grand, sinister plan that threatens global security. The antagonist should have a unique, memorable persona and a well-defined motivation.\n  Mission: Outline the high-stakes mission that the protagonist must undertake to thwart the antagonist’s plan.\n  Gadgets and Vehicles: Mention the cutting-edge gadgets and vehicles that the protagonist uses throughout the mission. These should be inventive and integral to the plot.\n  Action Sequences: Include a brief description of some thrilling action sequences, such as car, boat, plane chases, hand-to-hand combat, and daring escapes, and dangerous situations.\n  Big Reveal: There is a big reveal toward the end of the storyline that is surprising and the reveal helps to move the story along.\n  Climactic Showdown: Describe the final confrontation between the protagonist and the antagonist. This should be intense and action-packed, leading to a satisfying resolution. Should include details about the main character is victorious.\n  Setting: Ensure that the settings are diverse and visually striking, adding to the overall excitement and suspense of the story. This should involve multiple locations in exotic environments, the wilderness, in dangerous situations, on board planes, trains, boats and fancy cars, etc.\n  Tone and Style: Maintain the sophisticated, suave, and adventurous tone that is characteristic of the James Bond series. Include elements of intrigue, romance, and humor.\n",[4842],{"type":29,"tag":408,"props":4843,"children":4844},{"__ignoreMap":8},[4845,4862,4870,4878,4886,4894,4902,4910,4918,4926,4934],{"type":29,"tag":422,"props":4846,"children":4847},{"class":506,"line":507},[4848,4853,4857],{"type":29,"tag":422,"props":4849,"children":4850},{"style":511},[4851],{"type":35,"value":4852},"synopsis",{"type":29,"tag":422,"props":4854,"children":4855},{"style":517},[4856],{"type":35,"value":534},{"type":29,"tag":422,"props":4858,"children":4859},{"style":2058},[4860],{"type":35,"value":4861},"|\n",{"type":29,"tag":422,"props":4863,"children":4864},{"class":506,"line":523},[4865],{"type":29,"tag":422,"props":4866,"children":4867},{"style":569},[4868],{"type":35,"value":4869},"  Generate a synopsis for a British spy agent movie in the style of the James Bond series. The synopsis should include the following elements:\n",{"type":29,"tag":422,"props":4871,"children":4872},{"class":506,"line":543},[4873],{"type":29,"tag":422,"props":4874,"children":4875},{"style":569},[4876],{"type":35,"value":4877},"  Protagonist: A charismatic and skilled British secret agent with a code name (e.g., \"Agent X\") who works for a top-secret government agency (e.g., MI6).\n",{"type":29,"tag":422,"props":4879,"children":4880},{"class":506,"line":556},[4881],{"type":29,"tag":422,"props":4882,"children":4883},{"style":569},[4884],{"type":35,"value":4885},"  Antagonist: A formidable villain with a grand, sinister plan that threatens global security. The antagonist should have a unique, memorable persona and a well-defined motivation.\n",{"type":29,"tag":422,"props":4887,"children":4888},{"class":506,"line":575},[4889],{"type":29,"tag":422,"props":4890,"children":4891},{"style":569},[4892],{"type":35,"value":4893},"  Mission: Outline the high-stakes mission that the protagonist must undertake to thwart the antagonist’s plan.\n",{"type":29,"tag":422,"props":4895,"children":4896},{"class":506,"line":588},[4897],{"type":29,"tag":422,"props":4898,"children":4899},{"style":569},[4900],{"type":35,"value":4901},"  Gadgets and Vehicles: Mention the cutting-edge gadgets and vehicles that the protagonist uses throughout the mission. These should be inventive and integral to the plot.\n",{"type":29,"tag":422,"props":4903,"children":4904},{"class":506,"line":612},[4905],{"type":29,"tag":422,"props":4906,"children":4907},{"style":569},[4908],{"type":35,"value":4909},"  Action Sequences: Include a brief description of some thrilling action sequences, such as car, boat, plane chases, hand-to-hand combat, and daring escapes, and dangerous situations.\n",{"type":29,"tag":422,"props":4911,"children":4912},{"class":506,"line":625},[4913],{"type":29,"tag":422,"props":4914,"children":4915},{"style":569},[4916],{"type":35,"value":4917},"  Big Reveal: There is a big reveal toward the end of the storyline that is surprising and the reveal helps to move the story along.\n",{"type":29,"tag":422,"props":4919,"children":4920},{"class":506,"line":639},[4921],{"type":29,"tag":422,"props":4922,"children":4923},{"style":569},[4924],{"type":35,"value":4925},"  Climactic Showdown: Describe the final confrontation between the protagonist and the antagonist. This should be intense and action-packed, leading to a satisfying resolution. Should include details about the main character is victorious.\n",{"type":29,"tag":422,"props":4927,"children":4928},{"class":506,"line":652},[4929],{"type":29,"tag":422,"props":4930,"children":4931},{"style":569},[4932],{"type":35,"value":4933},"  Setting: Ensure that the settings are diverse and visually striking, adding to the overall excitement and suspense of the story. This should involve multiple locations in exotic environments, the wilderness, in dangerous situations, on board planes, trains, boats and fancy cars, etc.\n",{"type":29,"tag":422,"props":4935,"children":4936},{"class":506,"line":665},[4937],{"type":29,"tag":422,"props":4938,"children":4939},{"style":569},[4940],{"type":35,"value":4941},"  Tone and Style: Maintain the sophisticated, suave, and adventurous tone that is characteristic of the James Bond series. Include elements of intrigue, romance, and humor.\n",{"type":29,"tag":38,"props":4943,"children":4944},{},[4945,4947,4953,4955,4961,4963,4968],{"type":35,"value":4946},"The synopsis to any good film is key, so I decided to use a feature of LangGraph that would allow a ",{"type":29,"tag":408,"props":4948,"children":4950},{"className":4949},[],[4951],{"type":35,"value":4952},"synopsis_review_agent",{"type":35,"value":4954}," to provide multiple rounds of feedback to the ",{"type":29,"tag":408,"props":4956,"children":4958},{"className":4957},[],[4959],{"type":35,"value":4960},"synopsis_agent",{"type":35,"value":4962}," to make it even better. Here's what the new graph look like after implementing the ",{"type":29,"tag":408,"props":4964,"children":4966},{"className":4965},[],[4967],{"type":35,"value":4952},{"type":35,"value":4969}," using conditional graph edges:",{"type":29,"tag":38,"props":4971,"children":4972},{},[4973],{"type":29,"tag":173,"props":4974,"children":4976},{"alt":4952,"src":4975},"/static/aoi/graph_with_cycle.png",[],{"type":29,"tag":38,"props":4978,"children":4979},{},[4980],{"type":35,"value":4981},"Conditional edges are a very powerful feature and I just used it in one part of my graph. Other parts of the graph could benefit from this as well, and they can allow for \"human-in-the-loop\" interactions which are becoming very popular in AI-powered applications.",{"type":29,"tag":104,"props":4983,"children":4985},{"id":4984},"scene-and-shot-agents",[4986],{"type":35,"value":4987},"Scene and shot agents",{"type":29,"tag":38,"props":4989,"children":4990},{},[4991],{"type":35,"value":4992},"With our perfected synopsis, we are ready to put more agents to work. The scene agent builds out the basic structure of the storyline. It provides a structured list of the main sections of the movie. The shot agent then loops over the scenes and creates a number of different shots for the given scene. This was an effective way to have consistent thematic content for shots within a scene. Here are the prompts I used for the scene and shot agents:",{"type":29,"tag":495,"props":4994,"children":4996},{"code":4995,"language":498,"meta":8,"className":499,"style":8},"scenes: |\n  Create a list of detailed scenes for an exciting and entertaining British spy film. The scenes should be comprehensive and include all scenes necessary for a complete film. Each scene should include the following elements:\n  Location: Describe the location and setting of the scene, including any notable landmarks, time of day, and general atmosphere.\n  Characters Involved: List the main characters present in the scene, with a brief description of their roles and appearances.\n  Description of What Happens: Provide a detailed account of the action, and key events that take place in the scene.\nshot: |\n  You are a film director working on a new British spy film and your writers have provided you with a scene. Your task is to come up with four to five shots that will be filmed during the scene. The shot descriptions needs to be specific and should include a varietry of closeup shots on characters, environment shots that consider the scene location and shots of specific items or other things that are featured in the scene. Each shot should also have a title. The description should be a brief densely worded block of text that captures the important elements of the scene. Consider the style of camera angle, lighting, character expressions, clothing, and other important visual elements for each shot. Be very descriptive. The description will be used to generate an image of the shot. Also, there should be at most one actor for each shot that contains people. Don't use the name of the character, instead use a physical description of the character based on their physical traits described below if needed. Also consider what the actor is wearing in the description.\n",[4997],{"type":29,"tag":408,"props":4998,"children":4999},{"__ignoreMap":8},[5000,5016,5024,5032,5040,5048,5064],{"type":29,"tag":422,"props":5001,"children":5002},{"class":506,"line":507},[5003,5008,5012],{"type":29,"tag":422,"props":5004,"children":5005},{"style":511},[5006],{"type":35,"value":5007},"scenes",{"type":29,"tag":422,"props":5009,"children":5010},{"style":517},[5011],{"type":35,"value":534},{"type":29,"tag":422,"props":5013,"children":5014},{"style":2058},[5015],{"type":35,"value":4861},{"type":29,"tag":422,"props":5017,"children":5018},{"class":506,"line":523},[5019],{"type":29,"tag":422,"props":5020,"children":5021},{"style":569},[5022],{"type":35,"value":5023},"  Create a list of detailed scenes for an exciting and entertaining British spy film. The scenes should be comprehensive and include all scenes necessary for a complete film. Each scene should include the following elements:\n",{"type":29,"tag":422,"props":5025,"children":5026},{"class":506,"line":543},[5027],{"type":29,"tag":422,"props":5028,"children":5029},{"style":569},[5030],{"type":35,"value":5031},"  Location: Describe the location and setting of the scene, including any notable landmarks, time of day, and general atmosphere.\n",{"type":29,"tag":422,"props":5033,"children":5034},{"class":506,"line":556},[5035],{"type":29,"tag":422,"props":5036,"children":5037},{"style":569},[5038],{"type":35,"value":5039},"  Characters Involved: List the main characters present in the scene, with a brief description of their roles and appearances.\n",{"type":29,"tag":422,"props":5041,"children":5042},{"class":506,"line":575},[5043],{"type":29,"tag":422,"props":5044,"children":5045},{"style":569},[5046],{"type":35,"value":5047},"  Description of What Happens: Provide a detailed account of the action, and key events that take place in the scene.\n",{"type":29,"tag":422,"props":5049,"children":5050},{"class":506,"line":588},[5051,5056,5060],{"type":29,"tag":422,"props":5052,"children":5053},{"style":511},[5054],{"type":35,"value":5055},"shot",{"type":29,"tag":422,"props":5057,"children":5058},{"style":517},[5059],{"type":35,"value":534},{"type":29,"tag":422,"props":5061,"children":5062},{"style":2058},[5063],{"type":35,"value":4861},{"type":29,"tag":422,"props":5065,"children":5066},{"class":506,"line":612},[5067],{"type":29,"tag":422,"props":5068,"children":5069},{"style":569},[5070],{"type":35,"value":5071},"  You are a film director working on a new British spy film and your writers have provided you with a scene. Your task is to come up with four to five shots that will be filmed during the scene. The shot descriptions needs to be specific and should include a varietry of closeup shots on characters, environment shots that consider the scene location and shots of specific items or other things that are featured in the scene. Each shot should also have a title. The description should be a brief densely worded block of text that captures the important elements of the scene. Consider the style of camera angle, lighting, character expressions, clothing, and other important visual elements for each shot. Be very descriptive. The description will be used to generate an image of the shot. Also, there should be at most one actor for each shot that contains people. Don't use the name of the character, instead use a physical description of the character based on their physical traits described below if needed. Also consider what the actor is wearing in the description.\n",{"type":29,"tag":104,"props":5073,"children":5075},{"id":5074},"stable-diffusion-and-stable-video-diffusion-agents",[5076],{"type":35,"value":5077},"Stable Diffusion and Stable Video Diffusion agents",{"type":29,"tag":38,"props":5079,"children":5080},{},[5081],{"type":35,"value":5082},"The stable diffusion agent makes an API call to a local instance of the Stable Diffusion WebUI API, saves the generated image and saves a reference to that image in the state:",{"type":29,"tag":495,"props":5084,"children":5086},{"code":5085,"language":498,"meta":8,"className":499,"style":8},"- description: A medium close-up shot of Ethan Jameson's face, with a concerned expression,\n    as he reads the message from Natalie Jackson. The lighting is dim, with only a\n    single lamp on his desk casting a warm glow. His eyes are narrowed, and his brow\n    is furrowed in concentration. He is wearing a dark blue suit and a white shirt.\n  image: 000.png\n  title: Ethan's Concerned Expression\n  video: 000.mp4\n",[5087],{"type":29,"tag":408,"props":5088,"children":5089},{"__ignoreMap":8},[5090,5110,5118,5126,5134,5151,5168],{"type":29,"tag":422,"props":5091,"children":5092},{"class":506,"line":507},[5093,5097,5101,5105],{"type":29,"tag":422,"props":5094,"children":5095},{"style":517},[5096],{"type":35,"value":4669},{"type":29,"tag":422,"props":5098,"children":5099},{"style":511},[5100],{"type":35,"value":4313},{"type":29,"tag":422,"props":5102,"children":5103},{"style":517},[5104],{"type":35,"value":534},{"type":29,"tag":422,"props":5106,"children":5107},{"style":569},[5108],{"type":35,"value":5109},"A medium close-up shot of Ethan Jameson's face, with a concerned expression,\n",{"type":29,"tag":422,"props":5111,"children":5112},{"class":506,"line":523},[5113],{"type":29,"tag":422,"props":5114,"children":5115},{"style":569},[5116],{"type":35,"value":5117},"    as he reads the message from Natalie Jackson. The lighting is dim, with only a\n",{"type":29,"tag":422,"props":5119,"children":5120},{"class":506,"line":543},[5121],{"type":29,"tag":422,"props":5122,"children":5123},{"style":569},[5124],{"type":35,"value":5125},"    single lamp on his desk casting a warm glow. His eyes are narrowed, and his brow\n",{"type":29,"tag":422,"props":5127,"children":5128},{"class":506,"line":556},[5129],{"type":29,"tag":422,"props":5130,"children":5131},{"style":569},[5132],{"type":35,"value":5133},"    is furrowed in concentration. He is wearing a dark blue suit and a white shirt.\n",{"type":29,"tag":422,"props":5135,"children":5136},{"class":506,"line":575},[5137,5142,5146],{"type":29,"tag":422,"props":5138,"children":5139},{"style":511},[5140],{"type":35,"value":5141},"  image",{"type":29,"tag":422,"props":5143,"children":5144},{"style":517},[5145],{"type":35,"value":534},{"type":29,"tag":422,"props":5147,"children":5148},{"style":569},[5149],{"type":35,"value":5150},"000.png\n",{"type":29,"tag":422,"props":5152,"children":5153},{"class":506,"line":588},[5154,5159,5163],{"type":29,"tag":422,"props":5155,"children":5156},{"style":511},[5157],{"type":35,"value":5158},"  title",{"type":29,"tag":422,"props":5160,"children":5161},{"style":517},[5162],{"type":35,"value":534},{"type":29,"tag":422,"props":5164,"children":5165},{"style":569},[5166],{"type":35,"value":5167},"Ethan's Concerned Expression\n",{"type":29,"tag":422,"props":5169,"children":5170},{"class":506,"line":612},[5171,5176,5180],{"type":29,"tag":422,"props":5172,"children":5173},{"style":511},[5174],{"type":35,"value":5175},"  video",{"type":29,"tag":422,"props":5177,"children":5178},{"style":517},[5179],{"type":35,"value":534},{"type":29,"tag":422,"props":5181,"children":5182},{"style":569},[5183],{"type":35,"value":5184},"000.mp4\n",{"type":29,"tag":38,"props":5186,"children":5187},{},[5188],{"type":29,"tag":173,"props":5189,"children":5192},{"alt":5190,"src":5191},"A medium close-up shot of Ethan Jameson's face","/static/aoi/ethan.png",[],{"type":29,"tag":38,"props":5194,"children":5195},{},[5196],{"type":35,"value":5197},"With the perfectly prompted image in hand, we can use Stable Video Diffusion to bring it to life. I prompted phind to come up with a FastAPI service that would accept an image in a post request and return a short video created with stable video diffusion using the diffusers library.",{"type":29,"tag":38,"props":5199,"children":5200},{},[5201],{"type":35,"value":5202},"Stable video diffusion can generate about 4 seconds of text at 7 frames per second. This isn't great, but I was able to use ffmpeg to do frame interpolation bringing the frame rate to a much smoother 14 fps using motion compensated interpolation (MCI):",{"type":29,"tag":495,"props":5204,"children":5208},{"code":5205,"language":5206,"meta":8,"className":5207,"style":8},"ffmpeg -i output/1718453390/final.mp4 -crf 10 -vf \"minterpolate=fps=14:mi_mode=mci:mc_mode=aobmc:me_mode=bidir:vsbmc=1\" output/1718453390/final.14fps.mp4\n","bash","language-bash shiki shiki-themes github-light github-dark monokai",[5209],{"type":29,"tag":408,"props":5210,"children":5211},{"__ignoreMap":8},[5212],{"type":29,"tag":422,"props":5213,"children":5214},{"class":506,"line":507},[5215,5220,5225,5230,5235,5240,5245,5250],{"type":29,"tag":422,"props":5216,"children":5217},{"style":2041},[5218],{"type":35,"value":5219},"ffmpeg",{"type":29,"tag":422,"props":5221,"children":5222},{"style":537},[5223],{"type":35,"value":5224}," -i",{"type":29,"tag":422,"props":5226,"children":5227},{"style":569},[5228],{"type":35,"value":5229}," output/1718453390/final.mp4",{"type":29,"tag":422,"props":5231,"children":5232},{"style":537},[5233],{"type":35,"value":5234}," -crf",{"type":29,"tag":422,"props":5236,"children":5237},{"style":537},[5238],{"type":35,"value":5239}," 10",{"type":29,"tag":422,"props":5241,"children":5242},{"style":537},[5243],{"type":35,"value":5244}," -vf",{"type":29,"tag":422,"props":5246,"children":5247},{"style":569},[5248],{"type":35,"value":5249}," \"minterpolate=fps=14:mi_mode=mci:mc_mode=aobmc:me_mode=bidir:vsbmc=1\"",{"type":29,"tag":422,"props":5251,"children":5252},{"style":569},[5253],{"type":35,"value":5254}," output/1718453390/final.14fps.mp4\n",{"type":29,"tag":38,"props":5256,"children":5257},{},[5258,5260,5266,5268,5274],{"type":35,"value":5259},"Finally, the ",{"type":29,"tag":408,"props":5261,"children":5263},{"className":5262},[],[5264],{"type":35,"value":5265},"editor_agent",{"type":35,"value":5267}," uses ",{"type":29,"tag":408,"props":5269,"children":5271},{"className":5270},[],[5272],{"type":35,"value":5273},"moviepy",{"type":35,"value":5275}," to join the clips together into a single video.",{"type":29,"tag":52,"props":5277,"children":5279},{"id":5278},"development-environment",[5280],{"type":35,"value":5281},"Development environment",{"type":29,"tag":38,"props":5283,"children":5284},{},[5285,5287,5293,5295,5301],{"type":35,"value":5286},"I struggled to optimize the ",{"type":29,"tag":408,"props":5288,"children":5290},{"className":5289},[],[5291],{"type":35,"value":5292},"meta-llama/Meta-Llama-3-8B-Instruct",{"type":35,"value":5294}," with TensorRT-LLM, so I ran LLM inference on a combination of older Llama2 TensorRT-LLM models, and ",{"type":29,"tag":408,"props":5296,"children":5298},{"className":5297},[],[5299],{"type":35,"value":5300},"Meta-Llama-3-8B-Instruct",{"type":35,"value":5302}," on LM Studio (which I found to be painfully slow compared to TensorRT-LLM).",{"type":29,"tag":38,"props":5304,"children":5305},{},[5306,5308,5314,5316,5322,5324,5330,5332,5339,5341,5347],{"type":35,"value":5307},"If you provide an ",{"type":29,"tag":408,"props":5309,"children":5311},{"className":5310},[],[5312],{"type":35,"value":5313},"NVIDIA_API_KEY",{"type":35,"value":5315}," in the ",{"type":29,"tag":408,"props":5317,"children":5319},{"className":5318},[],[5320],{"type":35,"value":5321},".env",{"type":35,"value":5323}," file, LLM calls will be made using the ",{"type":29,"tag":408,"props":5325,"children":5327},{"className":5326},[],[5328],{"type":35,"value":5329},"meta/llam3-70b-instruct",{"type":35,"value":5331}," model on ",{"type":29,"tag":3640,"props":5333,"children":5336},{"href":5334,"rel":5335},"https://build.nvidia.com/meta/llama3-70b",[3644],[5337],{"type":35,"value":5338},"build.nvidia.com/meta/llama3-70b",{"type":35,"value":5340},". In fact, ",{"type":29,"tag":408,"props":5342,"children":5344},{"className":5343},[],[5345],{"type":35,"value":5346},"build.nvidia.com",{"type":35,"value":5348}," also provides stable diffusion and stable video diffusion inference via API. This would be very convenient in the event that my RTX PCs become compromised.",{"type":29,"tag":38,"props":5350,"children":5351},{},[5352],{"type":35,"value":5353},"My RTX 4090 GPU with 24 GB of memory was able to run lots of different inference servers concurrently (LLM, Stable Diffusion WebUI, ComfyUI, InvokeAI, Stable Video Diffusion FastAPI service), but I generally stuck to doing one type of inference at a time, otherwise things would grind to a hault or crash. I also experimented with ChatTTS, a new text-to-speech model.",{"type":29,"tag":38,"props":5355,"children":5356},{},[5357],{"type":35,"value":5358},"I developed this project on a MacBook Pro, and I used my RTX PC as if it were a remote service providing inference for text, images and video. This is a helpful mindset when working with hybrid AI workflows that leverage inference services both on local machines and in the cloud.",{"type":29,"tag":52,"props":5360,"children":5362},{"id":5361},"how-it-works",[5363],{"type":35,"value":5364},"How it works",{"type":29,"tag":38,"props":5366,"children":5367},{},[5368,5370,5376],{"type":35,"value":5369},"To run the program, you need to install python dependencies and then run an OpenAI compatible LLM and Stable Duffsion WebUI server with the ",{"type":29,"tag":408,"props":5371,"children":5373},{"className":5372},[],[5374],{"type":35,"value":5375},"--api",{"type":35,"value":5377}," flag. You also need to run the Stable Video Diffusion service. Apologies for any hardcoded local IP address in the source code. Deadlines, you know! With everything configured, you can run the following command:",{"type":29,"tag":495,"props":5379,"children":5381},{"code":5380},"~/git/github/agents-of-inference$ poetry run python agents_of_inference/main.py\n## 📀 Using local models 📀 ##\n## 🎭 Generating Cast 🎭 ##\n## 🗺️ Generating Locations 🗺️ ##\n## ✍️ Generating Synopsis ✍️ ##\n## going to synopsis_review_agent ##\n## 📑 Reviewing Synopsis 📑 ##\n## ✍️ Generating Synopsis ✍️ ##\n## going to synopsis_review_agent ##\n## 📑 Reviewing Synopsis 📑 ##\n## ✍️ Generating Synopsis ✍️ ##\n## going to scene_agent ##\n## 📒 Generating Scenes 📒 ##\n## 🎬 Generating Shots 🎬 ##\n## Generated 5 shots for scene 1/5 ##\n## Generated 5 shots for scene 2/5 ##\n## Generated 5 shots for scene 3/5 ##\n## Generated 5 shots for scene 4/5 ##\n## Generated 5 shots for scene 5/5 ##\n\n000/0025\nA medium shot of a bustling Tokyo street, with neon lights reflecting off wet pavement. Jim Thompson, dressed in a black leather jacket and dark jeans, walks purposefully through the crowd, his piercing blue eyes scanning the area. The sound design features the hum of traffic and chatter of pedestrians.\nGenerated image output/1718426686/images/000.png\n\n001/0025\nA tight close-up shot of Emily Chen's face, her piercing brown eyes intense as she briefs Jim on the situation. Her short black hair is styled neatly, and she wears a crisp white blouse with a silver necklace. The camera lingers on her lips as she speaks, emphasizing the importance of the information.\nGenerated image output/1718426686/images/001.png\n\nGenerated video output/1718426686/videos/000.mp4\n== stable video diffusion generation complete ==\nGenerated video output/1718426686/videos/001.mp4\n== stable video diffusion generation complete ==\n",[5382],{"type":29,"tag":408,"props":5383,"children":5384},{"__ignoreMap":8},[5385],{"type":35,"value":5380},{"type":29,"tag":52,"props":5387,"children":5389},{"id":5388},"demo-video-for-contest-submission",[5390],{"type":35,"value":5391},"Demo Video for Contest Submission",{"type":29,"tag":5393,"props":5394,"children":5395},"agents-of-inference-video",{},[],{"type":29,"tag":38,"props":5397,"children":5398},{},[5399],{"type":35,"value":5400},"Making this video was a lot of fun. The \"Agents of Inference\" highlight reel includes some of the most interesting, exciting and fun clips that I found in the dozens of short films it created. It is important to note that a lot of the content is not very good. Misunderstood prompts, color confusion (prompt includes green eyes, but other things in the scene are also conspicuously green), unrealistic or noisy motion from Stable Video Diffusion--these are some of the issues you will find in the films. Generating AI images sometimes feels like panning for gold: you go through a lot of sediment to get a few good flakes.",{"type":29,"tag":38,"props":5402,"children":5403},{},[5404],{"type":35,"value":5405},"Also, I added a few short animations that I made with Blender. The final scene shows the NVIDIA Omniverse orange humanoid from the barrel of a pistol. I think we are rapidly approaching a future where agents can generate full-scale theatrical movies by generating OpenUSD code, directly or indirectly. Maybe for the next NVIDIA Developer contest!",{"type":29,"tag":52,"props":5407,"children":5409},{"id":5408},"shortcomings-of-my-project",[5410],{"type":35,"value":5411},"Shortcomings of my project",{"type":29,"tag":38,"props":5413,"children":5414},{},[5415],{"type":35,"value":5416},"My goodness, how embarrasing. There are quite a few shortcomings that can be easily identified looking over the output and the source code. Here are a few:",{"type":29,"tag":104,"props":5418,"children":5420},{"id":5419},"character-variety",[5421],{"type":35,"value":5422},"Character variety",{"type":29,"tag":38,"props":5424,"children":5425},{},[5426],{"type":35,"value":5427},"When generating characters I would frequently see one named Dr. Sophia Patel who is apparently a brilliant cryptologist. Other characters would often have different names or backgrounds, but a saw Dr. Sophia Patel more often than not.",{"type":29,"tag":104,"props":5429,"children":5431},{"id":5430},"character-consistency",[5432],{"type":35,"value":5433},"Character consistency",{"type":29,"tag":38,"props":5435,"children":5436},{},[5437],{"type":35,"value":5438},"The characters are not consistent. This is a notoriously difficult problem to solve, but I made a lot of progress on it during this contest. I experimented with calling the ComfyUI API to run a custom workflow built with the ComfyUI graph-based workflow tool for face transfer:",{"type":29,"tag":38,"props":5440,"children":5441},{},[5442],{"type":29,"tag":173,"props":5443,"children":5446},{"alt":5444,"src":5445},"Dr. Sophia Patel","/static/aoi/sophia.png",[],{"type":29,"tag":38,"props":5448,"children":5449},{},[5450],{"type":35,"value":5451},"Using ComfyUI would be nice, but it wouldn't be as easy to tap into cloud APIs if my workflow heavily relied on ComfyUI server with custom models.",{"type":29,"tag":104,"props":5453,"children":5455},{"id":5454},"understanding-langchain",[5456],{"type":35,"value":5457},"Understanding LangChain",{"type":29,"tag":38,"props":5459,"children":5460},{},[5461,5463,5468],{"type":35,"value":5462},"I started out with the idea I would store all LLM calls to a local JSON to serve as a cache, allowing me to avoid regenerating responses from early in the workflow. This worked well, until I tried to serialize an Annotated list (required for cycles such as the one used with ",{"type":29,"tag":408,"props":5464,"children":5466},{"className":5465},[],[5467],{"type":35,"value":4952},{"type":35,"value":5469},"). I ended up wasting a lot of time trying to figure this out, and I came across some built-in LangChain features for storing state in memory and in Sqlite. I'm sure there are other areas where I used the wrong pattern, but I turned over a lot of stones and look forward to continuing development with LangChain.",{"type":29,"tag":52,"props":5471,"children":5472},{"id":3565},[5473],{"type":35,"value":5474},"What's next?",{"type":29,"tag":38,"props":5476,"children":5477},{},[5478],{"type":35,"value":5479},"Thank you to NVIDIA and LangChain for organizing this contest. It was a great way to explore a powerful toolset for automated content generation using AI agents.",{"type":29,"tag":38,"props":5481,"children":5482},{},[5483],{"type":35,"value":5484},"Video models like Dream Machine and Sora have made some big splashes on the internet and the results are remarkable. However, I'm still almost more interested in finding the limitations of quality content using open-source models on consumer hardware like RTX GPUs.",{"type":29,"tag":38,"props":5486,"children":5487},{},[5488],{"type":35,"value":5489},"I would also have loved to generate my own music for these films. I am a Suno poweruser and love the songs I have generated on that site. Will the gap between video and music generation on private, payed services and local machines? Or does it just need time to catch up? Hopefully a future installment of \"Agents of Inference\" will integrate music and voice, and can't wait to hear it!",{"type":29,"tag":3575,"props":5491,"children":5492},{},[5493],{"type":35,"value":3579},{"title":8,"searchDepth":523,"depth":523,"links":5495},[5496,5497,5498,5499,5500,5506,5507,5508,5509,5514],{"id":4051,"depth":523,"text":4054},{"id":3630,"depth":523,"text":3633},{"id":4095,"depth":523,"text":4098},{"id":4106,"depth":523,"text":4109},{"id":4117,"depth":523,"text":4120,"children":5501},[5502,5503,5504,5505],{"id":4184,"depth":543,"text":4187},{"id":4829,"depth":543,"text":4832},{"id":4984,"depth":543,"text":4987},{"id":5074,"depth":543,"text":5077},{"id":5278,"depth":523,"text":5281},{"id":5361,"depth":523,"text":5364},{"id":5388,"depth":523,"text":5391},{"id":5408,"depth":523,"text":5411,"children":5510},[5511,5512,5513],{"id":5419,"depth":543,"text":5422},{"id":5430,"depth":543,"text":5433},{"id":5454,"depth":543,"text":5457},{"id":3565,"depth":523,"text":5474},"content:2024:06:17:agents-of-inference-nvidia-and-langchain-generative-ai-agent-developer-contest.md","2024/06/17/agents-of-inference-nvidia-and-langchain-generative-ai-agent-developer-contest.md","2024/06/17/agents-of-inference-nvidia-and-langchain-generative-ai-agent-developer-contest",1748367299251]