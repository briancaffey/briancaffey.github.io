[{"data":1,"prerenderedAt":644},["ShallowReactive",2],{"/blog/tags/github-pages/":3},[4],{"_path":5,"_dir":6,"_draft":7,"_partial":7,"_locale":8,"title":9,"description":10,"date":11,"image":12,"tags":13,"body":18,"_type":638,"_id":639,"_source":640,"_file":641,"_stem":642,"_extension":643},"/2021/07/05/github-actions-for-my-nuxt-blog-hosted-on-github-pages","05",false,"","GitHub Action for my Nuxt.js blog hosted on GitHub Pages","This article shows how to use GitHub Actions to update my Nuxt.js blog hosted on GitHub Pages.","2021-07-05","/static/gha_nuxt/gha_nuxt.png",[14,15,16,17],"github","nuxt","github-actions","github-pages",{"type":19,"children":20,"toc":635},"root",[21,30,36,52,618,629],{"type":22,"tag":23,"props":24,"children":26},"element","h2",{"id":25},"github-actions-for-a-nuxtjs-blog-hosted-on-github-pages",[27],{"type":28,"value":29},"text","GitHub Actions for a Nuxt.js blog hosted on GitHub Pages",{"type":22,"tag":31,"props":32,"children":33},"p",{},[34],{"type":28,"value":35},"To update my blog, I usually build locally and then push changes to GitHub. This makes my git log unreadable. This article will show how to use a GitHub Action to automate the deployment of my blog to GitHub Pages.",{"type":22,"tag":31,"props":37,"children":38},{},[39,41,50],{"type":28,"value":40},"In this GitHub repo, the following workflow is triggered on pushes to the main branch which will build and deploy changes to ",{"type":22,"tag":42,"props":43,"children":47},"a",{"href":44,"rel":45},"https://briancaffey.github.io",[46],"nofollow",[48],{"type":28,"value":49},"briancaffey.github.io",{"type":28,"value":51},":",{"type":22,"tag":53,"props":54,"children":58},"pre",{"className":55,"code":56,"language":57,"meta":8,"style":8},"language-yaml shiki shiki-themes github-light github-dark monokai","name: github pages\n\non:\n  push:\n    branches:\n      - master\n  pull_request:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v2\n\n      - name: Setup Node\n        uses: actions/setup-node@v2\n        with:\n          node-version: \"14\"\n\n      - name: Cache dependencies\n        uses: actions/cache@v2\n        with:\n          path: ~/.npm\n          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n          restore-keys: |\n            ${{ runner.os }}-node-\n\n      - run: yarn\n      - run: yarn lint\n      - run: yarn generate\n\n      - name: deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./docs\n","yaml",[59],{"type":22,"tag":60,"props":61,"children":62},"code",{"__ignoreMap":8},[63,87,97,112,125,138,152,165,173,186,199,217,230,252,260,281,299,312,330,338,359,376,388,406,424,443,452,460,482,503,524,532,553,570,582,600],{"type":22,"tag":64,"props":65,"children":68},"span",{"class":66,"line":67},"line",1,[69,75,81],{"type":22,"tag":64,"props":70,"children":72},{"style":71},"--shiki-default:#22863A;--shiki-dark:#85E89D;--shiki-sepia:#F92672",[73],{"type":28,"value":74},"name",{"type":22,"tag":64,"props":76,"children":78},{"style":77},"--shiki-default:#24292E;--shiki-dark:#E1E4E8;--shiki-sepia:#F8F8F2",[79],{"type":28,"value":80},": ",{"type":22,"tag":64,"props":82,"children":84},{"style":83},"--shiki-default:#032F62;--shiki-dark:#9ECBFF;--shiki-sepia:#E6DB74",[85],{"type":28,"value":86},"github pages\n",{"type":22,"tag":64,"props":88,"children":90},{"class":66,"line":89},2,[91],{"type":22,"tag":64,"props":92,"children":94},{"emptyLinePlaceholder":93},true,[95],{"type":28,"value":96},"\n",{"type":22,"tag":64,"props":98,"children":100},{"class":66,"line":99},3,[101,107],{"type":22,"tag":64,"props":102,"children":104},{"style":103},"--shiki-default:#005CC5;--shiki-dark:#79B8FF;--shiki-sepia:#AE81FF",[105],{"type":28,"value":106},"on",{"type":22,"tag":64,"props":108,"children":109},{"style":77},[110],{"type":28,"value":111},":\n",{"type":22,"tag":64,"props":113,"children":115},{"class":66,"line":114},4,[116,121],{"type":22,"tag":64,"props":117,"children":118},{"style":71},[119],{"type":28,"value":120},"  push",{"type":22,"tag":64,"props":122,"children":123},{"style":77},[124],{"type":28,"value":111},{"type":22,"tag":64,"props":126,"children":128},{"class":66,"line":127},5,[129,134],{"type":22,"tag":64,"props":130,"children":131},{"style":71},[132],{"type":28,"value":133},"    branches",{"type":22,"tag":64,"props":135,"children":136},{"style":77},[137],{"type":28,"value":111},{"type":22,"tag":64,"props":139,"children":141},{"class":66,"line":140},6,[142,147],{"type":22,"tag":64,"props":143,"children":144},{"style":77},[145],{"type":28,"value":146},"      - ",{"type":22,"tag":64,"props":148,"children":149},{"style":83},[150],{"type":28,"value":151},"master\n",{"type":22,"tag":64,"props":153,"children":155},{"class":66,"line":154},7,[156,161],{"type":22,"tag":64,"props":157,"children":158},{"style":71},[159],{"type":28,"value":160},"  pull_request",{"type":22,"tag":64,"props":162,"children":163},{"style":77},[164],{"type":28,"value":111},{"type":22,"tag":64,"props":166,"children":168},{"class":66,"line":167},8,[169],{"type":22,"tag":64,"props":170,"children":171},{"emptyLinePlaceholder":93},[172],{"type":28,"value":96},{"type":22,"tag":64,"props":174,"children":176},{"class":66,"line":175},9,[177,182],{"type":22,"tag":64,"props":178,"children":179},{"style":71},[180],{"type":28,"value":181},"jobs",{"type":22,"tag":64,"props":183,"children":184},{"style":77},[185],{"type":28,"value":111},{"type":22,"tag":64,"props":187,"children":189},{"class":66,"line":188},10,[190,195],{"type":22,"tag":64,"props":191,"children":192},{"style":71},[193],{"type":28,"value":194},"  deploy",{"type":22,"tag":64,"props":196,"children":197},{"style":77},[198],{"type":28,"value":111},{"type":22,"tag":64,"props":200,"children":202},{"class":66,"line":201},11,[203,208,212],{"type":22,"tag":64,"props":204,"children":205},{"style":71},[206],{"type":28,"value":207},"    runs-on",{"type":22,"tag":64,"props":209,"children":210},{"style":77},[211],{"type":28,"value":80},{"type":22,"tag":64,"props":213,"children":214},{"style":83},[215],{"type":28,"value":216},"ubuntu-latest\n",{"type":22,"tag":64,"props":218,"children":220},{"class":66,"line":219},12,[221,226],{"type":22,"tag":64,"props":222,"children":223},{"style":71},[224],{"type":28,"value":225},"    steps",{"type":22,"tag":64,"props":227,"children":228},{"style":77},[229],{"type":28,"value":111},{"type":22,"tag":64,"props":231,"children":233},{"class":66,"line":232},13,[234,238,243,247],{"type":22,"tag":64,"props":235,"children":236},{"style":77},[237],{"type":28,"value":146},{"type":22,"tag":64,"props":239,"children":240},{"style":71},[241],{"type":28,"value":242},"uses",{"type":22,"tag":64,"props":244,"children":245},{"style":77},[246],{"type":28,"value":80},{"type":22,"tag":64,"props":248,"children":249},{"style":83},[250],{"type":28,"value":251},"actions/checkout@v2\n",{"type":22,"tag":64,"props":253,"children":255},{"class":66,"line":254},14,[256],{"type":22,"tag":64,"props":257,"children":258},{"emptyLinePlaceholder":93},[259],{"type":28,"value":96},{"type":22,"tag":64,"props":261,"children":263},{"class":66,"line":262},15,[264,268,272,276],{"type":22,"tag":64,"props":265,"children":266},{"style":77},[267],{"type":28,"value":146},{"type":22,"tag":64,"props":269,"children":270},{"style":71},[271],{"type":28,"value":74},{"type":22,"tag":64,"props":273,"children":274},{"style":77},[275],{"type":28,"value":80},{"type":22,"tag":64,"props":277,"children":278},{"style":83},[279],{"type":28,"value":280},"Setup Node\n",{"type":22,"tag":64,"props":282,"children":284},{"class":66,"line":283},16,[285,290,294],{"type":22,"tag":64,"props":286,"children":287},{"style":71},[288],{"type":28,"value":289},"        uses",{"type":22,"tag":64,"props":291,"children":292},{"style":77},[293],{"type":28,"value":80},{"type":22,"tag":64,"props":295,"children":296},{"style":83},[297],{"type":28,"value":298},"actions/setup-node@v2\n",{"type":22,"tag":64,"props":300,"children":302},{"class":66,"line":301},17,[303,308],{"type":22,"tag":64,"props":304,"children":305},{"style":71},[306],{"type":28,"value":307},"        with",{"type":22,"tag":64,"props":309,"children":310},{"style":77},[311],{"type":28,"value":111},{"type":22,"tag":64,"props":313,"children":315},{"class":66,"line":314},18,[316,321,325],{"type":22,"tag":64,"props":317,"children":318},{"style":71},[319],{"type":28,"value":320},"          node-version",{"type":22,"tag":64,"props":322,"children":323},{"style":77},[324],{"type":28,"value":80},{"type":22,"tag":64,"props":326,"children":327},{"style":83},[328],{"type":28,"value":329},"\"14\"\n",{"type":22,"tag":64,"props":331,"children":333},{"class":66,"line":332},19,[334],{"type":22,"tag":64,"props":335,"children":336},{"emptyLinePlaceholder":93},[337],{"type":28,"value":96},{"type":22,"tag":64,"props":339,"children":341},{"class":66,"line":340},20,[342,346,350,354],{"type":22,"tag":64,"props":343,"children":344},{"style":77},[345],{"type":28,"value":146},{"type":22,"tag":64,"props":347,"children":348},{"style":71},[349],{"type":28,"value":74},{"type":22,"tag":64,"props":351,"children":352},{"style":77},[353],{"type":28,"value":80},{"type":22,"tag":64,"props":355,"children":356},{"style":83},[357],{"type":28,"value":358},"Cache dependencies\n",{"type":22,"tag":64,"props":360,"children":362},{"class":66,"line":361},21,[363,367,371],{"type":22,"tag":64,"props":364,"children":365},{"style":71},[366],{"type":28,"value":289},{"type":22,"tag":64,"props":368,"children":369},{"style":77},[370],{"type":28,"value":80},{"type":22,"tag":64,"props":372,"children":373},{"style":83},[374],{"type":28,"value":375},"actions/cache@v2\n",{"type":22,"tag":64,"props":377,"children":379},{"class":66,"line":378},22,[380,384],{"type":22,"tag":64,"props":381,"children":382},{"style":71},[383],{"type":28,"value":307},{"type":22,"tag":64,"props":385,"children":386},{"style":77},[387],{"type":28,"value":111},{"type":22,"tag":64,"props":389,"children":391},{"class":66,"line":390},23,[392,397,401],{"type":22,"tag":64,"props":393,"children":394},{"style":71},[395],{"type":28,"value":396},"          path",{"type":22,"tag":64,"props":398,"children":399},{"style":77},[400],{"type":28,"value":80},{"type":22,"tag":64,"props":402,"children":403},{"style":83},[404],{"type":28,"value":405},"~/.npm\n",{"type":22,"tag":64,"props":407,"children":409},{"class":66,"line":408},24,[410,415,419],{"type":22,"tag":64,"props":411,"children":412},{"style":71},[413],{"type":28,"value":414},"          key",{"type":22,"tag":64,"props":416,"children":417},{"style":77},[418],{"type":28,"value":80},{"type":22,"tag":64,"props":420,"children":421},{"style":83},[422],{"type":28,"value":423},"${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n",{"type":22,"tag":64,"props":425,"children":427},{"class":66,"line":426},25,[428,433,437],{"type":22,"tag":64,"props":429,"children":430},{"style":71},[431],{"type":28,"value":432},"          restore-keys",{"type":22,"tag":64,"props":434,"children":435},{"style":77},[436],{"type":28,"value":80},{"type":22,"tag":64,"props":438,"children":440},{"style":439},"--shiki-default:#D73A49;--shiki-dark:#F97583;--shiki-sepia:#F92672",[441],{"type":28,"value":442},"|\n",{"type":22,"tag":64,"props":444,"children":446},{"class":66,"line":445},26,[447],{"type":22,"tag":64,"props":448,"children":449},{"style":83},[450],{"type":28,"value":451},"            ${{ runner.os }}-node-\n",{"type":22,"tag":64,"props":453,"children":455},{"class":66,"line":454},27,[456],{"type":22,"tag":64,"props":457,"children":458},{"emptyLinePlaceholder":93},[459],{"type":28,"value":96},{"type":22,"tag":64,"props":461,"children":463},{"class":66,"line":462},28,[464,468,473,477],{"type":22,"tag":64,"props":465,"children":466},{"style":77},[467],{"type":28,"value":146},{"type":22,"tag":64,"props":469,"children":470},{"style":71},[471],{"type":28,"value":472},"run",{"type":22,"tag":64,"props":474,"children":475},{"style":77},[476],{"type":28,"value":80},{"type":22,"tag":64,"props":478,"children":479},{"style":83},[480],{"type":28,"value":481},"yarn\n",{"type":22,"tag":64,"props":483,"children":485},{"class":66,"line":484},29,[486,490,494,498],{"type":22,"tag":64,"props":487,"children":488},{"style":77},[489],{"type":28,"value":146},{"type":22,"tag":64,"props":491,"children":492},{"style":71},[493],{"type":28,"value":472},{"type":22,"tag":64,"props":495,"children":496},{"style":77},[497],{"type":28,"value":80},{"type":22,"tag":64,"props":499,"children":500},{"style":83},[501],{"type":28,"value":502},"yarn lint\n",{"type":22,"tag":64,"props":504,"children":506},{"class":66,"line":505},30,[507,511,515,519],{"type":22,"tag":64,"props":508,"children":509},{"style":77},[510],{"type":28,"value":146},{"type":22,"tag":64,"props":512,"children":513},{"style":71},[514],{"type":28,"value":472},{"type":22,"tag":64,"props":516,"children":517},{"style":77},[518],{"type":28,"value":80},{"type":22,"tag":64,"props":520,"children":521},{"style":83},[522],{"type":28,"value":523},"yarn generate\n",{"type":22,"tag":64,"props":525,"children":527},{"class":66,"line":526},31,[528],{"type":22,"tag":64,"props":529,"children":530},{"emptyLinePlaceholder":93},[531],{"type":28,"value":96},{"type":22,"tag":64,"props":533,"children":535},{"class":66,"line":534},32,[536,540,544,548],{"type":22,"tag":64,"props":537,"children":538},{"style":77},[539],{"type":28,"value":146},{"type":22,"tag":64,"props":541,"children":542},{"style":71},[543],{"type":28,"value":74},{"type":22,"tag":64,"props":545,"children":546},{"style":77},[547],{"type":28,"value":80},{"type":22,"tag":64,"props":549,"children":550},{"style":83},[551],{"type":28,"value":552},"deploy\n",{"type":22,"tag":64,"props":554,"children":556},{"class":66,"line":555},33,[557,561,565],{"type":22,"tag":64,"props":558,"children":559},{"style":71},[560],{"type":28,"value":289},{"type":22,"tag":64,"props":562,"children":563},{"style":77},[564],{"type":28,"value":80},{"type":22,"tag":64,"props":566,"children":567},{"style":83},[568],{"type":28,"value":569},"peaceiris/actions-gh-pages@v3\n",{"type":22,"tag":64,"props":571,"children":573},{"class":66,"line":572},34,[574,578],{"type":22,"tag":64,"props":575,"children":576},{"style":71},[577],{"type":28,"value":307},{"type":22,"tag":64,"props":579,"children":580},{"style":77},[581],{"type":28,"value":111},{"type":22,"tag":64,"props":583,"children":585},{"class":66,"line":584},35,[586,591,595],{"type":22,"tag":64,"props":587,"children":588},{"style":71},[589],{"type":28,"value":590},"          github_token",{"type":22,"tag":64,"props":592,"children":593},{"style":77},[594],{"type":28,"value":80},{"type":22,"tag":64,"props":596,"children":597},{"style":83},[598],{"type":28,"value":599},"${{ secrets.GITHUB_TOKEN }}\n",{"type":22,"tag":64,"props":601,"children":603},{"class":66,"line":602},36,[604,609,613],{"type":22,"tag":64,"props":605,"children":606},{"style":71},[607],{"type":28,"value":608},"          publish_dir",{"type":22,"tag":64,"props":610,"children":611},{"style":77},[612],{"type":28,"value":80},{"type":22,"tag":64,"props":614,"children":615},{"style":83},[616],{"type":28,"value":617},"./docs\n",{"type":22,"tag":31,"props":619,"children":620},{},[621,623],{"type":28,"value":622},"Reference: ",{"type":22,"tag":42,"props":624,"children":627},{"href":625,"rel":626},"https://github.com/marketplace/actions/github-pages-action#%EF%B8%8F-vue-and-nuxt",[46],[628],{"type":28,"value":625},{"type":22,"tag":630,"props":631,"children":632},"style",{},[633],{"type":28,"value":634},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html .sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}html.sepia .shiki span {color: var(--shiki-sepia);background: var(--shiki-sepia-bg);font-style: var(--shiki-sepia-font-style);font-weight: var(--shiki-sepia-font-weight);text-decoration: var(--shiki-sepia-text-decoration);}",{"title":8,"searchDepth":89,"depth":89,"links":636},[637],{"id":25,"depth":89,"text":29},"markdown","content:2021:07:05:github-actions-for-my-nuxt-blog-hosted-on-github-pages.md","content","2021/07/05/github-actions-for-my-nuxt-blog-hosted-on-github-pages.md","2021/07/05/github-actions-for-my-nuxt-blog-hosted-on-github-pages","md",1723337558752]