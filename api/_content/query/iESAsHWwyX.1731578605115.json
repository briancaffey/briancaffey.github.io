[{"_path":"/2021/08/07/authenticating-requests-with-jwt-tokens-stored-in-httponly-cookies-in-django","_dir":"07","_draft":false,"_partial":false,"_locale":"","title":"Authenticating requests with JWT tokens stored in HTTPOnly cookies in Django","description":"This article describes how you can use JWT tokens in Django applications with decoupled frontend JavaScript applications running the browser in secure way using HttpOnly cookies.","date":"2021-08-01","image":"/static/djjwt/dj_jwt.png","tags":["django","vue","jwt","authentication"],"body":{"type":"root","children":[{"type":"element","tag":"h2","props":{"id":"tldr"},"children":[{"type":"text","value":"tl;dr"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you want to use JWTs to securely authenticate requests to Django REST Framework applications in a decoupled frontend JavaScript application, you can do the following: store the access token in memory and store the refresh token  in an HttpOnly cookie. The refresh token is used to request new access tokens on an regular interval."}]},{"type":"element","tag":"h2","props":{"id":"some-context"},"children":[{"type":"text","value":"Some context"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Django is a web framework based on the Model, Template, View (MTV) paradigm. Django is increasingly used as an API server that is coupled with a Javascript or native frontend application."}]},{"type":"element","tag":"h2","props":{"id":"jwt-auth-with-httponly-cookies"},"children":[{"type":"text","value":"JWT Auth with HttpOnly Cookies"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Following this guide:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://hasura.io/blog/best-practices-of-using-jwt-with-graphql/#jwt_security","rel":["nofollow"]},"children":[{"type":"text","value":"https://hasura.io/blog/best-practices-of-using-jwt-with-graphql/#jwt_security"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can reimplement our JWT authentication setup to be more secure."}]},{"type":"element","tag":"h3","props":{"id":"drf-simple-jwt-modifications"},"children":[{"type":"text","value":"DRF Simple JWT modifications"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We need to change the default behavior of the views from DRF simple JWT as described in this issue:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://github.com/jazzband/djangorestframework-simplejwt/issues/71","rel":["nofollow"]},"children":[{"type":"text","value":"https://github.com/jazzband/djangorestframework-simplejwt/issues/71"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"png","src":"/static/jwt-authentication.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This diagram shows how authentication data moves between the Django backend and the Vue.js frontend running in the browser."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"This article should now be complete complete"}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"tldr","depth":2,"text":"tl;dr"},{"id":"some-context","depth":2,"text":"Some context"},{"id":"jwt-auth-with-httponly-cookies","depth":2,"text":"JWT Auth with HttpOnly Cookies","children":[{"id":"drf-simple-jwt-modifications","depth":3,"text":"DRF Simple JWT modifications"}]}]}},"_type":"markdown","_id":"content:2021:08:07:authenticating-requests-with-jwt-tokens-stored-in-httponly-cookies-in-django.md","_source":"content","_file":"2021/08/07/authenticating-requests-with-jwt-tokens-stored-in-httponly-cookies-in-django.md","_stem":"2021/08/07/authenticating-requests-with-jwt-tokens-stored-in-httponly-cookies-in-django","_extension":"md"}]