[{"_path":"/2017/10/17/moving-from-gnome-to-i3-on-arch-linux","_dir":"17","_draft":false,"_partial":false,"_locale":"","title":"Moving from Gnome Desktop to i3 window manager on Arch Linux","description":"","layout":"post","date":"2017-10-17T00:00:00.000Z","comments":true,"image":"/static/gnome-i3.png","tags":["arch-linux","i3","gnome"],"body":{"type":"root","children":[{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"img","props":{"alt":"png","src":"/static/gnome.png"},"children":[]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I recently tried out "},{"type":"element","tag":"a","props":{"href":"http://i3wm.org","rel":["nofollow"]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":" on my laptop and I'm really liking it so far. I am going to try to recreate the same i3 configuration on my desktop installation of Arch Linux. I'll try to faithfully cover each step of the process in this article."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"i3 sounded like a nice idea at first, but there were a lot of aspects of my Gnome desktop that I didn't think I could do without. I'm still new to i3, but I have found it very interesting to see how everything can be configured. If you are thinking about switching to i3, hopefully this can help you out."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's a list of everything I want to go through:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Installing i3"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Basic commands"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Workflow"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Setting a background with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"feh"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"The i3 config file"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Setting uxrvt as a default terminal"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Customizing uxrvt"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Customizing workspaces"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Setting up blocks with i3blocks"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Custom lock screen with animation"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"i3-gaps"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Start out by installing "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":" with pacman as follows"}]},{"type":"element","tag":"pre","props":{"code":"[brian@archthinkpad ~]$ sudo pacman -S i3\n[sudo] password for brian:\n:: There are 4 members in group i3:\n:: Repository community\n   1) i3-wm  2) i3blocks  3) i3lock  4) i3status\n\nEnter a selection (default=all):\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[brian@archthinkpad ~]$ sudo pacman -S i3\n[sudo] password for brian:\n:: There are 4 members in group i3:\n:: Repository community\n   1) i3-wm  2) i3blocks  3) i3lock  4) i3status\n\nEnter a selection (default=all):\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You won't find "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":" with a regular search in the AUR because it is a package group, containing a number of packages that will help us do things with i3."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you have installed "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":", logout of your current Gnome session, and then go back to login and select "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":" from the login menu."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will be greated with a black screen and a dialogue box that says "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3: first confuguration"}]},{"type":"text","value":". I recommend that you press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Enter"}]},{"type":"text","value":" and have i3 generate a config file for you as it says in the prompt."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next, choose either "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Win"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Alt"}]},{"type":"text","value":" as the key that will help you launch most commands in i3. I use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Alt"}]},{"type":"text","value":", but it won't make a difference in this tutorial since we will be refering to whichever key you select as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mod1"}]},{"type":"text","value":" from here on out."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you make this selection, the prompt will go away and you are met with a black screen and and a status bar on the bottom, as well as workspace indicator on the bottom left. Welcome to i3!"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At this point, you should have a read through the very well-written i3 User Guide linked "},{"type":"element","tag":"a","props":{"href":"https://i3wm.org/docs/userguide.html","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":". Learn how to move windows around, close windows and stack windows."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here's the one command you really need to get going:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mod1+Enter"}]},{"type":"text","value":": open a new terminal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You probably want to change this terminal right away. There's a handy little program launcher that we can use for now called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dmenu"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"[brian@archthinkpad ~]$ sudo pacman -Ss dmenu\n[sudo] password for brian:\ncommunity/dmenu 4.7-1 [installed]\n    A generic menu for X\ncommunity/pdmenu 1.3.2-2\n    simple full screen menu program\n[brian@archthinkpad ~]$\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[brian@archthinkpad ~]$ sudo pacman -Ss dmenu\n[sudo] password for brian:\ncommunity/dmenu 4.7-1 [installed]\n    A generic menu for X\ncommunity/pdmenu 1.3.2-2\n    simple full screen menu program\n[brian@archthinkpad ~]$\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Once you install "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dmenu"}]},{"type":"text","value":", you can easily launch programs with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mod1+d"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"In a minute we will customize dmenu to look better, but for now we need to get into the meat of i3: customization."}]},{"type":"element","tag":"h2","props":{"id":"customization"},"children":[{"type":"text","value":"Customization"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Most of the work you do in customizing i3 involves editing "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":"'s config file. To change the configuration of i3, copy "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"/etc/i3/config"}]},{"type":"text","value":" to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":" with:"}]},{"type":"element","tag":"pre","props":{"code":"cp /etc/i3/config ~/.i3/config\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"cp /etc/i3/config ~/.i3/config\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"At this point I will reference my \"Dotfiles\" on github. Dotfiles is used to refer to hidden configuration folders and files prepended with a \".\", such as "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":" or "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.Xresources"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"A public repo with my dotfiles is available "},{"type":"element","tag":"a","props":{"href":"https://github.com/briancaffey/.i3","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's start by adding a background image. Find an image you like and add it to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/Pictures"}]},{"type":"text","value":". Then install "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"feh"}]},{"type":"text","value":" from the AUR if you don't alread have it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"feh"}]},{"type":"text","value":" will let us set a background image from the command line, and we can do so each time we launch "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3"}]},{"type":"text","value":" by adding the following line to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"exec_always feh --bg-scale ~/Pictures/image.jpg\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"exec_always feh --bg-scale ~/Pictures/image.jpg\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now we can run the following command to restart i3 in place (without having to logout):"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mod1"}]},{"type":"text","value":"+"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"shift"}]},{"type":"text","value":"+"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"r"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You will see this shortcut in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":" in the following line:"}]},{"type":"element","tag":"pre","props":{"code":"bindsym Mod1+Shift+r restart\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"bindsym Mod1+Shift+r restart\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This binds "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mod1"}]},{"type":"text","value":"+"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"shift"}]},{"type":"text","value":"+"},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"r"}]},{"type":"text","value":" to instructions that restart i3."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"If you write "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bindsym Some+key+combo exec reboot"}]},{"type":"text","value":", your system will reboot when you press "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Some+key+combo"}]},{"type":"text","value":". You can call any command this way, allowing for a high level of customization. It is helpful to see what others have done by browsing "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".dotfiles"}]},{"type":"text","value":" online. You can mix and match commands to your liking. If you make an error, i3 will warn you when you start or restart i3."}]},{"type":"element","tag":"h2","props":{"id":"customizing-the-terminal-urxvt"},"children":[{"type":"text","value":"Customizing the Terminal (urxvt)"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next let's take care of our terminal. You will notice that the command to launch a new terminal actually launches another program called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3-sensible-terminal"}]},{"type":"text","value":". Run "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"man i3-sensible-terminal"}]},{"type":"text","value":" to see how this works in detail. It basically picks a terminal program for you based on what you have installed on your system."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For my terminal, I use a program called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]},{"type":"text","value":". This is a popular terminal program in the i3 community because of the fact that it is highly customizable. There are a lot of options for terminals, so feel free to use whatever you like. I will go into depth here about how I customize "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, install it with:"}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -S rxvt-unicode\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -S rxvt-unicode\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"And then launch it with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"It probably looks equally bad to whatever default you were using, but we are about to fix it up so it looks and works great."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, have a look at the "},{"type":"element","tag":"a","props":{"href":"https://wiki.archlinux.org/index.php/rxvt-unicode","rel":["nofollow"]},"children":[{"type":"text","value":"Arch Wikie article on rxvt-unicode"}]},{"type":"text","value":"."}]},{"type":"element","tag":"h3","props":{"id":"xresources"},"children":[{"type":"text","value":"~/.Xresources"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Just like how the behavior of i3 is read from "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":", the behavior of "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]},{"type":"text","value":" is read from a file in your home directory called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.Xresources"}]},{"type":"text","value":". This file won't be here, so we need to create it."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"For simplicity, I recommend that you copy the contents of "},{"type":"element","tag":"a","props":{"href":"https://raw.githubusercontent.com/briancaffey/.i3/master/.Xresources","rel":["nofollow"]},"children":[{"type":"text","value":"this link"}]},{"type":"text","value":" into you newly created "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.Xresources"}]},{"type":"text","value":" file and then run the following command to refresh the settings for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"xrdb ~/.Xresources\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"xrdb ~/.Xresources\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now restart "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]},{"type":"text","value":" and you should see that it looks very different."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Look over the arch wiki article mentioned above for more information on how to customize urxvt."}]},{"type":"element","tag":"h2","props":{"id":"pywal"},"children":[{"type":"text","value":"pywal"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next lets work on terminal colors. There is a great program called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"pywal"}]},{"type":"text","value":" which reads one or several image file and then applies a color scheme to your system based on the colors found."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install it from the AUR:"}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -S python-pywal\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -S python-pywal\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now we just need to add the following line to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.bashrc"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"# pywal\nsetsid wal -i ~/Pictures/image.jpg\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# pywal\nsetsid wal -i ~/Pictures/image.jpg\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Run "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"source ~/.bashrc"}]},{"type":"text","value":" and reopen "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"urxvt"}]},{"type":"text","value":" and it should have new color scheme that goes well with you background image. You can install another program called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"neofetch"}]},{"type":"text","value":" to print out the current colorscheme along with system information:"}]},{"type":"element","tag":"pre","props":{"code":"yaourt -S neofetch\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yaourt -S neofetch\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You can add the following line to the bottom of your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.bashrc"}]},{"type":"text","value":" file and have neofetch run whenever you open a new terminal:"}]},{"type":"element","tag":"pre","props":{"code":"setsid wal -r\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"setsid wal -r\n"}]}]},{"type":"element","tag":"pre","props":{"code":"neofetch\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"neofetch\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are a few other customizations I have in my "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":" file:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Remove window boarders:"}]},{"type":"element","tag":"pre","props":{"code":"for_window [class=\"^.*\"] border pixel 0\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"for_window [class=\"^.*\"] border pixel 0\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Enable smooth transitions with compton:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"compton"}]},{"type":"text","value":" is a package that enables for nice transitions when navigating i3. First, install the compton package:"}]},{"type":"element","tag":"pre","props":{"code":"yaourt -S compton\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yaourt -S compton\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next we need to add the following line to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"exec compton -f\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"exec compton -f\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"You might need to reboot to see how the effect that compton has."}]},{"type":"element","tag":"h2","props":{"id":"i3-gaps"},"children":[{"type":"text","value":"i3-gaps"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We can now add a neat feature to our i3 setup by installing a popular fork of i3 callde "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3-gaps"}]},{"type":"text","value":". It adds some additional functionality to i3, including the ability to add gaps in between our windows."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3-gaps"}]},{"type":"text","value":" from the AUR:"}]},{"type":"element","tag":"pre","props":{"code":"yaourt -S i3-gaps\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yaourt -S i3-gaps\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Remove the packages in conflict and then add the following lines to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":":"}]},{"type":"element","tag":"pre","props":{"code":"# i3-gaps\ngaps inner 10\ngaps outer 0\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"# i3-gaps\ngaps inner 10\ngaps outer 0\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Refresh i3 and you should now see gaps in between your windows."}]},{"type":"element","tag":"h2","props":{"id":"the-bar"},"children":[{"type":"text","value":"The Bar"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Things should be looking pretty good, but we still need to do some work on the bar at the bottom of the screen."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Let's install FontAwesome so we can use some nice icons in our bar:"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Find the most recent release of FontAwesome "},{"type":"element","tag":"a","props":{"href":"https://github.com/FortAwesome/Font-Awesome/releases","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":", click on the zip download link and then run:"}]},{"type":"element","tag":"pre","props":{"code":"unzip ~/Downloads/Font-Awesome-4.7.0\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"unzip ~/Downloads/Font-Awesome-4.7.0\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"The release number may be different for you. Once you have unzipped the file, we want to move all of the files ending with "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":".ttf"}]},{"type":"text","value":" to a folder that may or may not exist on your machine."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, run:"}]},{"type":"element","tag":"pre","props":{"code":"mkdir ~/.fonts\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"mkdir ~/.fonts\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"and then run:"}]},{"type":"element","tag":"pre","props":{"code":"cp ~/Downloads/Font-Awesome-4.7.0/fonts/*.ttf ~/.fonts\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"cp ~/Downloads/Font-Awesome-4.7.0/fonts/*.ttf ~/.fonts\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Now that you have these fonts installed, go over to "},{"type":"element","tag":"a","props":{"href":"http://fontawesome.io/cheatsheet/","rel":["nofollow"]},"children":[{"type":"text","value":"http://fontawesome.io/cheatsheet/"}]},{"type":"text","value":" and you should see lots of icons that you might not have been able to see before."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We will come back to the fonts in just a minute. First let's change the bar by replacing "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"bar {...}"}]},{"type":"text","value":" with the following:"}]},{"type":"element","tag":"pre","props":{"code":"bar {\n    position top\n        status_command i3blocks -c /home/brian/.i3/i3blocks.conf\n    colors {\n        background $bg-color\n            separator #757575\n        #                  border             background         text\n        focused_workspace  $bg-color          $bg-color          $text-color\n        inactive_workspace $inactive-bg-color $inactive-bg-color $inactive-text-color\n        urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color\n    }\n}\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"bar {\n    position top\n        status_command i3blocks -c /home/brian/.i3/i3blocks.conf\n    colors {\n        background $bg-color\n            separator #757575\n        #                  border             background         text\n        focused_workspace  $bg-color          $bg-color          $text-color\n        inactive_workspace $inactive-bg-color $inactive-bg-color $inactive-text-color\n        urgent_workspace   $urgent-bg-color   $urgent-bg-color   $text-color\n    }\n}\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Don't refresh i3 just yet. Let's go through this block first."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We tell i3 that our bar will appear at the top of the screen, and that the contents of the bar come from the command: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"status_command i3blocks -c /home/brian/.i3/i3blocks.conf"}]},{"type":"text","value":". Finally, we define some background colors."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"First, pull in the colors from my dotfiles before the bar block:"}]},{"type":"element","tag":"pre","props":{"code":"set $bg-color            #2f343f\nset $inactive-bg-color   #2f343f\nset $text-color          #f3f4f5\nset $inactive-text-color #676E7D\nset $urgent-bg-color     #E53935\n\n# window colors\n#                       border              background         text                 indicator\nclient.focused          $bg-color           $bg-color          $text-color          #00ff00\nclient.unfocused        $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00\nclient.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00\nclient.urgent           $urgent-bg-color    $urgent-bg-color   $text-color          #00ff00\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"set $bg-color            #2f343f\nset $inactive-bg-color   #2f343f\nset $text-color          #f3f4f5\nset $inactive-text-color #676E7D\nset $urgent-bg-color     #E53935\n\n# window colors\n#                       border              background         text                 indicator\nclient.focused          $bg-color           $bg-color          $text-color          #00ff00\nclient.unfocused        $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00\nclient.focused_inactive $inactive-bg-color $inactive-bg-color $inactive-text-color #00ff00\nclient.urgent           $urgent-bg-color    $urgent-bg-color   $text-color          #00ff00\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next let's take care of the i3blocks command. The "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3blocks"}]},{"type":"text","value":" package was installed when we instaled i3, so we just need to provide an absolute path to a file as the argument for this command, as well as the "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"-c"}]},{"type":"text","value":" flag. In this file we simply define what shows up in the bar. Here's a simple version that shows date, time, CPU temperature and wifi:"}]},{"type":"element","tag":"pre","props":{"code":"[wifi]\nlabel=\ncommand=iwgetid -r\nseparator=true\ninterval=3\n\n#[volume]\n#label=\n#interval=1\n#separator=true\n#command=amixer get Master | egrep -o \"[0-9]+%\" | sed -n '2 p'\n\n#[cpu]\n#label=\n#interval=10\n#separator=true\n\n[temperature]\ncommand=T=$(cat /sys/class/thermal/thermal_zone0/temp); echo $(( $T / 1000 ))°C\nlabel=\ninterval=10\nseparator=true\n\n[time]\ncommand= date '+%H:%M:%S'\ninterval=2\nlabel=\nseparator=true\n\n[day]\ncommand= date '+%a %b %e, %Y'\ninterval=2\nlabel=\nseparator=true\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"[wifi]\nlabel=\ncommand=iwgetid -r\nseparator=true\ninterval=3\n\n#[volume]\n#label=\n#interval=1\n#separator=true\n#command=amixer get Master | egrep -o \"[0-9]+%\" | sed -n '2 p'\n\n#[cpu]\n#label=\n#interval=10\n#separator=true\n\n[temperature]\ncommand=T=$(cat /sys/class/thermal/thermal_zone0/temp); echo $(( $T / 1000 ))°C\nlabel=\ninterval=10\nseparator=true\n\n[time]\ncommand= date '+%H:%M:%S'\ninterval=2\nlabel=\nseparator=true\n\n[day]\ncommand= date '+%a %b %e, %Y'\ninterval=2\nlabel=\nseparator=true\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is why it is called i3"},{"type":"element","tag":"em","props":{},"children":[{"type":"text","value":"blocks"}]},{"type":"text","value":", because each part of the bar is defined in a block that has a command, an interval in seconds that determines how often the command is run, and a label. You can choose any text or icon for the labels."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next we can add some labels to the workspaces on the left side of the bar. I like to divide my workspaces into groups to keep things organized."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Add the following to your "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":" file:"}]},{"type":"element","tag":"pre","props":{"code":"set $workspace10 \"H0me \"\nset $workspace1 \"F1rst \"\nset $workspace4 \"Edi4or \"\nset $workspace3 \"Brows3r \"\nset $workspace2 \"2erminal \"\nset $workspace5 \"Mu5ic \"\nset $workspace8 \"O8S \"\n\n# switch to workspace\nbindsym Mod1+1 workspace $workspace1\nbindsym Mod1+2 workspace $workspace2\nbindsym Mod1+3 workspace $workspace3\nbindsym Mod1+4 workspace $workspace4\nbindsym Mod1+5 workspace $workspace5\nbindsym Mod1+6 workspace 6\nbindsym Mod1+7 workspace 7\nbindsym Mod1+8 workspace $workspace8\nbindsym Mod1+9 workspace 9\nbindsym Mod1+0 workspace $workspace10\n\n# move focused container to workspace\nbindsym Mod1+Shift+1 move container to workspace $workspace1\nbindsym Mod1+Shift+2 move container to workspace $workspace2\nbindsym Mod1+Shift+3 move container to workspace $workspace3\nbindsym Mod1+Shift+4 move container to workspace $workspace4\nbindsym Mod1+Shift+5 move container to workspace $workspace5\nbindsym Mod1+Shift+6 move container to workspace 6\nbindsym Mod1+Shift+7 move container to workspace 7\nbindsym Mod1+Shift+8 move container to workspace $workspace8\nbindsym Mod1+Shift+9 move container to workspace 9\nbindsym Mod1+Shift+0 move container to workspace $workspace10\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"set $workspace10 \"H0me \"\nset $workspace1 \"F1rst \"\nset $workspace4 \"Edi4or \"\nset $workspace3 \"Brows3r \"\nset $workspace2 \"2erminal \"\nset $workspace5 \"Mu5ic \"\nset $workspace8 \"O8S \"\n\n# switch to workspace\nbindsym Mod1+1 workspace $workspace1\nbindsym Mod1+2 workspace $workspace2\nbindsym Mod1+3 workspace $workspace3\nbindsym Mod1+4 workspace $workspace4\nbindsym Mod1+5 workspace $workspace5\nbindsym Mod1+6 workspace 6\nbindsym Mod1+7 workspace 7\nbindsym Mod1+8 workspace $workspace8\nbindsym Mod1+9 workspace 9\nbindsym Mod1+0 workspace $workspace10\n\n# move focused container to workspace\nbindsym Mod1+Shift+1 move container to workspace $workspace1\nbindsym Mod1+Shift+2 move container to workspace $workspace2\nbindsym Mod1+Shift+3 move container to workspace $workspace3\nbindsym Mod1+Shift+4 move container to workspace $workspace4\nbindsym Mod1+Shift+5 move container to workspace $workspace5\nbindsym Mod1+Shift+6 move container to workspace 6\nbindsym Mod1+Shift+7 move container to workspace 7\nbindsym Mod1+Shift+8 move container to workspace $workspace8\nbindsym Mod1+Shift+9 move container to workspace 9\nbindsym Mod1+Shift+0 move container to workspace $workspace10\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Things are looking pretty good at this point. Here are some other things that I have found to be very helpful:"}]},{"type":"element","tag":"h3","props":{"id":"brightness-controller"},"children":[{"type":"text","value":"Brightness Controller"}]},{"type":"element","tag":"pre","props":{"code":"yaourt -S brightness-controller\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yaourt -S brightness-controller\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next we can add a shortcut for this package:"}]},{"type":"element","tag":"pre","props":{"code":"bindsym Mod1+Ctrl+b exec brightness-controller\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"bindsym Mod1+Ctrl+b exec brightness-controller\n"}]}]},{"type":"element","tag":"h3","props":{"id":"ranger"},"children":[{"type":"text","value":"Ranger"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ranger"}]},{"type":"text","value":" is a terminal-based file browser that is nice to use."}]},{"type":"element","tag":"pre","props":{"code":"yaourt -S ranger\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"yaourt -S ranger\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"There is a lot we can do to customize ranger, here are some important things that I do. First, run the following command:"}]},{"type":"element","tag":"pre","props":{"code":"ranger --copy-config=all\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ranger --copy-config=all\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This will create a file located here: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.config/ranger/rc.conf"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"We need to make the following adjustments:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"change "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"set preview_images false"}]},{"type":"text","value":" to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"set preview_images true"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"change "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"set draw_borders false"}]},{"type":"text","value":" to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"set draw_borders true"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"install a package called "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"w3m"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"add (overwrite) this line: "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"set preview_images_method w3m"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"run "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"source ~/.config/ranger/rc.conf"}]},{"type":"text","value":" and then launch ranger in a new terminal"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"These changes will allow you to preview images right inside of the ranger file browser. There may be another combination of settings that get this to work, but these worked for me. Be careful that things you want to change in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.config/ranger/rc.conf"}]},{"type":"text","value":" are not overwritten by other lines."}]},{"type":"element","tag":"h2","props":{"id":"rofi"},"children":[{"type":"text","value":"Rofi"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rofi"}]},{"type":"text","value":" is a launcher similar to "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"dmenu"}]},{"type":"text","value":" that we used in the beginnings, but it is better. Here's how to install it:"}]},{"type":"element","tag":"pre","props":{"code":"sudo pacman -S rofi\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"sudo pacman -S rofi\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Next we can add a key binding so we can quickly launch any program with rofi:"}]},{"type":"element","tag":"pre","props":{"code":"bindsym Mod1+space exec rofi -show run\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"bindsym Mod1+space exec rofi -show run\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Be careful when you add new bindings! i3 will give you an error if you assign one binding to more than one command. I had to shuffle some of the default bindings around to use "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"Mod1+space"}]},{"type":"text","value":"."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"This is a good place to stop for now. There is a lot you can do with i3, so it is good to take things one step at a time and also try to do things in different ways to see what you like."}]},{"type":"element","tag":"h2","props":{"id":"extras"},"children":[{"type":"text","value":"Extras"}]},{"type":"element","tag":"h3","props":{"id":"chinese-input-support"},"children":[{"type":"text","value":"Chinese Input Support"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ibus-pinyin"}]},{"type":"text","value":" from AUR"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Run the ibus daemon:"}]},{"type":"element","tag":"pre","props":{"code":"ibus-daemon -xim&\n"},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"text","value":"ibus-daemon -xim&\n"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Install another Chinese font and set in "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.Xresources"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://askubuntu.com/questions/826577/switch-keyboard-layouts-with-i3/826578","rel":["nofollow"]},"children":[{"type":"text","value":"https://askubuntu.com/questions/826577/switch-keyboard-layouts-with-i3/826578"}]}]},{"type":"element","tag":"h2","props":{"id":"dotfiles"},"children":[{"type":"text","value":"Dotfiles"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"Here are the configuration files I use for i3:"}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/config"}]},{"type":"text","value":": general configurations for i3"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/i3blocks.conf"}]},{"type":"text","value":": configuration for status bar in i3"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.i3/blocks/scripts/"}]},{"type":"text","value":": scripts that run for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"i3blocks"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.Xresources"}]},{"type":"text","value":": configuration for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"rxvt-unicode"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.config/ranger/rc.conf"}]},{"type":"text","value":": configuration files for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"ranger"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.vimrc"}]},{"type":"text","value":": configuration for "},{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"vim"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"code","props":{"className":[]},"children":[{"type":"text","value":"~/.bashrc"}]},{"type":"text","value":": environment variables, functions and aliases"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"I'm constantly changing things around in these files but I try to keep them up to date in a repo on my Github account which you can find "},{"type":"element","tag":"a","props":{"href":"https://github.com/briancaffey/.i3","rel":["nofollow"]},"children":[{"type":"text","value":"here"}]},{"type":"text","value":"."}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"customization","depth":2,"text":"Customization"},{"id":"customizing-the-terminal-urxvt","depth":2,"text":"Customizing the Terminal (urxvt)","children":[{"id":"xresources","depth":3,"text":"~/.Xresources"}]},{"id":"pywal","depth":2,"text":"pywal"},{"id":"i3-gaps","depth":2,"text":"i3-gaps"},{"id":"the-bar","depth":2,"text":"The Bar","children":[{"id":"brightness-controller","depth":3,"text":"Brightness Controller"},{"id":"ranger","depth":3,"text":"Ranger"}]},{"id":"rofi","depth":2,"text":"Rofi"},{"id":"extras","depth":2,"text":"Extras","children":[{"id":"chinese-input-support","depth":3,"text":"Chinese Input Support"}]},{"id":"dotfiles","depth":2,"text":"Dotfiles"}]}},"_type":"markdown","_id":"content:2017:10:17:moving-from-gnome-to-i3-on-arch-linux.md","_source":"content","_file":"2017/10/17/moving-from-gnome-to-i3-on-arch-linux.md","_stem":"2017/10/17/moving-from-gnome-to-i3-on-arch-linux","_extension":"md"}]