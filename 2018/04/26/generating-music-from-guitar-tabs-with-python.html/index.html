<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Generating MIDI files from guitar tablatures with Python and regular expressions</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Brian Caffey's personal website"><meta data-n-head="ssr" name="robots" content="all"><meta data-n-head="ssr" property="twitter:creator" content="@briancaffey"><meta data-n-head="ssr" property="twitter:site" content="@briancaffey"><meta data-n-head="ssr" property="og:title" content="Generating MIDI files from guitar tablatures with Python and regular expressions"><meta data-n-head="ssr" property="og:description" content="undefined"><meta data-n-head="ssr" property="og:image" content="https://briancaffey.github.io/static/guitar.jpg"><meta data-n-head="ssr" property="twitter:image" content="https://briancaffey.github.io/static/guitar.jpg"><meta data-n-head="ssr" property="twitter:card" content="summary_large_image"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/6fe3673.js" as="script"><link rel="preload" href="/_nuxt/8bfa011.js" as="script"><link rel="preload" href="/_nuxt/b575c49.js" as="script"><link rel="preload" href="/_nuxt/691d3dd.js" as="script"><link rel="preload" href="/_nuxt/c259e4a.js" as="script"><style data-vue-ssr-id="38dfa7e4:0 f52d43e0:0 9592d830:0 517a8dd7:0 072b2f8a:0 fa7ff0ca:0 56b15182:0 507279a1:0 32d0cba6:0 a0fa61ae:0 68e9f29f:0 00a52ce3:0 23961490:0">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-black{--bg-opacity:1;background-color:#000;background-color:rgba(0,0,0,var(--bg-opacity))}.bg-white{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))}.bg-red-300{--bg-opacity:1;background-color:#feb2b2;background-color:rgba(254,178,178,var(--bg-opacity))}.bg-green-100{--bg-opacity:1;background-color:#f0fff4;background-color:rgba(240,255,244,var(--bg-opacity))}.border-white{--border-opacity:1;border-color:#fff;border-color:rgba(255,255,255,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-lg{border-top-left-radius:.5rem;border-top-right-radius:.5rem}.border{border-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.flex-1{flex:1 1 0%}.flex-grow{flex-grow:1}.flex-shrink{flex-shrink:1}.float-right{float:right}.font-bold{font-weight:700}.h-3{height:.75rem}.h-4{height:1rem}.h-12{height:3rem}.h-32{height:8rem}.h-64{height:16rem}.text-lg{font-size:1.125rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.text-4xl{font-size:2.25rem}.leading-8{line-height:2rem}.leading-9{line-height:2.25rem}.m-2{margin:.5rem}.m-4{margin:1rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mx-auto{margin-left:auto;margin-right:auto}.mt-1{margin-top:.25rem}.mb-1{margin-bottom:.25rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.mt-8{margin-top:2rem}.mb-8{margin-bottom:2rem}.-ml-1{margin-left:-.25rem}.max-w-5xl{max-width:64rem}.max-w-6xl{max-width:72rem}.object-cover{-o-object-fit:cover;object-fit:cover}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.px-16{padding-left:4rem;padding-right:4rem}.py-32{padding-top:8rem;padding-bottom:8rem}.pt-2{padding-top:.5rem}.pb-2{padding-bottom:.5rem}.pt-4{padding-top:1rem}.pr-4{padding-right:1rem}.pb-4{padding-bottom:1rem}.pt-8{padding-top:2rem}.pb-8{padding-bottom:2rem}.pt-16{padding-top:4rem}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.resize{resize:both}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.fill-current{fill:currentColor}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.text-gray-500{--text-opacity:1;color:#a0aec0;color:rgba(160,174,192,var(--text-opacity))}.text-gray-600{--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))}.text-red-400{--text-opacity:1;color:#fc8181;color:rgba(252,129,129,var(--text-opacity))}.text-red-600{--text-opacity:1;color:#e53e3e;color:rgba(229,62,62,var(--text-opacity))}.uppercase{text-transform:uppercase}.visible{visibility:visible}.w-3{width:.75rem}.w-4{width:1rem}.w-12{width:3rem}.w-32{width:8rem}.w-full{width:100%}.z-10{z-index:10}.gap-4{grid-gap:1rem;gap:1rem}.gap-6{grid-gap:1.5rem;gap:1.5rem}.gap-16{grid-gap:4rem;gap:4rem}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.transition-all{transition-property:all}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}.duration-150{transition-duration:.15s}.delay-150{transition-delay:.15s}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@media (min-width:640px){.sm\:inline{display:inline}.sm\:hidden{display:none}.sm\:p-16{padding:4rem}.sm\:px-4{padding-left:1rem;padding-right:1rem}.sm\:py-16{padding-top:4rem;padding-bottom:4rem}.sm\:w-2\/3{width:66.666667%}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:768px){.md\:flex{display:flex}.md\:hidden{display:none}.md\:px-1{padding-left:.25rem;padding-right:.25rem}.md\:px-4{padding-left:1rem;padding-right:1rem}.md\:w-1\/2{width:50%}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width:1024px){.lg\:px-16{padding-left:4rem;padding-right:4rem}.lg\:px-32{padding-left:8rem;padding-right:8rem}.lg\:pl-64{padding-left:16rem}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:1280px){.xl\:pb-16{padding-bottom:4rem}}:root{--color:#243746;--color-primary:#158876;--color-secondary:#0e2233;--bg:#f3f5f4;--bg-secondary:#fff;--bg-code:#ddd;--border-color:#ddd}.dark-mode{--color:#ebf4f1;--color-primary:#41b38a;--color-secondary:#fdf9f3;--bg:#091a28;--bg-secondary:#071521;--bg-code:#ddd;--border-color:#0d2538}.sepia-mode{--color:#433422;--color-primary:#504231;--color-secondary:#504231;--bg:#f1e7d0;--bg-code:#ddd;--bg-secondary:#eae0c9;--border-color:#ded0bf}body{font-family:Montserrat,Arial,Sans Serif;background-color:#f3f5f4;background-color:var(--bg);color:#243746;color:var(--color);transition:background-color .7s}a{color:#158876;color:var(--color-primary)}.py-05{padding-top:.125rem;padding-bottom:.125rem}.markdown{--text-opacity:1;color:#1a202c;color:rgba(26,32,44,var(--text-opacity));line-height:1.5;color:#0e2233;color:var(--color-secondary)}.markdown .token.operator{background:0 0}.markdown>*+*{margin-top:0;margin-bottom:1rem}.markdown li+li{margin-top:.25rem}.markdown li>p+p{margin-top:1.5rem;color:#158876;color:var(--color-primary)}.markdown img{margin:auto;margin-top:1.5rem;margin-bottom:1.5rem}.markdown a,.markdown strong{font-weight:600}.markdown strong a{font-weight:700}.markdown h1{font-size:2.25rem}.markdown h1,.markdown h2{border-color:#158876;border-color:var(--color-primary);line-height:1.25;border-bottom-width:1px;font-weight:600;margin-bottom:1rem;margin-top:1.5rem;padding-bottom:.5rem}.markdown h2{font-size:1.5rem}.markdown h3{line-height:1.375;font-size:1.125rem}.markdown h3,.markdown h4{border-color:#158876;border-color:var(--color-primary);font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown h4{line-height:1;font-size:1rem}.markdown h5{border-color:#158876;border-color:var(--color-primary)}.markdown h5,.markdown h6{line-height:1.25;font-size:.875rem;font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown blockquote,.markdown h6{--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))}.markdown blockquote{font-size:1rem;border-left-width:4px;--border-opacity:1;border-color:#e2e8f0;border-color:rgba(226,232,240,var(--border-opacity));padding-left:1rem;padding-right:1rem;border-color:#158876;border-color:var(--color-primary)}.markdown code{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:.875rem;display:inline;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity));padding:.125rem .25rem;background-color:#ddd;background-color:var(--bg-code);color:#000}.markdown code,.markdown pre{--bg-opacity:1;border-radius:.25rem}.markdown pre{background-color:#f7fafc;background-color:rgba(247,250,252,var(--bg-opacity));padding:1rem}.markdown pre code{display:block;background-color:transparent;padding:0;overflow:visible;border-radius:0;color:#000}.markdown p{margin-bottom:10px}code[class*=language-],pre[class*=language-]{background:#ddd!important;background:var(--bg-code)!important;text-shadow:none!important}.markdown ul{list-style-type:disc}.markdown ol,.markdown ul{font-size:1rem;padding-left:2rem}.markdown ol{list-style-type:decimal}.markdown kbd{font-size:.75rem;display:inline-block;border-radius:.25rem;border-width:1px;padding:.125rem .25rem;vertical-align:middle;font-weight:400;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.markdown table,td,th{font-size:1rem;border:1px solid #243746;border-color:var(--color)}.markdown table{overflow-x:scroll}.markdown td,.markdown th{border-width:1px;padding:.25rem .75rem}.markdown .highlight pre{--bg-opacity:1!important;background-color:#f7fafc!important;background-color:rgba(247,250,252,var(--bg-opacity))!important}.article-card{box-shadow:0 0 0 0 #0e2233;box-shadow:0 0 0 0 var(--color-secondary);transition:box-shadow .2s,transform .2s;height:100%}.article-card:hover{box-shadow:0 0 30px 2px #0e2233;box-shadow:0 0 30px 2px var(--color-secondary);transform:scale(1.025)}.blog-card-description,.blog-date{color:#0e2233;color:var(--color-secondary)}.blog-date{font-size:smaller}hr{background-color:#243746;background-color:var(--color);border:none;height:1px}.menu-icon{background-color:#ddd;background-color:var(--border-color)}.menu-icon,.mobile-menu{color:#243746;color:var(--color)}.mobile-menu{background-color:#fff;background-color:var(--bg-secondary)}.btn{border-radius:1;border-color:#158876;border-color:var(--color-primary)}.btn:hover{background-color:#fff;background-color:var(--bg-secondary)}.hero{border-color:#158876;border-color:var(--color-primary);color:#158876;color:var(--color-primary)}.markdown{word-wrap:break-word}.markdown h2:before,.markdown h3:before{content:" ";margin-top:-85px;pointer-events:none}.markdown h2>a,.markdown h3>a{margin-left:1.25rem}.markdown h2>a:before,.markdown h3>a:before{content:"#";font-weight:400;font-size:1.25rem;line-height:2rem;margin-left:-1.25rem;padding-right:.5rem;position:absolute;opacity:1}@media (min-width:1024px){.markdown h2>a,.markdown h3>a{margin-left:0}.markdown h2>a:before,.markdown h3>a:before{opacity:0}}.markdown h2:hover>a:before,.markdown h3:hover>a:before{opacity:1}& pre[class*=language-]{--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity));position:static}.mc{background-color:#f3f5f4;background-color:var(--bg);border-color:#158876;border-color:var(--color-primary);border-width:1px;color:#158876;color:var(--color-primary);justify-content:center;padding:5px 10px;border-radius:5px;width:100%}.mc-btn{color:#fff;color:var(--bg-secondary);background-color:#0e2233;background-color:var(--color-secondary);cursor:pointer}.page-enter-active,.page-leave-active{transition:filter 2s linear;transition:margin-top .15s,opacity .15s}.page-enter,.page-leave-to{opacity:0;margin-top:5px}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.emoji-mart,.emoji-mart *{-webkit-box-sizing:border-box;box-sizing:border-box;line-height:1.15}.emoji-mart{font-family:-apple-system,BlinkMacSystemFont,"Helvetica Neue",sans-serif;font-size:16px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:420px;color:#222427;border:1px solid #d9d9d9;border-radius:5px;background:#fff}.emoji-mart-emoji{padding:6px;border:none;background:0 0;-webkit-box-shadow:none;box-shadow:none}.emoji-mart-emoji span{display:inline-block}.emoji-mart-preview-emoji .emoji-mart-emoji span{width:38px;height:38px;font-size:32px}.emoji-type-native{font-family:"Segoe UI Emoji","Segoe UI Symbol","Segoe UI","Apple Color Emoji","Twemoji Mozilla","Noto Color Emoji","EmojiOne Color","Android Emoji";word-break:keep-all}.emoji-type-image{background-size:5700%}.emoji-type-image.emoji-set-apple{background-image:url(https://unpkg.com/emoji-datasource-apple@6.0.1/img/apple/sheets-256/64.png)}.emoji-type-image.emoji-set-facebook{background-image:url(https://unpkg.com/emoji-datasource-facebook@6.0.1/img/facebook/sheets-256/64.png)}.emoji-type-image.emoji-set-google{background-image:url(https://unpkg.com/emoji-datasource-google@6.0.1/img/google/sheets-256/64.png)}.emoji-type-image.emoji-set-twitter{background-image:url(https://unpkg.com/emoji-datasource-twitter@6.0.1/img/twitter/sheets-256/64.png)}.emoji-mart-bar{border:0 solid #d9d9d9}.emoji-mart-bar:first-child{border-bottom-width:1px;border-top-left-radius:5px;border-top-right-radius:5px}.emoji-mart-bar:last-child{border-top-width:1px;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.emoji-mart-scroll{position:relative;overflow-y:scroll;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:0 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-anchors{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:0 6px;color:#858585;line-height:0}.emoji-mart-anchor{position:relative;display:block;-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto;text-align:center;padding:12px 4px;overflow:hidden;-webkit-transition:color .1s ease-out;-o-transition:color .1s ease-out;transition:color .1s ease-out;border:none;background:0 0;-webkit-box-shadow:none;box-shadow:none}.emoji-mart-anchor-selected,.emoji-mart-anchor:hover{color:#464646}.emoji-mart-anchor-selected .emoji-mart-anchor-bar{bottom:0}.emoji-mart-anchor-bar{position:absolute;bottom:-3px;left:0;width:100%;height:3px;background-color:#464646}.emoji-mart-anchors i{display:inline-block;width:100%;max-width:22px}.emoji-mart-anchors svg{fill:currentColor;max-height:18px}.emoji-mart .scroller{height:250px;position:relative;-webkit-box-flex:1;-ms-flex:1;flex:1;padding:0 6px 6px;z-index:0;will-change:transform;-webkit-overflow-scrolling:touch}.emoji-mart-search{margin-top:6px;padding:0 6px}.emoji-mart-search input{font-size:16px;display:block;width:100%;padding:.2em .6em;border-radius:25px;border:1px solid #d9d9d9;outline:0}.emoji-mart-search-results{height:250px;overflow-y:scroll}.emoji-mart-category{position:relative}.emoji-mart-category .emoji-mart-emoji span{z-index:1;position:relative;text-align:center;cursor:default}.emoji-mart-category .emoji-mart-emoji:hover:before,.emoji-mart-emoji-selected:before{z-index:0;content:"";position:absolute;top:0;left:0;width:100%;height:100%;background-color:#f4f4f4;border-radius:100%;opacity:0;opacity:1}.emoji-mart-category-label{position:-webkit-sticky;position:sticky;top:0}.emoji-mart-static .emoji-mart-category-label{z-index:2;position:relative}.emoji-mart-category-label h3{display:block;font-size:16px;width:100%;font-weight:500;padding:5px 6px;background-color:#fff;background-color:hsla(0,0%,100%,.95)}.emoji-mart-emoji{position:relative;display:inline-block;font-size:0}.emoji-mart-no-results{font-size:14px;text-align:center;padding-top:70px;color:#858585}.emoji-mart-no-results .emoji-mart-category-label{display:none}.emoji-mart-no-results .emoji-mart-no-results-label{margin-top:.2em}.emoji-mart-no-results .emoji-mart-emoji:hover:before{content:none}.emoji-mart-preview{position:relative;height:70px}.emoji-mart-preview-data,.emoji-mart-preview-emoji,.emoji-mart-preview-skins{position:absolute;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%)}.emoji-mart-preview-emoji{left:12px}.emoji-mart-preview-data{left:68px;right:12px;word-break:break-all}.emoji-mart-preview-skins{right:30px;text-align:right}.emoji-mart-preview-name{font-size:14px}.emoji-mart-preview-shortname{font-size:12px;color:#888}.emoji-mart-preview-emoticon+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-emoticon,.emoji-mart-preview-shortname+.emoji-mart-preview-shortname{margin-left:.5em}.emoji-mart-preview-emoticon{font-size:11px;color:#bbb}.emoji-mart-title span{display:inline-block;vertical-align:middle}.emoji-mart-title .emoji-mart-emoji{padding:0}.emoji-mart-title-label{color:#999a9c;font-size:21px;font-weight:300}.emoji-mart-skin-swatches{font-size:0;padding:2px 0;border:1px solid #d9d9d9;border-radius:12px;background-color:#fff}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch{width:16px;padding:0 2px}.emoji-mart-skin-swatches-opened .emoji-mart-skin-swatch-selected:after{opacity:.75}.emoji-mart-skin-swatch{display:inline-block;width:0;vertical-align:middle;-webkit-transition-property:width,padding;-o-transition-property:width,padding;transition-property:width,padding;-webkit-transition-duration:.125s;-o-transition-duration:.125s;transition-duration:.125s;-webkit-transition-timing-function:ease-out;-o-transition-timing-function:ease-out;transition-timing-function:ease-out}.emoji-mart-skin-swatch:first-child{-webkit-transition-delay:0s;-o-transition-delay:0s;transition-delay:0s}.emoji-mart-skin-swatch:nth-child(2){-webkit-transition-delay:.03s;-o-transition-delay:.03s;transition-delay:.03s}.emoji-mart-skin-swatch:nth-child(3){-webkit-transition-delay:.06s;-o-transition-delay:.06s;transition-delay:.06s}.emoji-mart-skin-swatch:nth-child(4){-webkit-transition-delay:.09s;-o-transition-delay:.09s;transition-delay:.09s}.emoji-mart-skin-swatch:nth-child(5){-webkit-transition-delay:.12s;-o-transition-delay:.12s;transition-delay:.12s}.emoji-mart-skin-swatch:nth-child(6){-webkit-transition-delay:.15s;-o-transition-delay:.15s;transition-delay:.15s}.emoji-mart-skin-swatch-selected{position:relative;width:16px;padding:0 2px}.emoji-mart-skin-swatch-selected:after{content:"";position:absolute;top:50%;left:50%;width:4px;height:4px;margin:-2px 0 0 -2px;background-color:#fff;border-radius:100%;pointer-events:none;opacity:0;-webkit-transition:opacity .2s ease-out;-o-transition:opacity .2s ease-out;transition:opacity .2s ease-out}.emoji-mart-skin{display:inline-block;width:100%;padding-top:100%;max-width:12px;border-radius:100%}.emoji-mart-skin-tone-1{background-color:#ffc93a}.emoji-mart-skin-tone-2{background-color:#fadcbc}.emoji-mart-skin-tone-3{background-color:#e0bb95}.emoji-mart-skin-tone-4{background-color:#bf8f68}.emoji-mart-skin-tone-5{background-color:#9b643d}.emoji-mart-skin-tone-6{background-color:#594539}.emoji-mart .vue-recycle-scroller{position:relative}.emoji-mart .vue-recycle-scroller.direction-vertical:not(.page-mode){overflow-y:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal:not(.page-mode){overflow-x:auto}.emoji-mart .vue-recycle-scroller.direction-horizontal{display:-webkit-box;display:-ms-flexbox;display:flex}.emoji-mart .vue-recycle-scroller__slot{-webkit-box-flex:1;-ms-flex:auto 0 0px;flex:auto 0 0}.emoji-mart .vue-recycle-scroller__item-wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;position:relative}.emoji-mart .vue-recycle-scroller.ready .vue-recycle-scroller__item-view{position:absolute;top:0;left:0;will-change:transform}.emoji-mart .vue-recycle-scroller.direction-vertical .vue-recycle-scroller__item-wrapper{width:100%}.emoji-mart .vue-recycle-scroller.direction-horizontal .vue-recycle-scroller__item-wrapper{height:100%}.emoji-mart .vue-recycle-scroller.ready.direction-vertical .vue-recycle-scroller__item-view{width:100%}.emoji-mart .vue-recycle-scroller.ready.direction-horizontal .vue-recycle-scroller__item-view{height:100%}.emoji-mart .resize-observer[data-v-b329ee4c]{border:none;background-color:transparent;opacity:0}.emoji-mart .resize-observer[data-v-b329ee4c],.emoji-mart .resize-observer[data-v-b329ee4c] object{position:absolute;top:0;left:0;z-index:-1;width:100%;height:100%;pointer-events:none;display:block;overflow:hidden}.emoji-mart-search .hidden{display:none;visibility:hidden}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}html{font-family:Montserrat,Arial,Sans Serif;font-size:16px;word-spacing:1px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box}*,:after,:before{box-sizing:border-box;margin:0}.button--green{display:inline-block;border-radius:4px;border:1px solid #3b8070;color:#3b8070;text-decoration:none;padding:10px 30px}.button--green:hover{color:#fff;background-color:#3b8070}.button--grey{display:inline-block;border-radius:4px;border:1px solid #35495e;color:#35495e;text-decoration:none;padding:10px 30px;margin-left:15px}.button--grey:hover{color:#fff;background-color:#35495e}span.emoji-mart-emoji[data-v-913fe8d6]{padding:0}.selected[data-v-913fe8d6]{text-shadow:.25px 0 0 #000}.picker[data-v-913fe8d6]{position:absolute;top:10px;margin-left:auto;margin-right:auto;transform:translate(50%,50%)}.top[data-v-913fe8d6]{width:100%;background-color:var(--color-primary);height:3px}.selected[data-v-4365f19e]{text-shadow:.9px 0 0}span.emoji-mart-emoji[data-v-288717a6]{padding:0;transition:transform .2s}span.emoji-mart-emoji[data-v-288717a6]:hover{transform:scale(1.3)}.centered[data-v-288717a6]{position:absolute;left:50vw;right:50vw;margin-left:auto;margin-right:auto}span.emoji-mart-emoji[data-v-40f34933]{padding:0;transition:transform .2s}span.emoji-mart-emoji[data-v-40f34933]:hover{transform:scale(1.3)}.modal[data-v-40f34933]{z-index:100000000;top:0;-webkit-backdrop-filter:blur(.4px);backdrop-filter:blur(.4px);background-color:rgba(0,0,0,.2)}.modal[data-v-40f34933],.picker[data-v-40f34933]{position:absolute;left:0}.picker[data-v-40f34933]{z-index:10000000000;right:0;margin-left:auto;margin-right:auto}.tag[data-v-d8ade784]{background-color:var(--color-primary);transition:transform .2s}.tag[data-v-d8ade784]:hover{transform:scale(1.05)}</style><link rel="preload" href="/_nuxt/static/1719270194/2018/04/26/generating-music-from-guitar-tabs-with-python.html/state.js" as="script"><link rel="preload" href="/_nuxt/static/1719270194/2018/04/26/generating-music-from-guitar-tabs-with-python.html/payload.js" as="script"><link rel="preload" href="/_nuxt/static/1719270194/manifest.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function(){"use strict";var t=window,r=document,s=r.documentElement,n=["dark","light"],e=function(){for(var e="nuxt-color-mode=",t=r.cookie.split(";"),s=0;s<t.length;s++){for(var n=t[s];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return null}()||"system",a="system"===e?l():e;function c(e){e+="-mode";s.classList?s.classList.add(e):s.className+=" "+e}function o(e){return t.matchMedia("(prefers-color-scheme"+e+")")}function l(){if(t.matchMedia&&"not all"!==o("").media)for(var e of n)if(o(":"+e).matches)return e;return"light"}c(a),t.__NUXT_COLOR_MODE__={preference:e,value:a,getColorScheme:l,addClass:c,removeClass:function(e){e+="-mode";s.classList?s.classList.remove(e):s.className=s.className.replace(new RegExp(e,"g"),"")}}}()</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><div data-v-913fe8d6><div class="mx-auto flex py-2 px-2 sm:px-4 items-center max-w-6xl justify-center" data-v-913fe8d6><div class="justify-left flex-grow flex-cols-4" data-v-913fe8d6><a href="/" class="text-xl nuxt-link-active" data-v-913fe8d6><span class="hidden sm:inline text-2xl" data-v-913fe8d6>Brian Caffey</span><span class="inline sm:hidden" data-v-913fe8d6>JBC</span></a></div> <div class="flex-grow relative" data-v-913fe8d6><nav z-index="10000" data-v-4365f19e data-v-913fe8d6><div data-v-4365f19e><ul class="items-right float-right hidden md:flex" data-v-4365f19e><li class="px-4 text-lg" data-v-4365f19e><a href="/blog/1" data-v-4365f19e>
          Blog
        </a></li> <li class="px-4 text-lg" data-v-4365f19e><a href="/contact" data-v-4365f19e>
          Contact
        </a></li></ul> <div class="flex justify-end md:hidden z-1000" data-v-4365f19e><button class="flex items-center px-3 py-2 border rounded menu-icon" data-v-4365f19e><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="fill-current h-3 w-3" data-v-4365f19e><title data-v-4365f19e>Menu</title> <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" data-v-4365f19e></path></svg></button></div> <!----></div></nav></div></div> <div class="picker" data-v-913fe8d6><div class="centered" data-v-288717a6 data-v-913fe8d6><div class="grid items-center justify-center" data-v-288717a6><ul class="flex px-4" data-v-288717a6><li class="md:px-1 px-1 cursor-pointer" data-v-288717a6><span aria-label="🖥️, desktop_computer" class="emoji-mart-emoji" data-v-288717a6><span class="emoji-set-apple emoji-type-image" style="background-position:52.63% 12.28%;width:32px;height:32px"></span></span></li><li class="md:px-1 px-1 cursor-pointer" data-v-288717a6><span aria-label="🌞, sun_with_face" class="emoji-mart-emoji" data-v-288717a6><span class="emoji-set-apple emoji-type-image" style="background-position:8.77% 77.19%;width:32px;height:32px"></span></span></li><li class="md:px-1 px-1 cursor-pointer" data-v-288717a6><span aria-label="🌚, new_moon_with_face" class="emoji-mart-emoji" data-v-288717a6><span class="emoji-set-apple emoji-type-image" style="background-position:8.77% 70.18%;width:32px;height:32px"></span></span></li><li class="md:px-1 px-1 cursor-pointer" data-v-288717a6><span aria-label="☕, coffee" class="emoji-mart-emoji" data-v-288717a6><span class="emoji-set-apple emoji-type-image" style="background-position:94.74% 8.77%;width:32px;height:32px"></span></span></li> <li class="md:px-1 px-1 cursor-pointer" data-v-288717a6><div data-v-40f34933 data-v-288717a6><!----> <ul data-v-40f34933><li class="md:px-1 px-1 cursor-pointer" data-v-40f34933><span aria-label="🇺🇸, us, flag-us" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:7.02% 68.42%;width:32px;height:32px"></span></span></li></ul> <div class="rounded-md z-10 picker" data-v-40f34933><div class="bg-white shadow-md rounded px-4 py-2 w-32 text" style="display:none" data-v-40f34933><a href="/2018/04/26/generating-music-from-guitar-tabs-with-python.html" aria-current="page" class="nuxt-link-exact-active nuxt-link-active" data-v-40f34933><span aria-label="🇺🇸, us, flag-us" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:7.02% 68.42%;width:16px;height:16px"></span></span> English <br data-v-40f34933></a><a href="/fr/2018/04/26/generating-music-from-guitar-tabs-with-python.html" data-v-40f34933><span aria-label="🇫🇷, fr, flag-fr" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:1.75% 91.23%;width:16px;height:16px"></span></span> Français <br data-v-40f34933></a><a href="/zh/2018/04/26/generating-music-from-guitar-tabs-with-python.html" data-v-40f34933><span aria-label="🇨🇳, cn, flag-cn" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:1.75% 36.84%;width:16px;height:16px"></span></span> 简体中文 <br data-v-40f34933></a><a href="/ru/2018/04/26/generating-music-from-guitar-tabs-with-python.html" data-v-40f34933><span aria-label="🇷🇺, ru, flag-ru" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:5.26% 92.98%;width:16px;height:16px"></span></span> Русский <br data-v-40f34933></a><a href="/jp/2018/04/26/generating-music-from-guitar-tabs-with-python.html" data-v-40f34933><span aria-label="🇯🇵, jp, flag-jp" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:3.51% 59.65%;width:16px;height:16px"></span></span> 日本語 <br data-v-40f34933></a><a href="/in/2018/04/26/generating-music-from-guitar-tabs-with-python.html" data-v-40f34933><span aria-label="🇮🇳, flag-in" class="emoji-mart-emoji" data-v-40f34933><span class="emoji-set-apple emoji-type-image" style="background-position:3.51% 43.86%;width:16px;height:16px"></span></span> हिंदी <br data-v-40f34933></a></div></div></div></li></ul></div></div></div></div> <article data-v-142b09b6><img src="/static/guitar.jpg" class="pt-2 w-full object-cover cover-image" style="height:32rem" data-v-142b09b6> <div class="mx-auto max-w-5xl px-2 sm:px-4 md:px-4 lg:px-16 mt-2" data-v-142b09b6><h1 class="prose text-4xl leading-9 py-4 font-bold" data-v-142b09b6>
      Generating MIDI files from guitar tablatures with Python and regular expressions
    </h1> <div class="flex flex-wrap -ml-1 py-2" data-v-21780fb6 data-v-142b09b6><a href="/blog/tags/midi" data-v-d8ade784 data-v-21780fb6><div class="px-2 text-lg text-white shadow rounded-lg bg-black mx-1 mb-1 uppercase cursor-pointer tag" data-v-d8ade784>
    midi 🏷️
    <!----></div></a><a href="/blog/tags/python" data-v-d8ade784 data-v-21780fb6><div class="px-2 text-lg text-white shadow rounded-lg bg-black mx-1 mb-1 uppercase cursor-pointer tag" data-v-d8ade784>
    python 🏷️
    <!----></div></a><a href="/blog/tags/regex" data-v-d8ade784 data-v-21780fb6><div class="px-2 text-lg text-white shadow rounded-lg bg-black mx-1 mb-1 uppercase cursor-pointer tag" data-v-d8ade784>
    regex 🏷️
    <!----></div></a><a href="/blog/tags/guitar" data-v-d8ade784 data-v-21780fb6><div class="px-2 text-lg text-white shadow rounded-lg bg-black mx-1 mb-1 uppercase cursor-pointer tag" data-v-d8ade784>
    guitar 🏷️
    <!----></div></a><a href="/blog/tags/music" data-v-d8ade784 data-v-21780fb6><div class="px-2 text-lg text-white shadow rounded-lg bg-black mx-1 mb-1 uppercase cursor-pointer tag" data-v-d8ade784>
    music 🏷️
    <!----></div></a></div> <!----> <p class="blog-date text-gray-500 mb-4" data-v-142b09b6>
      Last updated
      April 26, 2018
    </p> <!----> <div class="markdown nuxt-content" data-v-142b09b6 data-v-142b09b6><p data-v-142b09b6 data-v-142b09b6>Recently I have been playing lots of classical guitar. I use <a href="classtab.org" data-v-142b09b6 data-v-142b09b6>classtab.org</a>, a website with hundreds of classical guitar pieces in tab form. Here's an example of a guitar tab:</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>|---------------0---|---3-2-3-----------|-----0-------------|
|-------0-3-1-1---3-|-3-------3-0-----0-|-1-3---3-1-0---0---|
|---0-2-0-----------|-------------0-2---|-------------2---0-|
|-------------2-----|-------2-----------|-------------------|
|-------------------|-2-----------------|-0-----2-----3-----|
|-3-----------------|-------------0-----|-------------------|
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>It is a representation of where and when strings are played. The six lines here represent the six strings of the guitar e, A, D, G, B and E and the numbers indicate where on the fretboard to press for each note. The vertical bars represent one bar of music.</p>
<p data-v-142b09b6 data-v-142b09b6>My goal is to write an application that can read in guitar tabs and then produce a corresponding MIDI file for the song.</p>
<p data-v-142b09b6 data-v-142b09b6>To start, I will use regular expressions to parse the bars of music in a guitar tab text file.</p>
<p data-v-142b09b6 data-v-142b09b6>Next, I will use a Python package called MIDIUtil to generate <code data-v-142b09b6 data-v-142b09b6>.mid</code> files from the guitar tabs.</p>
<p data-v-142b09b6 data-v-142b09b6>Finally, I'll put this into a simple web app that lets users copy paste guitar tab text or enter a URL from a site like classtab.org that will similarly generate a MIDI file.</p>
<h2 id="regex" data-v-142b09b6 data-v-142b09b6><a href="#regex" aria-hidden="true" tabindex="-1" data-v-142b09b6 data-v-142b09b6><span class="icon icon-link" data-v-142b09b6 data-v-142b09b6></span></a>Regex</h2>
<p data-v-142b09b6 data-v-142b09b6>First, let's look at a few different examples of guitar tabs to get a better sense of what our goal should be in using regular expressions to parse notes.</p>
<h3 id="tab-examples" data-v-142b09b6 data-v-142b09b6><a href="#tab-examples" aria-hidden="true" tabindex="-1" data-v-142b09b6 data-v-142b09b6><span class="icon icon-link" data-v-142b09b6 data-v-142b09b6></span></a>Tab examples</h3>
<p data-v-142b09b6 data-v-142b09b6><a href="http://www.classtab.org/barrios_la_catedral_3_allegro.txt" rel="nofollow noopener noreferrer" target="_blank" data-v-142b09b6 data-v-142b09b6>http://www.classtab.org/barrios_la_catedral_3_allegro.txt</a></p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>La Catedral
Author: Agustin Barrios
Tablature by: Gianpiero Ciammaricone
              giancian@yahoo.com
              http://www.geocities.com/vienna/6619

Tablature Explanation at the end.

[key corrected from "D Major" Jan 99]

This is Revision 3 (5/2/98), I have added a modification made by
Barrios in line 5 of the TAB, both ways of playing it are included,
so you can choose the best one for you.
Revision 2: Made a few corrections.
Revision 1: The first release of the tab.

3rd Movement (Allegro):
Key: B Minor
Time signature: 6/8

E-|-------------------------|-----------------------------|
B-|-----------------3-------|-----------------3-----------|
G-|---------0---4-------4---|---------0---4-------4-------|
D-|---4-3h4---4---4---4---4-|---4-3h4---4---4---4---4-----|
A-|-2-----------------------|-2---------------------------|
E-|-------------------------|-----------------------------|
    p m i   m i m i a i m i

E-|-------------------------|-----------------------------|
B-|-----------------3-------|-----------------3-----------|
G-|---------2---4-------4---|---------2---4-------4-------|
D-|---5-4h5---5---5---5---5-|---5-4h5---5---5---5---5-----|
A-|-2-----------------------|-2---------------------------|
E-|-------------------------|-----------------------------|
    p m i   m i m i a i m i

E-|-------------------------|-----------------------------|
B-|-----------------5-------|-----------------5-----------|
G-|---------4---6-------6---|---------4---6-------6-------|
D-|---7-6h7---7---7---7---7-|---7-6h7---7---7---7---7-----|
A-|-4-----------------------|-4---------------------------|
E-|-------------------------|-----------------------------|
    p m i   m i m i a i m i
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6><a href="http://www.classtab.org/moreno_torroba_siete_piezas_de_album_6_chisperada.txt" rel="nofollow noopener noreferrer" target="_blank" data-v-142b09b6 data-v-142b09b6>http://www.classtab.org/moreno_torroba_siete_piezas_de_album_6_chisperada.txt</a></p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>SIETE PIEZAS DE ALBUM: VI. CHISPERADA
As recorded by Federico Moreno Torroba

Music by Federico Moreno Torroba

|-----0-----0-|-----------0-|-----0-----0-|
|---1-----0---|-----3-----0-|---1-----0---|
|---2-----0---|---2-------1-|---2-----0---|
|---2---------|---3---------|---2---------|
|-0-----------|---------2---|-0-----------|
|-------3-----|-1-----0-----|-------3-----|

|-----------0-|-----0-----0-|-----------0-|-----------0--|
|-----3-----0-|---1-----0---|-----3-----0-|-----3-----0--|
|---2-------1-|---2-----0---|---2-------1-|---2-------1--|
|---3---------|---2---------|---3---------|---3----------|
|---------2---|-0-----------|-0-------2---|-0-------2----|
|-1-----0-----|-------3-----|-------0-----|-------0------|

|---------------0--|-0-----0-----|-1-----1-3p1-0---|
|---1-0---------0--|-1-----------|---------------3-|
|-2-----2-0-----1--|-2-----1-----|-2-----2---------|
|-----------3------|-------------|-------0---------|
|-3----------------|---0-0---2-2-|---3-3-----------|
|-------------0----|-------------|-----------------|
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6><a href="http://www.classtab.org/moreno_torroba_sonatina_in_a_2_andante.txt" rel="nofollow noopener noreferrer" target="_blank" data-v-142b09b6 data-v-142b09b6>http://www.classtab.org/moreno_torroba_sonatina_in_a_2_andante.txt</a></p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>Sonatina in A - II - Andante

F. Moreno Torroba (1891-1982)

tuning DADGBE

E|-----2--3---5----------10--8--7-------|-----8----7^8^7-----------------------|
B|-----3--5---7----------7--------------|-----8-----------10---------8---------|
G|-----2---------------------9--7-------|-----9--------------------------11----|
D|-----0--------------4-----------------|--------------------------10----------|
A|-----0----------0---------------------|----------------------7---------------|
D|-----0--------------------------------|-----0--------------------------------|

E|--------------------------------------|--------------------------------------|
B|------------------7--8^10-8---7^5-----|---5---------7-8-7-5-----5------------|
G|--9^11^9----7--9------------------7---|---6-----------------7---6------------|
D|-------8------------------------------|---5---------------------5--7----19°--|
A|-------10-----------------------------|------0--12°--------------------------|
D|-------0------------------------------|---0---------------------0------------|
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Here are a few things that we need to consider:</p>
<ul data-v-142b09b6 data-v-142b09b6>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>The start of each line sometimes starts with a the note of the string (<code data-v-142b09b6 data-v-142b09b6>E</code> or <code data-v-142b09b6 data-v-142b09b6>e</code>, <code data-v-142b09b6 data-v-142b09b6>A</code>, <code data-v-142b09b6 data-v-142b09b6>D</code>, etc.) followed by <code data-v-142b09b6 data-v-142b09b6>|</code> or just simply start with <code data-v-142b09b6 data-v-142b09b6>|</code>. Some lines may start with <code data-v-142b09b6 data-v-142b09b6>E-|</code>.</p>
</li>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>There is generally a <code data-v-142b09b6 data-v-142b09b6>-</code> character between each note. When this is not the case, we may have a <code data-v-142b09b6 data-v-142b09b6>p</code>, <code data-v-142b09b6 data-v-142b09b6>h</code> or <code data-v-142b09b6 data-v-142b09b6>^</code> which indicates "pull off" or "hammer on". This means that you are playing the string with the hand on the fretboard, not the hand over the sound hole. We should replace these with <code data-v-142b09b6 data-v-142b09b6>-</code>.</p>
</li>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>A tab may have an inconsistant number of characters in each bar. I'm not too concerned about this. I'm not going for perfection just yet, but it could make this task very difficult if you want to get the timing of your sounds just right.</p>
</li>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>Notes played on the 10th fret and higher must be read together. For example, <code data-v-142b09b6 data-v-142b09b6>---12---</code> should be played on the 12 fret; it does not mean play <code data-v-142b09b6 data-v-142b09b6>1</code> and then play <code data-v-142b09b6 data-v-142b09b6>2</code>.</p>
</li>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>There are some other special characters such as <code data-v-142b09b6 data-v-142b09b6>°</code> or <code data-v-142b09b6 data-v-142b09b6>&lt;</code>/<code data-v-142b09b6 data-v-142b09b6>></code>. I think these both denote harmonics. This is when you place your finger on the string at a position along the fretboard, but do not press down. We probably want to replace these characters with <code data-v-142b09b6 data-v-142b09b6>-</code> as well.</p>
</li>
</ul>
<h3 id="tab-text-file-processing" data-v-142b09b6 data-v-142b09b6><a href="#tab-text-file-processing" aria-hidden="true" tabindex="-1" data-v-142b09b6 data-v-142b09b6><span class="icon icon-link" data-v-142b09b6 data-v-142b09b6></span></a>Tab text file processing</h3>
<p data-v-142b09b6 data-v-142b09b6>Here are some things that may be helpful to do as soon as we read a text file:</p>
<ul data-v-142b09b6 data-v-142b09b6>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>convert everything to upper or lower case</p>
</li>
<li data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>replace non-numeric characters with <code data-v-142b09b6 data-v-142b09b6>-</code></p>
</li>
</ul>
<p data-v-142b09b6 data-v-142b09b6>When I work with regex, I usually go straight to <a href="regex101.com" data-v-142b09b6 data-v-142b09b6>regex101.com</a>.</p>
<h2 id="midiutil" data-v-142b09b6 data-v-142b09b6><a href="#midiutil" aria-hidden="true" tabindex="-1" data-v-142b09b6 data-v-142b09b6><span class="icon icon-link" data-v-142b09b6 data-v-142b09b6></span></a>MIDIUtil</h2>
<p data-v-142b09b6 data-v-142b09b6>At this point, I think it will be helpful to examine MIDIUtil and create and play a basic MIDI file.</p>
<p data-v-142b09b6 data-v-142b09b6>Before you do that, you might want to read over the <a href="https://wiki.archlinux.org/index.php/MIDI" rel="nofollow noopener noreferrer" target="_blank" data-v-142b09b6 data-v-142b09b6>MIDI Arch Wiki article</a>.</p>
<blockquote data-v-142b09b6 data-v-142b09b6>
<p data-v-142b09b6 data-v-142b09b6>MIDIUtil is a pure Python library that allows one to write multi-track Musical Instrument Digital Interface (MIDI) files from within Python programs (both format 1 and format 2 files are now supported). It is object-oriented and allows one to create and write these files with a minimum of fuss.</p>
</blockquote>
<p data-v-142b09b6 data-v-142b09b6>Here's a basic example of MIDIUtil. This script generates a MIDI file that contains a major scale.</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-python" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6><span class="token comment" data-v-142b09b6 data-v-142b09b6>#!/usr/bin/env python</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>from</span> midiutil <span class="token keyword" data-v-142b09b6 data-v-142b09b6>import</span> MIDIFile

degrees  <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token number" data-v-142b09b6 data-v-142b09b6>60</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>62</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>64</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>65</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>67</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>69</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>71</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>72</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># MIDI note number</span>
track    <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
channel  <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
time     <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>    <span class="token comment" data-v-142b09b6 data-v-142b09b6># In beats</span>
duration <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>1</span>    <span class="token comment" data-v-142b09b6 data-v-142b09b6># In beats</span>
tempo    <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>60</span>   <span class="token comment" data-v-142b09b6 data-v-142b09b6># In BPM</span>
volume   <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>100</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># 0-127, as per the MIDI standard</span>

MyMIDI <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> MIDIFile<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token number" data-v-142b09b6 data-v-142b09b6>1</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># One track, defaults to format 1 (tempo track is created</span>
                      <span class="token comment" data-v-142b09b6 data-v-142b09b6># automatically)</span>
MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>addTempo<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>track<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> time<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> tempo<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>for</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> pitch <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>enumerate</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>degrees<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>addNote<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>track<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> channel<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> pitch<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> time <span class="token operator" data-v-142b09b6 data-v-142b09b6>+</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> duration<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> volume<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>with</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>open</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"major-scale.mid"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"wb"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span> <span class="token keyword" data-v-142b09b6 data-v-142b09b6>as</span> output_file<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>writeFile<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>output_file<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Now let's try to play this file. Well, if you read the MIDI article, you would know that this isn't really what we are doing. We want to see what our major scale sounds like. In order to do that, we need to install and configure both a MIDI synthesizer as well as a soundfont.</p>
<p data-v-142b09b6 data-v-142b09b6>We can use timidity++ for our MIDI synth. There are very simple instructions on how to do this <a href="https://wiki.archlinux.org/index.php/timidity" rel="nofollow noopener noreferrer" target="_blank" data-v-142b09b6 data-v-142b09b6>here</a>.</p>
<p data-v-142b09b6 data-v-142b09b6>Here are the steps I followed:</p>
<p data-v-142b09b6 data-v-142b09b6>From the AUR, install <code data-v-142b09b6 data-v-142b09b6>timidity++</code> and <code data-v-142b09b6 data-v-142b09b6>timidity-freepats</code>.</p>
<p data-v-142b09b6 data-v-142b09b6>Add yourself to the audio group:</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6># gpasswd -a brian audio
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Add the following line to <code data-v-142b09b6 data-v-142b09b6>/etc/timidity++/timidity.cfg</code>:</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>soundfont /usr/share/soundfonts/timidity-freepats.sf2
</code></pre></div>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>sudo systemctl start timidity.service
sudo systemctl enable timidity.service
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Run <code data-v-142b09b6 data-v-142b09b6>aplaymidi -l</code>:</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6> $ aplaymidi -l
 Port    Client name                      Port name
 14:0    Midi Through                     Midi Through Port-0
130:0    TiMidity                         TiMidity port 0
130:1    TiMidity                         TiMidity port 1
130:2    TiMidity                         TiMidity port 2
130:3    TiMidity                         TiMidity port 3
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Finally, we can play our MIDI file that we generated by running the python script above:</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6> $ aplaymidi major-scale.mid --port 130:0
&lt;music plays...>
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>For this project, playing files using a synthesizer is useful to verify that the MIDI was successfully created. If/when we get to the point of making a web app to convert midi files to music files, we will generate the midifile in-memory, convert it to a WAV file and then return that to the user.</p>
<p data-v-142b09b6 data-v-142b09b6>Let's try to process a very simple tab file with just one string and a few notes, and then generate a simple MIDI file based on the tab.</p>
<p data-v-142b09b6 data-v-142b09b6>Our sample tab can be:</p>
<p data-v-142b09b6 data-v-142b09b6><em data-v-142b09b6 data-v-142b09b6>simple-tab.txt</em></p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6>--0--2--4--
</code></pre></div>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-python" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6><span class="token comment" data-v-142b09b6 data-v-142b09b6>#!/usr/bin/env python</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>from</span> midiutil <span class="token keyword" data-v-142b09b6 data-v-142b09b6>import</span> MIDIFile

degrees  <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token number" data-v-142b09b6 data-v-142b09b6>60</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>62</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>64</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>65</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>67</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>69</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>71</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>72</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># MIDI note number</span>
track    <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
channel  <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
time     <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>    <span class="token comment" data-v-142b09b6 data-v-142b09b6># In beats</span>
duration <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>1</span>    <span class="token comment" data-v-142b09b6 data-v-142b09b6># In beats</span>
tempo    <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>60</span>   <span class="token comment" data-v-142b09b6 data-v-142b09b6># In BPM</span>
volume   <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>100</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># 0-127, as per the MIDI standard</span>

MyMIDI <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> MIDIFile<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token number" data-v-142b09b6 data-v-142b09b6>1</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># One track, defaults to format 1 (tempo track is created</span>
                      <span class="token comment" data-v-142b09b6 data-v-142b09b6># automatically)</span>
MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>addTempo<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>track<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> time<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> tempo<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>for</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> pitch <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>enumerate</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>degrees<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>addNote<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>track<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> channel<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> pitch<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> time <span class="token operator" data-v-142b09b6 data-v-142b09b6>+</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> duration<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> volume<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>with</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>open</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"major-scale.mid"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"wb"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span> <span class="token keyword" data-v-142b09b6 data-v-142b09b6>as</span> output_file<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>writeFile<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>output_file<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
</code></pre></div>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-text" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6> $ echo "--0--2--4--" > simple-tab.txt
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Here's the script I used to generate some fairly accurate MIDI files. There are still some bugs in the script that generates the MIDI file, but this meets the goal I had last weekend of writing a simple script to generate music from guitar tabs.</p>
<div class="nuxt-content-highlight" data-v-142b09b6 data-v-142b09b6><pre class="line-numbers language-python" data-v-142b09b6 data-v-142b09b6><code data-v-142b09b6 data-v-142b09b6><span class="token comment" data-v-142b09b6 data-v-142b09b6>#!/usr/bin/env python</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>from</span> midiutil <span class="token keyword" data-v-142b09b6 data-v-142b09b6>import</span> MIDIFile
<span class="token keyword" data-v-142b09b6 data-v-142b09b6>import</span> sys
<span class="token keyword" data-v-142b09b6 data-v-142b09b6>import</span> re

string_notes <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"high_e"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"B"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"G"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"D"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"A"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"E"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>

guitar_strings <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span>
    <span class="token string" data-v-142b09b6 data-v-142b09b6>'E'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>52</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>0</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>
    <span class="token string" data-v-142b09b6 data-v-142b09b6>'A'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>57</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>1</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>
    <span class="token string" data-v-142b09b6 data-v-142b09b6>'D'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>62</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>2</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>
    <span class="token string" data-v-142b09b6 data-v-142b09b6>'G'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>67</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>3</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>
    <span class="token string" data-v-142b09b6 data-v-142b09b6>'B'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>71</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>4</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>
    <span class="token string" data-v-142b09b6 data-v-142b09b6>'high_e'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>{</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>76</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token number" data-v-142b09b6 data-v-142b09b6>5</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>
<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>}</span>

<span class="token comment" data-v-142b09b6 data-v-142b09b6># read the tab file</span>
file_name <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> sys<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>argv<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token number" data-v-142b09b6 data-v-142b09b6>1</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>
<span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> file_name<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>split<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"."</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token operator" data-v-142b09b6 data-v-142b09b6>-</span><span class="token number" data-v-142b09b6 data-v-142b09b6>1</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span> <span class="token operator" data-v-142b09b6 data-v-142b09b6>!=</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>'txt'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    <span class="token keyword" data-v-142b09b6 data-v-142b09b6>print</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"Please select a text file"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>with</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>open</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>file_name<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span> <span class="token keyword" data-v-142b09b6 data-v-142b09b6>as</span> f<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    contents <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> f<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>read<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

contents <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> contents<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>replace<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"h"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"-"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
contents <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> contents<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>replace<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"p"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"-"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
contents <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> contents<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>replace<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"/"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"-"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
contents <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> contents<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>replace<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"*"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"-"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
contents <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> contents<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>upper<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
bar_group <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> re<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>findall<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>r"(?:[E,B,G,D,A,-]+\|[0-9-h|]+\n){6}"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>contents<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

<span class="token comment" data-v-142b09b6 data-v-142b09b6>#bar_group = re.findall(r"(?:\|[0-9-\*h\|]+\n){6}",contents)</span>


track    <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
channel  <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
time     <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>    <span class="token comment" data-v-142b09b6 data-v-142b09b6># In beats</span>
duration <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>1</span>    <span class="token comment" data-v-142b09b6 data-v-142b09b6># In beats</span>
tempo    <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>1000</span>   <span class="token comment" data-v-142b09b6 data-v-142b09b6># In BPM</span>
volume   <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>100</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># 0-127, as per the MIDI standard</span>

MyMIDI <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> MIDIFile<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token number" data-v-142b09b6 data-v-142b09b6>6</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>  <span class="token comment" data-v-142b09b6 data-v-142b09b6># One track, defaults to format 1 (tempo track is created</span>
                      <span class="token comment" data-v-142b09b6 data-v-142b09b6># automatically)</span>
MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>addTempo<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>track<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> time<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> tempo<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

interval <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>len</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>bar_group<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token number" data-v-142b09b6 data-v-142b09b6>0</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>split<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"\n"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span> <span class="token operator" data-v-142b09b6 data-v-142b09b6>-</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>1</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>for</span> b <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> bar_group<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>

    strings <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> b<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>split<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"\n"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
    strings <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span>x <span class="token keyword" data-v-142b09b6 data-v-142b09b6>for</span> x <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> strings <span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> x <span class="token operator" data-v-142b09b6 data-v-142b09b6>!=</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>''</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>
    e_count <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
    <span class="token keyword" data-v-142b09b6 data-v-142b09b6>for</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span>s <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>enumerate</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>strings<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>

        current_string <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> strings<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span>i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token number" data-v-142b09b6 data-v-142b09b6>0</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>
        <span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> current_string <span class="token keyword" data-v-142b09b6 data-v-142b09b6>not</span> <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> guitar_strings<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>keys<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
            current_string <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> string_notes<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span>i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>
        <span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> current_string <span class="token operator" data-v-142b09b6 data-v-142b09b6>==</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"E"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
            e_count <span class="token operator" data-v-142b09b6 data-v-142b09b6>+=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>1</span>
        <span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> e_count <span class="token operator" data-v-142b09b6 data-v-142b09b6>==</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>2</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
            current_string <span class="token operator" data-v-142b09b6 data-v-142b09b6>==</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"high_e"</span>

        track <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> guitar_strings<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span>current_string<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'track_num'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>

        s <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> s<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token number" data-v-142b09b6 data-v-142b09b6>1</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>
        s <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> s<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>replace<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'|'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>''</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
        s <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>list</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>s<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

        <span class="token keyword" data-v-142b09b6 data-v-142b09b6>for</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> pitch <span class="token keyword" data-v-142b09b6 data-v-142b09b6>in</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>enumerate</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>s<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
            volume <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>100</span>

            <span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> pitch <span class="token operator" data-v-142b09b6 data-v-142b09b6>==</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"\n"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
                <span class="token keyword" data-v-142b09b6 data-v-142b09b6>break</span>
            <span class="token keyword" data-v-142b09b6 data-v-142b09b6>if</span> pitch <span class="token operator" data-v-142b09b6 data-v-142b09b6>==</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"-"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
                volume <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>0</span>
                pitch <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token number" data-v-142b09b6 data-v-142b09b6>50</span>
            <span class="token keyword" data-v-142b09b6 data-v-142b09b6>print</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"adding note"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
            pitch <span class="token operator" data-v-142b09b6 data-v-142b09b6>=</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>int</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>pitch<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span> <span class="token operator" data-v-142b09b6 data-v-142b09b6>+</span> guitar_strings<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span>current_string<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>[</span><span class="token string" data-v-142b09b6 data-v-142b09b6>'note_val'</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>]</span>
            MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>addNote<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>track<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> channel<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> pitch<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> time <span class="token operator" data-v-142b09b6 data-v-142b09b6>+</span> i<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> duration<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> volume<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>

    time <span class="token operator" data-v-142b09b6 data-v-142b09b6>+=</span> interval<span class="token operator" data-v-142b09b6 data-v-142b09b6>*</span><span class="token number" data-v-142b09b6 data-v-142b09b6>8</span>

<span class="token keyword" data-v-142b09b6 data-v-142b09b6>with</span> <span class="token builtin" data-v-142b09b6 data-v-142b09b6>open</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span><span class="token string" data-v-142b09b6 data-v-142b09b6>"major-scale.mid"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>,</span> <span class="token string" data-v-142b09b6 data-v-142b09b6>"wb"</span><span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span> <span class="token keyword" data-v-142b09b6 data-v-142b09b6>as</span> output_file<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>:</span>
    MyMIDI<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>.</span>writeFile<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>(</span>output_file<span class="token punctuation" data-v-142b09b6 data-v-142b09b6>)</span>
</code></pre></div>
<p data-v-142b09b6 data-v-142b09b6>Here's me playing one of my favorite songs, you might recognize it!</p>
<blockquote class="instagram-media" data-instgrm-captioned="" data-instgrm-permalink="https://www.instagram.com/p/rg2gmyyFdC/" data-instgrm-version="8" style="background:#fff;border:0;border-radius:3px;box-shadow:0 0 1px 0 rgba(0,0,0,.5),0 1px 10px 0 rgba(0,0,0,.15);margin:1px;max-width:658px;padding:0;width:calc(100% - 2px)" data-v-142b09b6 data-v-142b09b6><div style="padding:8px" data-v-142b09b6 data-v-142b09b6> <div style="background:#f8f8f8;line-height:0;margin-top:40px;padding:50% 0;text-align:center;width:100%" data-v-142b09b6 data-v-142b09b6> <div style="background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC);display:block;height:44px;margin:0 auto -44px;position:relative;top:-22px;width:44px" data-v-142b09b6 data-v-142b09b6></div></div> <p style="margin:8px 0 0 0;padding:0 4px" data-v-142b09b6 data-v-142b09b6> <a href="https://www.instagram.com/p/rg2gmyyFdC/" target="_blank" style="color:#000;font-family:Arial,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:17px;text-decoration:none;word-wrap:break-word" data-v-142b09b6 data-v-142b09b6>Written in 1902, this catchy tune from Fransico Tárrega's 'Gran Vals' is now heard by an estimated 22,000 per second worldwide.. it is also a registered sound trademark of a billion dollar Finnish company 🎵 #franciscotárrega #tarrega #tárrega #classicalguitar #spanishguitarist #spain #instamusic #granvals #grandevalse #grandwaltz #crownmolding</a></p> <p style="color:#c9c8cd;font-family:Arial,sans-serif;font-size:14px;line-height:17px;margin-bottom:0;margin-top:8px;overflow:hidden;padding:8px 0 7px;text-align:center;text-overflow:ellipsis;white-space:nowrap" data-v-142b09b6 data-v-142b09b6>A post shared by <a href="https://www.instagram.com/briancaffey/" target="_blank" style="color:#c9c8cd;font-family:Arial,sans-serif;font-size:14px;font-style:normal;font-weight:400;line-height:17px" data-v-142b09b6 data-v-142b09b6> Brian</a> (@briancaffey) on <time datetime="2014-08-10T09:48:59+00:00" style="font-family:Arial,sans-serif;font-size:14px;line-height:17px" data-v-142b09b6 data-v-142b09b6>Aug 10, 2014 at 2:48am PDT</time></p></div></blockquote> <script async defer src="//www.instagram.com/embed.js" data-v-142b09b6 data-v-142b09b6></script></div> <div class="text-center pb-4 pt-8" data-v-142b09b6><button class="mc-btn rounded py-1 px-2" data-v-142b09b6>
        Show Disqus Comments 💬
      </button></div> <!----> <h1 data-v-142b09b6></h1></div></article> <div class="mx-auto max-w-6xl p-4 lg:px-16 text-center" data-v-7718c60c><hr class="mt-4" data-v-7718c60c> <div class="align-center py-4" data-v-7718c60c><div class="pb-4" data-v-7718c60c>
      Join my mailing list to get updated whenever I publish a new article.
    </div> <div class="flex align-center justify-center" data-v-5690d13b data-v-7718c60c><div id="mc_embed_signup" class="w-full md:w-1/2 flex-shrink justify-center" data-v-5690d13b><form id="mc-embedded-subscribe-form" action="https://github.us2.list-manage.com/subscribe/post?u=43a795784ca963e25903a0da6&id=9937fe4fc5" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate class="validate" data-v-5690d13b><div id="mc_embed_signup_scroll" class="grid grid-cols-1 sm:grid-cols-2 gap-4" data-v-5690d13b><input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Enter your email address" class="rounded mc text-center" data-v-5690d13b> <div aria-hidden="true" style="position:absolute;left:-5000px" data-v-5690d13b><input name="b_43a795784ca963e25903a0da6_9937fe4fc5" tabindex="-1" data-v-5690d13b></div> <div class="text-right" style="width:100%" data-v-5690d13b><input id="mc-embedded-subscribe" type="submit" name="subscribe" value="Subscribe" class="mc-btn rounded px-2 py-1 w-full" data-v-5690d13b></div></div></form></div></div></div> <hr data-v-7718c60c> <div class="py-4" data-v-7718c60c>
    Thanks for checking out my site!
  </div> <div class="pb-4" data-v-7718c60c>
    © 2024 Brian Caffey
  </div></div></div></div></div><script defer src="/_nuxt/static/1719270194/2018/04/26/generating-music-from-guitar-tabs-with-python.html/state.js"></script><script src="/_nuxt/6fe3673.js" defer></script><script src="/_nuxt/c259e4a.js" defer></script><script src="/_nuxt/8bfa011.js" defer></script><script src="/_nuxt/b575c49.js" defer></script><script src="/_nuxt/691d3dd.js" defer></script>
  </body>
</html>
