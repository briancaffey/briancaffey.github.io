<!doctype html>
<html data-n-head-ssr lang="en" data-n-head="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>Finding the best poker hand in five-card draw with python</title><meta data-n-head="ssr" charset="utf-8"><meta data-n-head="ssr" name="viewport" content="width=device-width,initial-scale=1"><meta data-n-head="ssr" data-hid="description" name="description" content="Brian Caffey's personal website"><meta data-n-head="ssr" property="og:title" content="Finding the best poker hand in five-card draw with python"><meta data-n-head="ssr" property="og:description" content="undefined"><meta data-n-head="ssr" property="og:image" content="https://briancaffey.github.io/static/poker.jpg"><link data-n-head="ssr" rel="icon" type="image/x-icon" href="/favicon.ico"><link rel="preload" href="/_nuxt/f25b52e.js" as="script"><link rel="preload" href="/_nuxt/6ac0880.js" as="script"><link rel="preload" href="/_nuxt/264ebc5.js" as="script"><link rel="preload" href="/_nuxt/babcb62.js" as="script"><link rel="preload" href="/_nuxt/83598e3.js" as="script"><style data-vue-ssr-id="38dfa7e4:0 f52d43e0:0 517a8dd7:0 fa7ff0ca:0 56b15182:0 a1962b66:0">/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:.35em .75em .625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}details{display:block}summary{display:list-item}[hidden],template{display:none}blockquote,dd,dl,figure,h1,h2,h3,h4,h5,h6,hr,p,pre{margin:0}button{background-color:transparent;background-image:none}button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}fieldset,ol,ul{margin:0;padding:0}ol,ul{list-style:none}html{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}hr{border-top-width:1px}img{border-style:solid}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{color:#a0aec0}input:-ms-input-placeholder,textarea:-ms-input-placeholder{color:#a0aec0}input::placeholder,textarea::placeholder{color:#a0aec0}[role=button],button{cursor:pointer}table{border-collapse:collapse}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}button,input,optgroup,select,textarea{padding:0;line-height:inherit;color:inherit}code,kbd,pre,samp{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace}audio,canvas,embed,iframe,img,object,svg,video{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}.container{width:100%}@media (min-width:640px){.container{max-width:640px}}@media (min-width:768px){.container{max-width:768px}}@media (min-width:1024px){.container{max-width:1024px}}@media (min-width:1280px){.container{max-width:1280px}}.bg-white{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))}.border-white{--border-opacity:1;border-color:#fff;border-color:rgba(255,255,255,var(--border-opacity))}.rounded{border-radius:.25rem}.rounded-md{border-radius:.375rem}.rounded-lg{border-radius:.5rem}.rounded-full{border-radius:9999px}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.border{border-width:1px}.cursor-pointer{cursor:pointer}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.table{display:table}.grid{display:grid}.contents{display:contents}.hidden{display:none}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.font-bold{font-weight:700}.h-3{height:.75rem}.h-4{height:1rem}.h-12{height:3rem}.h-32{height:8rem}.h-64{height:16rem}.text-sm{font-size:.875rem}.text-xl{font-size:1.25rem}.text-2xl{font-size:1.5rem}.text-3xl{font-size:1.875rem}.leading-8{line-height:2rem}.leading-9{line-height:2.25rem}.m-2{margin:.5rem}.m-4{margin:1rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-auto{margin-left:auto;margin-right:auto}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mb-4{margin-bottom:1rem}.-ml-1{margin-left:-.25rem}.-ml-3{margin-left:-.75rem}.-ml-20{margin-left:-5rem}.max-w-5xl{max-width:64rem}.max-w-6xl{max-width:72rem}.object-cover{-o-object-fit:cover;object-fit:cover}.p-3{padding:.75rem}.p-4{padding:1rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.px-1{padding-left:.25rem;padding-right:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.py-32{padding-top:8rem;padding-bottom:8rem}.pb-4{padding-bottom:1rem}.pt-8{padding-top:2rem}.pb-8{padding-bottom:2rem}.pt-16{padding-top:4rem}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.top-0{top:0}.right-0{right:0}.bottom-0{bottom:0}.left-0{left:0}.resize{resize:both}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.shadow-md{box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,.06)}.fill-current{fill:currentColor}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-black{--text-opacity:1;color:#000;color:rgba(0,0,0,var(--text-opacity))}.text-gray-500{--text-opacity:1;color:#a0aec0;color:rgba(160,174,192,var(--text-opacity))}.text-gray-600{--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))}.text-red-400{--text-opacity:1;color:#fc8181;color:rgba(252,129,129,var(--text-opacity))}.text-red-600{--text-opacity:1;color:#e53e3e;color:rgba(229,62,62,var(--text-opacity))}.uppercase{text-transform:uppercase}.visible{visibility:visible}.w-3{width:.75rem}.w-4{width:1rem}.w-12{width:3rem}.w-32{width:8rem}.w-full{width:100%}.z-10{z-index:10}.gap-4{grid-gap:1rem;gap:1rem}.gap-6{grid-gap:1.5rem;gap:1.5rem}.gap-8{grid-gap:2rem;gap:2rem}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.grid-cols-5{grid-template-columns:repeat(5,minmax(0,1fr))}.transform{--transform-translate-x:0;--transform-translate-y:0;--transform-rotate:0;--transform-skew-x:0;--transform-skew-y:0;--transform-scale-x:1;--transform-scale-y:1;transform:translateX(var(--transform-translate-x)) translateY(var(--transform-translate-y)) rotate(var(--transform-rotate)) skewX(var(--transform-skew-x)) skewY(var(--transform-skew-y)) scaleX(var(--transform-scale-x)) scaleY(var(--transform-scale-y))}.transition-all{transition-property:all}.transition{transition-property:background-color,border-color,color,fill,stroke,opacity,box-shadow,transform}.duration-150{transition-duration:.15s}.delay-150{transition-delay:.15s}@-webkit-keyframes spin{to{transform:rotate(1turn)}}@keyframes spin{to{transform:rotate(1turn)}}@-webkit-keyframes ping{75%,to{transform:scale(2);opacity:0}}@keyframes ping{75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{50%{opacity:.5}}@keyframes pulse{50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:none;-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@media (min-width:640px){.sm\:inline{display:inline}.sm\:hidden{display:none}.sm\:p-16{padding:4rem}.sm\:px-4{padding-left:1rem;padding-right:1rem}.sm\:w-2\/3{width:66.666667%}.sm\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:768px){.md\:flex{display:flex}.md\:hidden{display:none}.md\:px-4{padding-left:1rem;padding-right:1rem}.md\:w-1\/2{width:50%}.md\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media (min-width:1024px){.lg\:px-16{padding-left:4rem;padding-right:4rem}.lg\:px-32{padding-left:8rem;padding-right:8rem}.lg\:pl-64{padding-left:16rem}.lg\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:1280px){.xl\:pb-16{padding-bottom:4rem}}:root{--color:#243746;--color-primary:#158876;--color-secondary:#0e2233;--bg:#f3f5f4;--bg-secondary:#fff;--bg-code:#ddd;--border-color:#ddd}.dark-mode{--color:#ebf4f1;--color-primary:#41b38a;--color-secondary:#fdf9f3;--bg:#091a28;--bg-secondary:#071521;--bg-code:#ddd;--border-color:#0d2538}.sepia-mode{--color:#433422;--color-primary:#504231;--color-secondary:#504231;--bg:#f1e7d0;--bg-code:#ddd;--bg-secondary:#eae0c9;--border-color:#ded0bf}body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif;background-color:#f3f5f4;background-color:var(--bg);color:#243746;color:var(--color);transition:background-color .3s}a{color:#158876;color:var(--color-primary)}.py-05{padding-top:.125rem;padding-bottom:.125rem}.markdown{--text-opacity:1;color:#1a202c;color:rgba(26,32,44,var(--text-opacity));line-height:1.5;color:#0e2233;color:var(--color-secondary)}.markdown .token.operator{background:0 0}.markdown>*+*{margin-top:0;margin-bottom:1rem}.markdown li+li{margin-top:.25rem}.markdown li>p+p{margin-top:1.5rem;color:#158876;color:var(--color-primary)}.markdown img{margin:auto}.markdown a,.markdown strong{font-weight:600}.markdown strong a{font-weight:700}.markdown h1{font-size:2.25rem}.markdown h1,.markdown h2{border-color:#158876;border-color:var(--color-primary);line-height:1.25;border-bottom-width:1px;font-weight:600;margin-bottom:1rem;margin-top:1.5rem;padding-bottom:.5rem}.markdown h2{font-size:1.5rem}.markdown h3{line-height:1.375;font-size:1.125rem}.markdown h3,.markdown h4{border-color:#158876;border-color:var(--color-primary);font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown h4{line-height:1;font-size:1rem}.markdown h5{border-color:#158876;border-color:var(--color-primary)}.markdown h5,.markdown h6{line-height:1.25;font-size:.875rem;font-weight:600;margin-bottom:1rem;margin-top:1.5rem}.markdown blockquote,.markdown h6{--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))}.markdown blockquote{font-size:1rem;border-left-width:4px;--border-opacity:1;border-color:#e2e8f0;border-color:rgba(226,232,240,var(--border-opacity));padding-left:1rem;padding-right:1rem;border-color:#158876;border-color:var(--color-primary)}.markdown code{font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:.875rem;display:inline;background-color:#edf2f7;background-color:rgba(237,242,247,var(--bg-opacity));padding:.125rem .25rem;background-color:#ddd;background-color:var(--bg-code);color:#000}.markdown code,.markdown pre{--bg-opacity:1;border-radius:.25rem}.markdown pre{background-color:#f7fafc;background-color:rgba(247,250,252,var(--bg-opacity));padding:1rem}.markdown pre code{display:block;background-color:transparent;padding:0;overflow:visible;border-radius:0;color:#000}.markdown p{margin-bottom:10px}code[class*=language-],pre[class*=language-]{background:#ddd!important;background:var(--bg-code)!important;text-shadow:none!important}.markdown ul{list-style-type:disc}.markdown ol,.markdown ul{font-size:1rem;padding-left:2rem}.markdown ol{list-style-type:decimal}.markdown kbd{font-size:.75rem;display:inline-block;border-radius:.25rem;border-width:1px;padding:.125rem .25rem;vertical-align:middle;font-weight:400;font-family:Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.markdown table,td,th{font-size:1rem;border:1px solid #243746;border-color:var(--color)}.markdown table{overflow-x:scroll}.markdown td,.markdown th{border-width:1px;padding:.25rem .75rem}.markdown .highlight pre{--bg-opacity:1!important;background-color:#f7fafc!important;background-color:rgba(247,250,252,var(--bg-opacity))!important}.article-card{box-shadow:0 5px 10px 1px #0e2233;box-shadow:0 5px 10px 1px var(--color-secondary);height:100%}.article-card:hover{box-shadow:0 5px 15px 5px #158876;box-shadow:0 5px 15px 5px var(--color-primary)}hr{background-color:#243746;background-color:var(--color);border:none;height:1px}.menu-icon{background-color:#ddd;background-color:var(--border-color)}.menu-icon,.mobile-menu{color:#243746;color:var(--color)}.mobile-menu{background-color:#fff;background-color:var(--bg-secondary)}.btn{border-radius:1;border-color:#158876;border-color:var(--color-primary)}.btn:hover{background-color:#fff;background-color:var(--bg-secondary)}.hero{border-color:#158876;border-color:var(--color-primary)}.markdown{word-wrap:break-word}.markdown h2:before,.markdown h3:before{display:block;content:" ";margin-top:-85px;height:85px;visibility:hidden;pointer-events:none}.markdown h2>a,.markdown h3>a{margin-left:1.25rem}.markdown h2>a:before,.markdown h3>a:before{content:"#";font-weight:400;font-size:1.25rem;line-height:2rem;margin-left:-1.25rem;padding-right:.5rem;position:absolute;opacity:1}@media (min-width:1024px){.markdown h2>a,.markdown h3>a{margin-left:0}.markdown h2>a:before,.markdown h3>a:before{opacity:0}}.markdown h2:hover>a:before,.markdown h3:hover>a:before{opacity:1}& pre[class*=language-]{--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity));position:static}.mc{background-color:#f3f5f4;background-color:var(--bg);border-color:#158876;border-color:var(--color-primary);border-width:1px;color:#158876;color:var(--color-primary);justify-content:center;padding:5px 10px;border-radius:5px;width:100%}.mc-btn{color:#fff;color:var(--bg-secondary);background-color:#0e2233;background-color:var(--color-secondary);cursor:pointer}code[class*=language-],pre[class*=language-]{color:#000;background:0 0;text-shadow:0 1px #fff;font-family:Consolas,Monaco,"Andale Mono","Ubuntu Mono",monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}code[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,pre[class*=language-]::-moz-selection{text-shadow:none;background:#b3d4fc}code[class*=language-] ::selection,code[class*=language-]::selection,pre[class*=language-] ::selection,pre[class*=language-]::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.boolean,.token.constant,.token.deleted,.token.number,.token.property,.token.symbol,.token.tag{color:#905}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#690}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.class-name,.token.function{color:#dd4a68}.token.important,.token.regex,.token.variable{color:#e90}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.nuxt-progress{position:fixed;top:0;left:0;right:0;height:2px;width:0;opacity:1;transition:width .1s,opacity .4s;background-color:#000;z-index:999999}.nuxt-progress.nuxt-progress-notransition{transition:none}.nuxt-progress-failed{background-color:red}html{font-family:"Source Sans Pro",-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;font-size:16px;word-spacing:1px;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;box-sizing:border-box}*,:after,:before{box-sizing:border-box;margin:0}.button--green{display:inline-block;border-radius:4px;border:1px solid #3b8070;color:#3b8070;text-decoration:none;padding:10px 30px}.button--green:hover{color:#fff;background-color:#3b8070}.button--grey{display:inline-block;border-radius:4px;border:1px solid #35495e;color:#35495e;text-decoration:none;padding:10px 30px;margin-left:15px}.button--grey:hover{color:#fff;background-color:#35495e}span[data-v-20afb359]{position:absolute;left:50%;transform:translateX(-50%);text-align:center;top:2px}</style><link rel="preload" href="/_nuxt/static/1610690288/2018/01/02/checking-poker-hands-with-python.html/state.js" as="script"><link rel="preload" href="/_nuxt/static/1610690288/2018/01/02/checking-poker-hands-with-python.html/payload.js" as="script">
  </head>
  <body>
    <script data-n-head="ssr" data-hid="nuxt-color-mode-script" data-pbody="true">!function (){"use strict";var e=window,s=document,t=s.documentElement,n=["dark","light"],o=function(e){for(var t=e+"=",n=s.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}("nuxt-color-mode")||"system",a="system"===o?c():o;function i(e){var s=""+e+"-mode";t.classList?t.classList.add(s):t.className+=" "+s}function r(s){return e.matchMedia("(prefers-color-scheme"+s+")")}function c(){if(e.matchMedia&&"not all"!==r("").media)for(var s of n)if(r(":"+s).matches)return s;return"light"}i(a),e["__NUXT_COLOR_MODE__"]={preference:o,value:a,getColorScheme:c,addClass:i,removeClass:function(e){var s=""+e+"-mode";t.classList?t.classList.remove(s):t.className=t.className.replace(new RegExp(s,"g"),"")}}}();
</script><div data-server-rendered="true" id="__nuxt"><!----><div id="__layout"><div><div class="mx-auto grid grid-cols-3 py-2 px-2 sm:px-4 items-center max-w-6xl" data-v-b364ef96><div class="justify-left" data-v-b364ef96><a href="/" class="text-xl nuxt-link-active" data-v-b364ef96><span class="hidden sm:inline" data-v-b364ef96>Brian Caffey</span><span class="inline sm:hidden" data-v-b364ef96>JBC</span></a></div> <div class="justify-center flex" data-v-b364ef96><div class="grid items-center justify-center" data-v-b364ef96><ul class="flex px-4"><li class="md:px-4 px-1 cursor-pointer">
      🖥️
    </li><li class="md:px-4 px-1 cursor-pointer">
      🌞
    </li><li class="md:px-4 px-1 cursor-pointer">
      🌚
    </li><li class="md:px-4 px-1 cursor-pointer">
      ☕
    </li></ul></div></div> <div class="flex justify-end relative" data-v-b364ef96><div class="grid items-center justify-center" data-v-b364ef96><ul><li class="md:px-4 px-1 cursor-pointer">
      🇺🇸
    </li></ul> <div class="relative rounded-md -ml-3"><div class="absolute left-0 bg-white shadow-md rounded px-4 py-2 w-32 text mt-4 -ml-20" style="display:none"><a href="/2018/01/02/checking-poker-hands-with-python.html" aria-current="page" class="nuxt-link-exact-active nuxt-link-active">🇺🇸 English</a><a href="/fr/2018/01/02/checking-poker-hands-with-python.html">🇫🇷 Français</a><a href="/zh/2018/01/02/checking-poker-hands-with-python.html">🇨🇳 简体中文</a><a href="/ru/2018/01/02/checking-poker-hands-with-python.html">🇷🇺 Русский</a><a href="/jp/2018/01/02/checking-poker-hands-with-python.html">🇯🇵 日本語</a></div></div></div>  
    <nav data-v-ec6a03a4 data-v-b364ef96><ul class="items-right justify-end hidden md:flex" data-v-ec6a03a4><li class="px-4" data-v-ec6a03a4><a href="/blog" data-v-ec6a03a4>Blog</a></li> <li class="px-4" data-v-ec6a03a4><a href="/projects" data-v-ec6a03a4>Projects</a></li> <li class="px-4" data-v-ec6a03a4><a href="/contact" data-v-ec6a03a4>Contact</a></li></ul> <div class="flex justify-end md:hidden z-1000" data-v-ec6a03a4><button class="flex items-center px-3 py-2 border rounded menu-icon" data-v-ec6a03a4><svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" class="fill-current h-3 w-3" data-v-ec6a03a4><title data-v-ec6a03a4>Menu</title> <path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z" data-v-ec6a03a4></path></svg></button></div> <!----></nav></div></div> <article><img src="/static/poker.jpg" class="h-64 w-full object-cover"> <div class="mx-auto max-w-5xl px-2 sm:px-4 md:px-4 lg:px-16 mt-2"><h1 class="prose text-3xl leading-9">Finding the best poker hand in five-card draw with python</h1> <div class="flex flex-wrap -ml-1 py-2" data-v-1f8089c5><a href="/blog/tags/python" data-v-2b5535c8 data-v-1f8089c5><div class="px-2 text-sm shadow rounded-lg bg-white mx-1 mt-1 uppercase cursor-pointer" data-v-2b5535c8>
    python 🏷️
    <!----></div></a><a href="/blog/tags/poker" data-v-2b5535c8 data-v-1f8089c5><div class="px-2 text-sm shadow rounded-lg bg-white mx-1 mt-1 uppercase cursor-pointer" data-v-2b5535c8>
    poker 🏷️
    <!----></div></a></div> <p class="text-gray-500 mb-4">
      Last Updated on
      January 1, 2018
    </p> <div class="markdown nuxt-content"><p><img alt="png" src="/static/poker.jpg"></p>
<p>I recently took a Hackerrank challenge for a job application that involved poker. I'm not a poker player, so I had a brief moment of panic as I read over the problem the description. In this article I want to do some reflection on how I approached the problem.</p>
<h1 id="the-problem"><a href="#the-problem" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>The Problem</h1>
<p>The hackerrank question asked me to write a program that would determine the best poker hand possible in <a href="https://en.wikipedia.org/wiki/Five-card_draw" rel="nofollow noopener noreferrer" target="_blank">five-card draw</a> poker. We are given 10 cards, the first 5 are the current hand, and the second 5 are the next five cards in the deck. We assume that we can see the next five cards (they are not hidden). We want to exchange any <code>n</code> number of cards (where <code>n &lt;= 5</code>) in our hand for the next <code>n</code> cards in the deck. For example, we can take out any combination of 2 cards from the hand we are given, but we must replace these two cards with the next two cards from the deck (we can't pick any two cards from the deck).</p>
<h1 id="evaluating-hands"><a href="#evaluating-hands" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Evaluating hands</h1>
<p>Suit and value make up the value of playing cards. For example, you can have a 3 of clubs. 3 is the value, clubs is the suit. We can represent this as <code>3C</code>.</p>
<p><strong>Suits</strong></p>
<p>Clubs C
Spades S
Heart H
Diamonds D</p>
<p><strong>Value (Rank)</strong></p>
<p>2, 3, 4, 5, 6, 7, 8, 9, 10, Jack, Queen, King, Ace</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-text"><code>values = {"2":2, "3":3, "4":4, "5":5, "6":6, "7":7, "8":8, "9":9, "10":10, "J":11, "Q":12, "K":13, "A":14}
</code></pre></div>
<h2 id="hands"><a href="#hands" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Hands</h2>
<p>Here are the hands of poker</p>
<ol>
<li>
<p>Royal flush (the problem didn't ask me to consider Royal Flush)</p>
<blockquote>
<p>A, K, Q, J, 10, all the same suit.</p>
</blockquote>
</li>
<li>
<p>Straight flush</p>
<blockquote>
<p>Five cards in a sequence, all in the same suit. <strong>Ace can either come before 2 or come after King.</strong></p>
</blockquote>
</li>
<li>
<p>Four of a kind</p>
<blockquote>
<p>All four cards of the same rank.</p>
</blockquote>
</li>
<li>
<p>Full house</p>
<blockquote>
<p>Three of a kind with a pair.</p>
</blockquote>
</li>
<li>
<p>Flush</p>
<blockquote>
<p>Any five cards of the same suit, but not in a sequence.</p>
</blockquote>
</li>
<li>
<p>Straight</p>
<blockquote>
<p>Five cards in a sequence, but not of the same suit.</p>
</blockquote>
</li>
<li>
<p>Three of a kind</p>
<blockquote>
<p>Three cards of the same rank.</p>
</blockquote>
</li>
<li>
<p>Two pair</p>
<blockquote>
<p>Two different pairs.</p>
</blockquote>
</li>
<li>
<p>Pair</p>
<blockquote>
<p>Two cards of the same rank.</p>
</blockquote>
</li>
<li>
<p>High Card</p>
<blockquote>
<p>When you haven't made any of the hands above, the highest card plays.
In the example below, the jack plays as the highest card.</p>
</blockquote>
</li>
</ol>
<h2 id="evaluating-a-hand-of-cards"><a href="#evaluating-a-hand-of-cards" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Evaluating a hand of cards</h2>
<p>A hand is five cards. The first thing I did was write out functions to evaluate if a group of 5 cards satisfies the conditions of one of the ten hands.</p>
<p>Here's a sample hand:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-python"><code>hand <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"3S"</span><span class="token punctuation">,</span> <span class="token string">"JC"</span><span class="token punctuation">,</span> <span class="token string">"QD"</span><span class="token punctuation">,</span> <span class="token string">"5D"</span><span class="token punctuation">,</span> <span class="token string">"AH"</span><span class="token punctuation">]</span>
</code></pre></div>
<p>To write functions, I reached for using 2 important python features: <code>set</code> and <code>defaultdict</code>.</p>
<p>Here's an example of a simple function to detect a flush, a hand with cards of all the same suit:</p>
<h2 id="checking-a-flush"><a href="#checking-a-flush" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Checking a flush</h2>
<div class="nuxt-content-highlight"><pre class="line-numbers language-python"><code><span class="token keyword">def</span> <span class="token function">check_flush</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    suits <span class="token operator">=</span> <span class="token punctuation">[</span>h<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> h <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>suits<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
      <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre></div>
<p>This function creates a list of the suits in our hand, and then counts the unique elements in that list by making it a set. If the length of the set is 1, then all the cards in the hand must be of the same suit.</p>
<p>But wait, what if we have a straight flush? Also, a hand that satisfies a flush could also be described as a two pair hand. The problem asked me to find the highest possible hand for a given set of cards, so I tried to keep things simple by writing a <code>check_hand()</code> function that checks each hand starting from straight flush down to high card. As soon as a condition for a hand was satisfied, I returned a number that corresponded to the strength of the hand (1 for high card up to 10 for straight flush). The problem didn't include Royal flush, so I will not include that here.</p>
<p>Here's the <code>check_hand</code> function:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-python"><code><span class="token keyword">def</span> <span class="token function">check_hand</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> check_straight_flush<span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">9</span>
    <span class="token keyword">if</span> check_four_of_a_kind<span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">8</span>

    <span class="token punctuation">[</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
    <span class="token keyword">if</span> check_two_pair<span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">3</span>
    <span class="token keyword">if</span> check_pair<span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token number">2</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
</code></pre></div>
<p>This function starts checking the most valuable hands. After it checks the second to lowest hand (pair), it returns a value of 1. This value of 1 corresponds to the "highest card" hand. Since I'm not comparing the relative value of hands, it doesn't matter what the highest card is, so the number just represents the <em>type</em> of hand that is the strongest.</p>
<h2 id="other-hands"><a href="#other-hands" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Other hands</h2>
<p>Here are the all of the functions I used to detect hands:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-python"><code>card_order_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">"2"</span><span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">:</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">:</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string">"6"</span><span class="token punctuation">:</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token string">"7"</span><span class="token punctuation">:</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token string">"8"</span><span class="token punctuation">:</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token string">"9"</span><span class="token punctuation">:</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token string">"T"</span><span class="token punctuation">:</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token string">"J"</span><span class="token punctuation">:</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token string">"Q"</span><span class="token punctuation">:</span><span class="token number">12</span><span class="token punctuation">,</span> <span class="token string">"K"</span><span class="token punctuation">:</span><span class="token number">13</span><span class="token punctuation">,</span> <span class="token string">"A"</span><span class="token punctuation">:</span><span class="token number">14</span><span class="token punctuation">}</span>

<span class="token keyword">def</span> <span class="token function">check_straight_flush</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">if</span> check_flush<span class="token punctuation">(</span>hand<span class="token punctuation">)</span> <span class="token keyword">and</span> check_straight<span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_four_of_a_kind</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    value_counts <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> values<span class="token punctuation">:</span>
        value_counts<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">if</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>value_counts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_full_house</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    value_counts <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> values<span class="token punctuation">:</span>
        value_counts<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">if</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>value_counts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_flush</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    suits <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>suits<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_straight</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    value_counts <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> values<span class="token punctuation">:</span>
        value_counts<span class="token punctuation">[</span>v<span class="token punctuation">]</span> <span class="token operator">+=</span> <span class="token number">1</span>
    rank_values <span class="token operator">=</span> <span class="token punctuation">[</span>card_order_dict<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> values<span class="token punctuation">]</span>
    value_range <span class="token operator">=</span> <span class="token builtin">max</span><span class="token punctuation">(</span>rank_values<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token builtin">min</span><span class="token punctuation">(</span>rank_values<span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token builtin">len</span><span class="token punctuation">(</span><span class="token builtin">set</span><span class="token punctuation">(</span>value_counts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword">and</span> <span class="token punctuation">(</span>value_range<span class="token operator">==</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token comment">#check straight with low Ace</span>
        <span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">"A"</span><span class="token punctuation">,</span> <span class="token string">"2"</span><span class="token punctuation">,</span> <span class="token string">"3"</span><span class="token punctuation">,</span> <span class="token string">"4"</span><span class="token punctuation">,</span> <span class="token string">"5"</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
            <span class="token keyword">return</span> <span class="token boolean">True</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_three_of_a_kind</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    value_counts <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> values<span class="token punctuation">:</span>
        value_counts<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">if</span> <span class="token builtin">set</span><span class="token punctuation">(</span>value_counts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token builtin">set</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_two_pairs</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    value_counts <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> values<span class="token punctuation">:</span>
        value_counts<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">if</span> <span class="token builtin">sorted</span><span class="token punctuation">(</span>value_counts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>

<span class="token keyword">def</span> <span class="token function">check_one_pairs</span><span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">:</span>
    values <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token keyword">for</span> i <span class="token keyword">in</span> hand<span class="token punctuation">]</span>
    value_counts <span class="token operator">=</span> defaultdict<span class="token punctuation">(</span><span class="token keyword">lambda</span><span class="token punctuation">:</span><span class="token number">0</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> v <span class="token keyword">in</span> values<span class="token punctuation">:</span>
        value_counts<span class="token punctuation">[</span>v<span class="token punctuation">]</span><span class="token operator">+=</span><span class="token number">1</span>
    <span class="token keyword">if</span> <span class="token number">2</span> <span class="token keyword">in</span> value_counts<span class="token punctuation">.</span>values<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">True</span>
    <span class="token keyword">else</span><span class="token punctuation">:</span>
        <span class="token keyword">return</span> <span class="token boolean">False</span>
</code></pre></div>
<p><code>defaultdict</code> is a great built-in that is good to use when you don't know what elements will be in your dictionary, but you know what the initial values of any key that could be added should be. We don't need it here, but the alternative would be to write a very long dictionary where keys are the possible card values and the values of each key is 0.</p>
<h1 id="finding-the-best-hand"><a href="#finding-the-best-hand" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Finding the best hand</h1>
<p>It would certainly be cleaner and more efficient to write out the above functions into one large function, but I wanted to keep things simple as I was under time constraints.</p>
<p>The next step in the problem is to determine the best possible hand we can get given the hand we are dealt and the 5 cards on top of the deck. I decided to first solve this problem with brute force. Here was my logic for this part: use <code>itertools</code> to get all combinations of groups of 0, 1, 2, 3, 4 and 5 cards from my hand and add the first <code>5 - n</code> cards from the deck so we get a five card deck. For each combination of cards we can run <code>check_hand()</code> and keep track of the highest rank hand, and then return that hand as the best hand. Here's the code I wrote for this part of the problem:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-python"><code><span class="token keyword">from</span> itertools <span class="token keyword">import</span> combinations

hand_dict <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">9</span><span class="token punctuation">:</span><span class="token string">"straight-flush"</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">:</span><span class="token string">"four-of-a-kind"</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">:</span><span class="token string">"full-house"</span><span class="token punctuation">,</span> <span class="token number">6</span><span class="token punctuation">:</span><span class="token string">"flush"</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">:</span><span class="token string">"straight"</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">:</span><span class="token string">"three-of-a-kind"</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">:</span><span class="token string">"two-pairs"</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span><span class="token string">"one-pair"</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span><span class="token string">"highest-card"</span><span class="token punctuation">}</span>

<span class="token comment">#exhaustive search using itertools.combinations</span>
<span class="token keyword">def</span> <span class="token function">play</span><span class="token punctuation">(</span>cards<span class="token punctuation">)</span><span class="token punctuation">:</span>
    hand <span class="token operator">=</span> cards<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
    deck <span class="token operator">=</span> cards<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    best_hand <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> i <span class="token keyword">in</span> <span class="token builtin">range</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
        possible_combos <span class="token operator">=</span> combinations<span class="token punctuation">(</span>hand<span class="token punctuation">,</span> <span class="token number">5</span><span class="token operator">-</span>i<span class="token punctuation">)</span>
        <span class="token keyword">for</span> c <span class="token keyword">in</span> possible_combos<span class="token punctuation">:</span>
            current_hand <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">+</span> deck<span class="token punctuation">[</span><span class="token punctuation">:</span>i<span class="token punctuation">]</span>
            hand_value <span class="token operator">=</span> check_hand<span class="token punctuation">(</span>current_hand<span class="token punctuation">)</span>
            <span class="token keyword">if</span> hand_value <span class="token operator">></span> best_hand<span class="token punctuation">:</span>
                best_hand <span class="token operator">=</span> hand_value

    <span class="token keyword">return</span> hand_dict<span class="token punctuation">[</span>best_hand<span class="token punctuation">]</span>
</code></pre></div>
<h1 id="checking-test-cases"><a href="#checking-test-cases" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Checking test cases</h1>
<p>Lastly, I need to check each hand and print out the best hand possible. Here's the loop I wrote to do this:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-python"><code><span class="token keyword">for</span> i <span class="token keyword">in</span> sys<span class="token punctuation">.</span>stdin<span class="token punctuation">.</span>readlines<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span>
    cards <span class="token operator">=</span> <span class="token builtin">list</span><span class="token punctuation">(</span><span class="token builtin">map</span><span class="token punctuation">(</span><span class="token keyword">lambda</span> x<span class="token punctuation">:</span>x<span class="token punctuation">,</span> i<span class="token punctuation">.</span>split<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    hand <span class="token operator">=</span> cards<span class="token punctuation">[</span><span class="token punctuation">:</span><span class="token number">5</span><span class="token punctuation">]</span>
    deck <span class="token operator">=</span> cards<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">:</span><span class="token punctuation">]</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">"Hand:"</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>hand<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Deck:"</span><span class="token punctuation">,</span> <span class="token string">" "</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span>deck<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">"Best hand:"</span><span class="token punctuation">,</span> play<span class="token punctuation">(</span>cards<span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div>
<p>This will accept one round of cards per line:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-text"><code>2C 3D 4S 5D 7H KD QH 6C JH 2D
</code></pre></div>
<p>and it will output the following:</p>
<div class="nuxt-content-highlight"><pre class="line-numbers language-text"><code>Hand: 2C 3D 4S 5D 7H Deck: KD QH 6C JH 2D Best hand: straight
</code></pre></div>
<h1 id="optimization"><a href="#optimization" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Optimization</h1>
<p>This was an interesting problem to deal with as the solution contained several parts that worked together. While solving the problem I aimed worked through to the end leaving some parts to come back to that I felt confident in solving. Instead of writing each function to check differnt hands at the beginning, I filled most of these functions with <code>pass</code> and moved on to write the next part that involves checking each different combination of cards. Recently having worked through python's <code>itertools</code> exercises on Hackerrank, the <code>combinations</code> functions was fresh in my mind.</p>
<p>While I was able to arrive at a solution that satisfied the test cases, I did not have time to think about the efficiency or Big O analysis of the problem.</p>
<p>There is obviously some refactoring that I could do to make things cleaner. With more time I would take an object oriented approach by making classes for cards and hands, and adding class methods to evaluate the hands.</p>
<p>For each round, we have to run <code>check_hand()</code> on each hand combination. Let's think about how many hands we have to evaluate:</p>
<p>We have to consider combinations of cards formed by taking out groups of 0, 1, 2, 3, 4 and 5 cards and adding the next number of cards in the deck that bring the total card count to 5, which means we have to do 5C0 + 5C1 + 5C2 + 5C3 + 5C4 + 5C5 calls to <code>check_hand()</code>. So the sum of total calls is 1 + 5 + 10 + 10 + 5 + 1 = <strong>32</strong>.</p>
<p>For each of these 32 calls that happen when we run <code>play()</code>, <code>check_hands()</code> runs through each of the <code>check_</code> functions starting with the highest value hand. As soon as it finds a "match", <code>check_hands()</code> returns a number value (<code>hand_value</code>) corresponding to straight flush, four of a kind, etc. This value is then compared with the highest value that has been previously found (<code>best_hand</code>) and replaces that value if the current hand's hand rank has a higher value.</p>
<p>I'm not sure if there is faster way to find the best hand than the brute force method I implemented.</p></div> <div class="fixed bg-white shadow left-0 bottom-0 rounded-full p-4 m-4 cursor-pointer h-4 w-4" data-v-20afb359><span class="text-black" data-v-20afb359> 🗣 </span></div> <div class="text-center pb-4 pt-8"><button class="mc-btn rounded py-1 px-2">
        Show Disqus Comments 💬
      </button></div> <!----> <h1></h1></div></article> <div class="mx-auto max-w-6xl p-4 lg:px-16 text-center" data-v-9723a4c2><hr class="mt-4" data-v-9723a4c2> <div class="mx-auto py-4" data-v-9723a4c2><div class="pb-4" data-v-9723a4c2>
      Join my mailing list to get updated whenever I publish a new article.
    </div> <div class="mx-auto" data-v-c067421e data-v-9723a4c2><div id="mc_embed_signup" class="mx-auto w-full md:w-1/2" data-v-c067421e><form id="mc-embedded-subscribe-form" action="https://github.us2.list-manage.com/subscribe/post?u=43a795784ca963e25903a0da6&id=9937fe4fc5" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate class="validate" data-v-c067421e><div id="mc_embed_signup_scroll" class="grid grid-cols-1 sm:grid-cols-2 gap-4 items-center" data-v-c067421e><input id="mce-EMAIL" type="email" name="EMAIL" placeholder="Enter your email address" class="rounded mc text-center" data-v-c067421e> <div aria-hidden="true" style="position:absolute;left:-5000px" data-v-c067421e><input name="b_43a795784ca963e25903a0da6_9937fe4fc5" tabindex="-1" data-v-c067421e></div> <div data-v-c067421e><input id="mc-embedded-subscribe" type="submit" name="subscribe" value="Subscribe" class="mc-btn rounded px-2 py-1 w-full" data-v-c067421e></div></div></form></div></div></div> <hr data-v-9723a4c2> <div class="py-4" data-v-9723a4c2>Thanks for checking out my site!</div> <div class="pb-4" data-v-9723a4c2>© 2020 Brian Caffey</div></div></div></div></div><script defer src="/_nuxt/static/1610690288/2018/01/02/checking-poker-hands-with-python.html/state.js"></script><script src="/_nuxt/f25b52e.js" defer></script><script src="/_nuxt/83598e3.js" defer></script><script src="/_nuxt/6ac0880.js" defer></script><script src="/_nuxt/264ebc5.js" defer></script><script src="/_nuxt/babcb62.js" defer></script>
  </body>
</html>
